import{r as l,j as e,R as ge}from"./react-JHr-MqlU.js";import{R as os,c as pt}from"./react-dom-ByPjVLjt.js";import{N as Ne,B as jt}from"./react-router-dom-C8MBRXQb.js";import{c as Re,a as ks,d as ft,e as fe,f as Nt}from"./react-router-CrFtL5GL.js";import{M as bt,a as gt,b as vt,c as Ct,B as ys,F as yt,L as St,I as wt}from"./reactstrap-Sv9f_Q5O.js";import{B as Pt}from"./react-chartjs-2-B_DtYEyI.js";import{C as kt,a as _t,L as It,b as At,p as Mt,c as Dt,d as Lt}from"./chart.js-zNwYC2Re.js";import"./classnames-C9FZUsQl.js";import"./scheduler-DYLXRpC5.js";import"./@remix-run-TLZCGUFM.js";import"./prop-types-ZMHxiqrO.js";import"./react-transition-group-Bm7DLXUO.js";import"./@babel-G6YR9G09.js";import"./@kurkle-D8fDXNIl.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const m of n)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&t(h)}).observe(document,{childList:!0,subtree:!0});function o(n){const m={};return n.integrity&&(m.integrity=n.integrity),n.referrerPolicy&&(m.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?m.credentials="include":n.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function t(n){if(n.ep)return;n.ep=!0;const m=o(n);fetch(n.href,m)}})();const ve={ADMIN:"admin",ENGINEER:"engineer",PROCUREMENT:"procurement",VIEWER:"viewer"},Pe={PSE:"PSE",PCD:"PCD"},Ss={[Pe.PSE]:{[ve.ADMIN]:{general:{visible:!0,editable:!0},pse:{visible:!0,editable:!0},packing:{visible:!0,editable:!0},images:{visible:!0,editable:!0},logistic:{visible:!0,editable:!0}},[ve.ENGINEER]:{general:{visible:!0,editable:!0},pse:{visible:!0,editable:!0},packing:{visible:!0,editable:!0},images:{visible:!0,editable:!0},logistic:{visible:!1,editable:!1}},[ve.VIEWER]:{general:{visible:!0,editable:!1},pse:{visible:!0,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!1,editable:!1}}},[Pe.PCD]:{[ve.PROCUREMENT]:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!0,editable:!0}},[ve.VIEWER]:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!0,editable:!1}}},default:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!1,editable:!1}}},_s=l.createContext(null),Tt=[{username:"khedi.asmoro",password:"1",department:Pe.PSE,role:ve.ADMIN},{username:"ujang.jayadi",password:"1",department:Pe.PSE,role:ve.ENGINEER},{username:"anton",password:"1",department:Pe.PSE,role:ve.ENGINEER},{username:"hanifa",password:"2",department:Pe.PCD,role:ve.PROCUREMENT},{username:"viewer.pse",password:"1",department:Pe.PSE,role:ve.VIEWER},{username:"viewer.pcd",password:"1",department:Pe.PCD,role:ve.VIEWER}];function Et({children:s}){const[a,o]=l.useState(null),t=Re(),n=(h,u)=>{const d=Tt.find(c=>c.username===h&&c.password===u);if(d){const{password:c,...r}=d;return o(r),t("/"),!0}else return!1},m=()=>{o(null),t("/login")};return e.jsx(_s.Provider,{value:{user:a,login:n,logout:m},children:s})}function ke(){return l.useContext(_s)}const Is=[["848400K010","SWITCH ASSY, BACK DOOR OPENER","TRI"],["848400K030","SWITCH ASSY, BACK DOOR OPENER","TRI"],["893400K010","COMPUTER ASSY, CLEARANCE WARNING","DSI"],["131110E010","RING, COMPRESSION, NO.1","PT.NTPRI"],["131110E020","RING, COMPRESSION, NO.1","PT.NTPRI"],["256300E010","VALVE ASSY, EGR, NO.2","AISAN NASMOCO INDUSTRI"],["261000E020","BODY ASSY, DIESEL THROTTLE","AISAN NASMOCO INDUSTRI"],["122810Y11000","HANGER, ENGINE, NO.1","SETIA GUNA SEJATI"],["130500Y02000","GEAR ASSY, CAMSHAFT TIMING","DENSO INDONESIA CORPORATION (FAJAR)"],["25051BZ15000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["25051BZ26000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["22030BZ15000","BODY ASSY, THROTTLE W/MOTOR","AISAN NASMOCO INDUSTRI"],["90210T000200","WASHER, SEAL","ARAI RUBBER SEAL INDONESIA"],["90430T002300","GASKET","ARAI RUBBER SEAL INDONESIA"],["111150Y03000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["11115BZ16000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["171730Y03000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["17173BZ13000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["115110Y04000","CAP, CRANKSHAFT BEARING, NO.1","AT INDONESIA"],["115130Y04000","CAP, CRANKSHAFT BEARING, NO.3","AT INDONESIA"],["16261BZ75000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16261BZ76000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16264BZ38000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16264BZ39000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16282BZ11000","HOSE, WATER BY-PASS, NO.5","CATURINDO AGUNGJAYA RUBBER"],["89467BZ02000","SENSOR, AIR FUEL RATIO","DENSO INDONESIA CORPORATION (SIP C)"],["111910Y01000","TUBE, SPARK PLUG","FUJIKINZOKU INDONESIA"],["90406T001100","TUBE, UNION","FUJIKINZOKU INDONESIA"],["90406T001300","TUBE, UNION","FUJIKINZOKU INDONESIA"],["23209BZ10000","INJECTOR SET, FUEL","HITACHI ASTEMO BEKASI POWERTRAIN SYS"],["90466T006100","CLIP, HOSE","INDOCIPTA HASTA PERKASA"],["90466T006200","CLIP, HOSE","INDOCIPTA HASTA PERKASA"],["32101BZ10000","GEAR SUB-ASSY DRIVE PLATE & RING","INTI GANDA PERDANA"],["157080Y04000","NOZZLE SUB-ASSY, OIL","ITOKIN"],["90360T001200","BALL","JTEKT INDONESIA"],["90105T027300","BOLT, FLANGE","MEIDOH INDONESIA"],["90119T044400","BOLT, W/WASHER","MEIDOH INDONESIA"],["9004A1020000","BOLT WASHER BASED HEAD HEXAGON","MEIDOH INDONESIA"]],Q=s=>a=>{const o=a&&a.target&&typeof a.target.value=="string"?a.target.value:a;s(String(o).toUpperCase())};function Ie({show:s=!1,onClose:a,onSelect:o,zIndex:t=4e3,mode:n="multi"}){function m(T,k,G){const J=((T+1)*9301+49297)%233280/233280;return Math.floor(k+J*(G-k+1))}const h=Is.map((T,k)=>{const G=m(k,50,1400),z=m(k+3,20,600),J=m(k+7,10,800),q=Number((G*z*J/1e6).toFixed(3)),Z="P"+String(1e5+m(k,1,9999)),H="S"+String(200+k%999);return{partNo:T[0],partName:T[1],supplierName:T[2],parentPartNo:Z,supplierId:H,L:G,W:z,H:J,boxM3:q}}),[u,d]=l.useState(""),[c,r]=l.useState(""),[p,i]=l.useState(""),[j,P]=l.useState({}),[N,w]=l.useState(!1),[x,f]=l.useState(n==="multi"?{}:null),[g,v]=l.useState(1),[S,D]=l.useState(10);if(l.useEffect(()=>(s?(d(""),r(""),i(""),P({}),w(!1),f(n==="multi"?{}:null),v(1),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),!s)return null;function $(){if(!N)return[];const T=(j.partNo||"").trim().toLowerCase(),k=(j.partName||"").trim().toLowerCase(),G=(j.supplierName||"").trim().toLowerCase();return h.filter(z=>!(T&&!z.partNo.toLowerCase().includes(T)||k&&!z.partName.toLowerCase().includes(k)||G&&!z.supplierName.toLowerCase().includes(G)))}const _=$(),I=_.length,C=Math.max(1,Math.ceil(I/S)),U=_.slice((g-1)*S,g*S),y=()=>{v(1),P({partNo:u,partName:c,supplierName:p}),w(!0)},A=()=>{d(""),r(""),i(""),P({}),w(!1),v(1)};function L(T){f(n==="multi"?k=>({...k,[T]:!k[T]}):T)}function W(T){if(n!=="multi")return;const k=(g-1)*S,G={};U.forEach((z,J)=>{G[k+J]=T}),f(z=>({...z,...G}))}function se(){if(n==="multi"){const T=Object.keys(x).filter(k=>x[k]).map(k=>_[Number(k)]);o&&o(T),a&&a()}else if(x!==null){const T=_[x];o&&o(T),a&&a()}else a&&a()}function ae(T){v(Math.min(Math.max(1,T),C))}const M={flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},Y={position:"sticky",top:0,zIndex:5,background:"white",padding:"1rem 1rem 0.5rem 1rem",borderBottom:"1px solid #e9ecef"},E={overflow:"auto",padding:"0 1rem 1rem 1rem",flex:"1 1 auto"};return e.jsx("div",{className:"part-picker-modal-backdrop",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:t,display:"flex",alignItems:"center",justifyContent:"center"},onMouseDown:T=>{T.target===T.currentTarget&&a()},children:e.jsxs("div",{className:"part-picker-modal",style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.2)",zIndex:t+1,width:"min(90vw, 1200px)",position:"relative",display:"flex",flexDirection:"column",height:"min(90vh, 900px)"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"Select Parts"})}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:M,children:[e.jsx("div",{style:Y,children:e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-12 col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{value:u,onChange:Q(d),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part Name"}),e.jsx("input",{value:c,onChange:Q(r),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{value:p,onChange:Q(i),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-3 d-flex",children:[e.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:y,children:"Search"}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:A,children:"Clear"})]})]})}),e.jsx("div",{style:E,children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-striped table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:36},children:n==="multi"&&e.jsx("input",{type:"checkbox",onChange:T=>W(T.target.checked)})}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Part Name"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Supplier ID"}),e.jsx("th",{children:"Parent Part No"}),e.jsx("th",{children:"L (mm)"}),e.jsx("th",{children:"W (mm)"}),e.jsx("th",{children:"H (mm)"}),e.jsx("th",{children:"Box M3"})]})}),e.jsx("tbody",{children:_.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"text-center text-muted py-4",children:N?"No Data Found":"Click Search to view parts"})}):U.map((T,k)=>{const G=(g-1)*S+k;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:n==="multi"?e.jsx("input",{type:"checkbox",checked:!!x[G],onChange:()=>L(G)}):e.jsx("input",{type:"radio",name:"part-picker-radio",checked:x===G,onChange:()=>L(G)})}),e.jsx("td",{children:T.partNo}),e.jsx("td",{className:"text-left",children:T.partName}),e.jsx("td",{children:T.supplierName}),e.jsx("td",{children:T.supplierId}),e.jsx("td",{children:T.parentPartNo}),e.jsx("td",{children:T.L}),e.jsx("td",{children:T.W}),e.jsx("td",{children:T.H}),e.jsx("td",{children:T.boxM3})]},G)})})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>ae(1),children:"<<"}),e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>ae(Math.max(1,g-1)),children:"<"}),[...Array(C).keys()].map(T=>e.jsx("button",{className:`btn btn-sm mr-1 ${g===T+1?"btn-primary":"btn-light"}`,onClick:()=>ae(T+1),children:T+1},T)),e.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>ae(Math.min(C,g+1)),children:">"}),e.jsxs("span",{className:"ml-2 small text-muted",children:["Total: ",I]})]}),e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:se,children:"Add Selected"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:a,children:"Cancel"})]})]})]})})}const Rt=({filters:s,setters:a,onSearch:o,onClear:t,onPersonPicker:n,onDestinationPicker:m,destinations:h})=>{const[u,d]=l.useState(!1),c=r=>{a.setPartNo(r.partNo),a.setPartName(r.partName),a.setSupplierCode(r.supplierId),a.setSupplierName(r.supplierName)};return[...new Set(h.map(r=>r.destCode))],e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CPS/PSI/ECI No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.cpsNo,onChange:r=>a.setCpsNo(r.target.value),placeholder:"CPS/PSI/ECI No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CFC/Model"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.model,onChange:r=>a.setModel(r.target.value),placeholder:"Model"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.destCode,onChange:r=>a.setDestCode(r.target.value),placeholder:"Dest Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:m,children:e.jsx("i",{className:"fas fa-search"})})}),e.jsx("input",{type:"text",className:"form-control form-control-sm ml-2",value:s.destCountry,readOnly:!0,placeholder:"Country Code - Country"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Part No - Part Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.partNo,onChange:r=>a.setPartNo(r.target.value),placeholder:"Part No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>d(!0),children:e.jsx("i",{className:"fas fa-search"})})}),e.jsx("input",{type:"text",className:"form-control form-control-sm ml-2",value:s.partName,readOnly:!0,placeholder:"Part Name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"From"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.fromUser,onChange:r=>a.setFromUser(r.target.value),placeholder:"From"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Ref CPS No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.refCpsNo,onChange:r=>a.setRefCpsNo(r.target.value),placeholder:"Ref CPS No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.cfcPjt,onChange:r=>a.setCfcPjt(r.target.value),placeholder:"CFC/PJT"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CPS/PSI/ECI Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:s.cpsPsiEci,onChange:r=>a.setCpsPsiEci(r.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"CPS",children:"CPS"}),e.jsx("option",{value:"PSI",children:"PSI"}),e.jsx("option",{value:"ECI",children:"ECI"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code - Supplier Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm mr-2",value:s.supplierCode,readOnly:!0,placeholder:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.supplierName,readOnly:!0,placeholder:"Supplier Name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"To"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.toUser,onChange:r=>a.setToUser(r.target.value),placeholder:"To"})]})]})]}),e.jsx("div",{className:"row mt-2",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mr-2",onClick:o,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:t,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx(Ie,{show:u,onClose:()=>d(!1),onSelect:c,mode:"single"})]})};function Oe({currentPage:s,totalPages:a,totalItems:o,pageSize:t,onPageChange:n,className:m=""}){const h=()=>{if(a<=1)return null;const u=[],d=5;let c=Math.max(1,s-Math.floor(d/2)),r=Math.min(a,c+d-1);r-c+1<d&&(c=Math.max(1,r-d+1)),c>1&&(u.push(e.jsx("button",{className:`btn btn-sm ${s===1?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(1),children:"1"},1)),c>2&&u.push(e.jsx("span",{className:"mx-1",children:"..."},"start-ellipsis")));for(let p=c;p<=r;p++)u.push(e.jsx("button",{className:`btn btn-sm ${s===p?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(p),children:p},p));return r<a&&(r<a-1&&u.push(e.jsx("span",{className:"mx-1",children:"..."},"end-ellipsis")),u.push(e.jsx("button",{className:`btn btn-sm ${s===a?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(a),children:a},a))),u};return a<=1?null:e.jsxs("div",{className:`d-flex justify-content-between align-items-center mt-3 bg-light p-2 border rounded ${m}`,children:[e.jsxs("div",{className:"small text-muted",children:["Showing ",(s-1)*t+1," to ",Math.min(s*t,o)," of ",o," entries"]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary mr-2",disabled:s===1,onClick:()=>n(1),children:e.jsx("i",{className:"fas fa-angle-double-left"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary mr-2",disabled:s===1,onClick:()=>n(s-1),children:e.jsx("i",{className:"fas fa-angle-left"})}),h(),e.jsx("button",{className:"btn btn-sm btn-outline-secondary ml-2",disabled:s===a,onClick:()=>n(s+1),children:e.jsx("i",{className:"fas fa-angle-right"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary ml-2",disabled:s===a,onClick:()=>n(a),children:e.jsx("i",{className:"fas fa-angle-double-right"})})]})]})}function Ot({filteredCps:s,page:a,perPage:o,setPage:t,setPerPage:n,onEdit:m,onClone:h}){const u=s.slice((a-1)*o,a*o),d=c=>c.includes("CPS")?"CPS":c.includes("PCI")?"PCI":c.includes("ECI")?"ECI":"";return e.jsxs("div",{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{fontSize:"10pt"},children:"No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"CPS/PCI/ECI No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Type"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Ref CPS No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Part No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Project Code"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Model"}),e.jsx("th",{style:{fontSize:"10pt"},children:"From"}),e.jsx("th",{style:{fontSize:"10pt"},children:"To"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Status"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Submit Date"}),e.jsx("th",{style:{width:160},children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"12",className:"text-center py-4 text-muted",children:"No Data Found"})}):u.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:"10pt"},children:(a-1)*o+r+1}),e.jsx("td",{style:{fontSize:"10pt"},children:c.cpsNo}),e.jsx("td",{style:{fontSize:"10pt"},children:d(c.cpsNo)}),e.jsx("td",{style:{fontSize:"10pt"},children:c.refCpsNo}),e.jsx("td",{style:{fontSize:"10pt"},children:c.partNo}),e.jsx("td",{style:{fontSize:"10pt"},children:c.cfcPjtCode}),e.jsx("td",{style:{fontSize:"10pt"},children:c.model}),e.jsx("td",{style:{fontSize:"10pt"},children:c.fromUser}),e.jsx("td",{style:{fontSize:"10pt"},children:c.toUser}),e.jsx("td",{style:{fontSize:"10pt"},children:c.status}),e.jsx("td",{style:{fontSize:"10pt"},children:c.issueDate}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>alert("View placeholder"),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-info mr-1",onClick:()=>m(c),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>h(c),children:e.jsx("i",{className:"fas fa-clone"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>alert("Delete placeholder"),children:e.jsx("i",{className:"fas fa-trash"})})]})]},r))})]})}),e.jsx(Oe,{currentPage:a,totalItems:s.length,itemsPerPage:o,onPageChange:t,onItemsPerPageChange:c=>{n(c),t(1)}})]})}function Ft({current:s,partNoQuery:a,partNameQuery:o,supplierQuery:t,onPartNoChange:n,onPartNameChange:m,onSupplierChange:h,onGo:u}){return e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("h5",{className:"mb-0 mr-3",children:"Select part"})}),e.jsxs("div",{className:"row mt-2",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Part No",value:a,onChange:d=>n(d.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part Name"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Part Name",value:o,onChange:d=>m(d.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Supplier Name",value:t,onChange:d=>h(d.target.value)})]}),e.jsx("div",{className:"col-md-3 d-flex align-items-end",children:e.jsx("button",{className:"btn btn-sm btn-primary w-100",type:"button",onClick:u,children:"Go"})})]})]})}function As({count:s=1,isPseUser:a}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsxs(ge.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty"}),!a&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Price"}),!a&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Sum"})]},`matLeafHdr-${t}`))})}function Ms({arr:s=[],count:a=1,isPseUser:o}){debugger;return e.jsx(e.Fragment,{children:Array.from({length:a}).map((t,n)=>{const m=s[n]||{};return e.jsxs(ge.Fragment,{children:[e.jsx("td",{className:"align-middle",children:m.materialNo??"-"}),e.jsx("td",{className:"text-right",children:m.qty??"-"}),!o&&e.jsx("td",{className:"text-right",children:m.price??"-"}),!o&&e.jsx("td",{className:"text-right",children:m.sum??"-"})]},`matLeafData-${n}`)})})}function Wt({count:s=10,isPseUser:a}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsx("th",{colSpan:a?2:4,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:t===0?"Box":`Inner ${t}`},`innerGroupHdr-${t}`))})}function Bt({count:s=10,isPseUser:a}){return e.jsx(As,{count:s,isPseUser:a})}function Ds({data:s=[],count:a=10,isPseUser:o}){return e.jsx(Ms,{arr:s,count:a,isPseUser:!0})}function Ht({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:2,children:o===0?"Module":`Outer ${o}`},`outerGrp-${o}`))})}function Ut({count:s=10,isPseUser:a}){return e.jsx(As,{count:s,isPseUser:a})}function Ls({data:s=[],count:a=10,isPseUser:o}){debugger;return e.jsx(Ms,{arr:s,count:a,isPseUser:o})}function qt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Inner"}),e.jsx("th",{className:"align-middle",children:"Outer"}),e.jsx("th",{className:"align-middle",children:"Material"}),e.jsx("th",{className:"align-middle",children:"Labor"}),e.jsx("th",{className:"align-middle",children:"Inland"})]})}function Ts({data:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.subTotalInner??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalOuter??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalMaterial??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalLabor??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalInland??"-"})]})}function $t(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Receiving"}),e.jsx("th",{className:"align-middle",children:"Inspection"}),e.jsx("th",{className:"align-middle",children:"Dlvr Course"}),e.jsx("th",{className:"align-middle",children:"Pallet Supply"}),e.jsx("th",{className:"align-middle",children:"Binding"}),e.jsx("th",{className:"align-middle",children:"Sort & Supply"}),e.jsx("th",{className:"align-middle",children:"Pick & Packing"}),e.jsx("th",{className:"align-middle",children:"Vanning"}),e.jsx("th",{className:"align-middle",children:"Box/Valet Rtrn"}),e.jsx("th",{className:"align-middle",children:"Mix Van"}),e.jsx("th",{className:"align-middle",children:"Lashing"}),e.jsx("th",{className:"align-middle",children:"Total Time Req"}),e.jsx("th",{className:"align-middle",children:"Others"})]})}function Kt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Current"}),e.jsx("th",{className:"align-middle",children:"DL"}),e.jsx("th",{className:"align-middle",children:"IDL"}),e.jsx("th",{className:"align-middle",children:"Facility Others"})]})}function Es({labor:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.receiving??"-"}),e.jsx("td",{className:"align-middle",children:s.inspection??"-"}),e.jsx("td",{className:"align-middle",children:s.deliveryCourse??"-"}),e.jsx("td",{className:"align-middle",children:s.palletSupply??"-"}),e.jsx("td",{className:"align-middle",children:s.binding??"-"}),e.jsx("td",{className:"align-middle",children:s.sorting??"-"}),e.jsx("td",{className:"align-middle",children:s.pickPacking??"-"}),e.jsx("td",{className:"align-middle",children:s.vanning??"-"}),e.jsx("td",{className:"align-middle",children:s.boxValetReturn??"-"}),e.jsx("td",{className:"align-middle",children:s.mixVan??"-"}),e.jsx("td",{className:"align-middle",children:s.lashing??"-"}),e.jsx("td",{className:"align-middle",children:s.totalTimeReq??"-"}),e.jsx("td",{className:"align-middle",children:s.others??"-"})]})}function Rs({labor:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.laborCostCurrent??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostDL??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostIDL??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostFacility??"-"})]})}function Vt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Pack Time (V-PASS)"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Inland Cost (m³)"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Diff"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Milkrun Cost"})]})}function Os({inland:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.packTimeVPass??"-"}),e.jsx("td",{className:"align-middle",children:s.costM3??"-"}),e.jsx("td",{className:"align-middle",children:s.diff??"-"}),e.jsx("td",{className:"align-middle",children:s.milkrunCost??"-"})]})}function Fs(s=0,a=0,o=!1){const t=[],n=(u,d)=>t.push({key:u,w:d});n("action",50),n("recNo",80),n("cpsNo",140),n("partNo",160),n("partName",260),n("parentNo",140),n("supplierCode",140),n("supplierName",200),n("weightPerPc",100),n("qtyPerBox",100),o||(n("subInner",120),n("subOuter",120),n("subMaterial",120),n("subLabor",120),n("subInland",120),n("diffPct",100));for(let u=0;u<s;u++)n(`in_matNo_${u}`,100),n(`in_qty_${u}`,50),o||(n(`in_price_${u}`,70),n(`in_sum_${u}`,100));for(let u=0;u<a;u++)n(`out_matNo_${u}`,100),n(`out_qty_${u}`,50),o||(n(`out_price_${u}`,70),n(`out_sum_${u}`,100));o||(n("lab_mh_receiving",90),n("lab_mh_inspection",90),n("lab_mh_deliveryCourse",120),n("lab_mh_palletSupply",110),n("lab_mh_binding",90),n("lab_mh_sorting",120),n("lab_mh_pickPacking",120),n("lab_mh_vanning",90),n("lab_mh_boxValetReturn",120),n("lab_mh_mixVan",90),n("lab_mh_lashing",90),n("lab_mh_totalTimeReq",110),n("lab_mh_others",90),n("lab_cost_direct",90),n("lab_cost_indirect",90),n("lab_cost_subTotal",100),n("lab_cost_costPerPc",110),n("inland_trucking",150),n("inland_clp",120),n("inland_delivery",70),n("inland_total",100));const m=t.reduce((u,d)=>u+d.w,0);return{colGroup:e.jsx("colgroup",{children:t.map((u,d)=>e.jsx("col",{style:{width:`${u.w}px`,minWidth:`${u.w}px`}},`${u.key}-${d}`))}),totalWidth:m,cols:t}}function Gt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Name"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Parent No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Code"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Name"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Weight/pc"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty/Box"})]})}function Ws({part:s}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.partNo??"-"}),e.jsx("td",{className:"align-middle",children:s.partName??s.name??"-"}),e.jsx("td",{className:"align-middle",children:s.parentNo??"-"}),e.jsx("td",{className:"align-middle",children:s.supplierCode??"-"}),e.jsx("td",{className:"align-middle",children:s.supplierName??"-"}),e.jsx("td",{className:"align-middle",children:s.weightPerPc??"-"}),e.jsx("td",{className:"align-middle",children:s.qtyPerBox??"-"})]})}function Yt({current:s={},scrollRef:a,onScroll:o,isPseUser:t,innerCount:n,outerCount:m}){const h=s.inner||[],u=s.outer||[],d=s.labor||{},c=s.inland||{},{colGroup:r,totalWidth:p}=Fs(n,m,t);return e.jsx("div",{className:"mb-3",children:e.jsx("div",{ref:a,onScroll:o,className:"table-responsive mt-2",style:{overflowX:"auto",overflowY:"hidden"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center table-font-size-10pt",style:{minWidth:`${p}px`,tableLayout:"fixed"},children:[r,e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap"}),e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"No"}),e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"CPS No"}),e.jsx("th",{rowSpan:2,colSpan:7,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Part Info"}),!t&&e.jsx("th",{rowSpan:2,colSpan:5,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Sub Total Costs"}),!t&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Diff (%)"}),e.jsx("th",{colSpan:n*(t?2:4),className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inner Info"}),e.jsx("th",{colSpan:m*(t?2:4),className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Outer Info"}),!t&&e.jsx("th",{colSpan:17,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Labor"}),!t&&e.jsx("th",{colSpan:4,rowSpan:2,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inland"})]}),e.jsxs("tr",{children:[e.jsx(Wt,{count:n,isPseUser:t}),e.jsx(Ht,{count:m,isPseUser:t}),!t&&e.jsx("th",{colSpan:13,className:"align-align-middle border text-center tbl-row1-hdr text-nowrap",children:"Man Hour Requirement"}),!t&&e.jsx("th",{colSpan:4,className:"align-align-middle border text-center tbl-row1-hdr text-nowrap",children:"Labor Cost"})]}),e.jsxs("tr",{children:[e.jsx(Gt,{}),!t&&e.jsx(qt,{}),e.jsx(Bt,{count:n,isPseUser:t}),e.jsx(Ut,{count:m,isPseUser:t}),!t&&e.jsx($t,{}),!t&&e.jsx(Kt,{}),!t&&e.jsx(Vt,{})]})]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{className:"align-middle",children:s.recNo??"-"}),e.jsx("td",{className:"align-middle",children:s.cpsNo??"-"}),e.jsx(Ws,{part:s}),!t&&e.jsx(Ts,{data:s}),!t&&e.jsx("td",{className:"align-middle",children:s.diffPct??"-"}),e.jsx(Ds,{data:h,count:n,isPseUser:t}),e.jsx(Ls,{data:u,count:m,isPseUser:t}),!t&&e.jsx(Es,{labor:d}),!t&&e.jsx(Rs,{labor:d}),!t&&e.jsx(Os,{inland:c})]})})]})})})}function zt({filteredParts:s=[],onSelectPart:a,scrollRef:o,onScroll:t,isPseUser:n,innerCount:m,outerCount:h}){const{colGroup:u,totalWidth:d,cols:c}=Fs(m,h,n);return e.jsx("div",{className:"mb-1",children:e.jsx("div",{ref:o,onScroll:t,className:"table-responsive",style:{maxHeight:400,overflowY:"auto",overflowX:"auto"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center table-font-size-10pt",style:{minWidth:`${d}px`,tableLayout:"fixed"},children:[u,e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length,className:"text-center text-muted py-3",children:"No results"})}):s.map((r,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"align-middle",children:e.jsx("input",{type:"checkbox",onChange:()=>a(r)})}),e.jsx("td",{className:"align-middle",children:r.recNo??"-"}),e.jsx("td",{className:"align-middle",children:r.cpsNo??"-"}),e.jsx(Ws,{part:r}),!n&&e.jsx(Ts,{data:r}),!n&&e.jsx("td",{className:"align-middle",children:r.diffPct??"-"}),e.jsx(Ds,{data:r.inner,count:m,isPseUser:n}),e.jsx(Ls,{data:r.outer,count:h,isPseUser:n}),!n&&e.jsx(Es,{labor:r.labor}),!n&&e.jsx(Rs,{labor:r.labor}),!n&&e.jsx(Os,{inland:r.inland})]},p))})]})})})}function Jt({isOpen:s=!1,onClose:a=()=>{},parts:o=[],current:t={},onSelectPart:n=()=>{}}){const[m,h]=l.useState(""),[u,d]=l.useState(""),[c,r]=l.useState(""),{user:p}=ke(),i=p&&p.department==="PSE"&&!["pic","sh","dph"].includes(p.role),j=l.useRef(null),P=l.useRef(null),N=l.useRef(!1),w=(v,S)=>{N.current||(N.current=!0,S.current&&v.current&&(S.current.scrollLeft=v.current.scrollLeft),N.current=!1)},x=l.useMemo(()=>o.filter(v=>{const S=m.trim().toLowerCase(),D=u.trim().toLowerCase(),$=c.trim().toLowerCase(),_=S===""||v.partNo&&v.partNo.toLowerCase().includes(S),I=D===""||v.name&&v.name.toLowerCase().includes(D),C=$===""||v.supplier&&v.supplier.toLowerCase().includes($);return _&&I&&C}),[o,m,u,c]),f=l.useMemo(()=>{const v=[t,...x];return Math.max(...v.map(S=>{var D;return((D=S.inner)==null?void 0:D.length)||0}))},[t,x]),g=l.useMemo(()=>{const v=[t,...x];return Math.max(...v.map(S=>{var D;return((D=S.outer)==null?void 0:D.length)||0}))},[t,x]);return s?e.jsx("div",{className:"np-modal-backdrop multi-parts-modal",style:{zIndex:3e3},onMouseDown:v=>{v.target===v.currentTarget&&a()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1200,width:"100%",display:"flex",flexDirection:"column",height:"700px",maxHeight:"700px",minHeight:"700px"},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"CPS Comparison"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsx("div",{className:"card-body",style:{verticalAlign:"top",paddingBottom:0,maxHeight:"fit-content"},children:e.jsx(Ft,{current:t,partNoQuery:m,partNameQuery:u,supplierQuery:c,onPartNoChange:h,onPartNameChange:d,onSupplierChange:r,onGo:()=>{}})}),e.jsx("hr",{className:"my-0"}),e.jsxs("div",{className:"card-body",style:{flex:1,display:"flex",flexDirection:"column",paddingTop:"8px",paddingBottom:"8px"},children:[e.jsx(Yt,{current:t,scrollRef:j,onScroll:()=>w(j,P),isPseUser:i,innerCount:f,outerCount:g}),e.jsx("hr",{style:{margin:"8px 0"}}),e.jsx(zt,{filteredParts:x,onSelectPart:n,scrollRef:P,onScroll:()=>w(P,j),isPseUser:i,innerCount:f,outerCount:g})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:()=>{},children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:a,children:"Close"})]}),e.jsx("style",{children:`
          .multi-parts-modal .np-modal { max-width: 1200px; height: 700px; min-height: 700px; max-height: 700px; }
          .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: flex; align-items: center; justify-content: center; padding: 1rem; }
          .np-modal { width: 100%; height: 700px; min-height: 700px; max-height: 700px; }
          .table-sm td, .table-sm th { vertical-align: middle; white-space: nowrap; }
          .card-body { vertical-align: top; }
        `})]})}):null}function Fe({show:s,onClose:a,onAdd:o,selectionMode:t="multi"}){const[n,m]=l.useState([]),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(""),[P,N]=l.useState(""),[w,x]=l.useState(""),[f,g]=l.useState(""),[v,S]=l.useState(t==="multi"?[]:null),[D,$]=l.useState([]),[_,I]=l.useState(1),C=15;l.useEffect(()=>{fetch("/packing-cost-fe/models.json").then(T=>T.json()).then(T=>{m(T),$(T)})},[]),l.useEffect(()=>{s&&(u(""),c(""),p(""),j(""),N(""),x(""),g(""),S(t==="multi"?[]:null),$(n),I(1))},[s,t]);const U=E=>{S(t==="multi"?T=>T.includes(E)?T.filter(k=>k!==E):[...T,E]:E)},y=()=>{const E=n.filter(T=>T.model_code.toLowerCase().includes(h.toLowerCase())&&T.model_name.toLowerCase().includes(d.toLowerCase())&&(T.model_cfc||"").toLowerCase().includes(r.toLowerCase())&&(T.destination_code||"").toLowerCase().includes(i.toLowerCase())&&(T.model_implementation_period||"").toLowerCase().includes(P.toLowerCase())&&(T.model_type||"").toLowerCase().includes(w.toLowerCase())&&T.model_remark.toLowerCase().includes(f.toLowerCase()));$(E),I(1)},A=()=>{u(""),c(""),p(""),j(""),N(""),x(""),g(""),$(n),I(1)},L=()=>{if(typeof o=="function")if(t==="multi")o(v.map(E=>n.find(T=>T.model_code===E)));else{const E=n.find(T=>T.model_code===v);o(E)}S(t==="multi"?[]:null),typeof a=="function"&&a()},W=_*C,se=W-C,ae=D.slice(se,W),M=Math.ceil(D.length/C);if(!s)return null;const Y=e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog","aria-modal":"true",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",inset:0,zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",style:{zIndex:2100},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Model"}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-row align-items-end mb-3",children:[e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Model Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:E=>u(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:E=>c(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-1",children:[e.jsx("label",{className:"small",children:"CFC"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:E=>p(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Dest Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,onChange:E=>j(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Impl. Period"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:P,onChange:E=>N(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-1",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w,onChange:E=>x(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2 text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-1",onClick:y,type:"button",children:"Search"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:A,type:"button",children:"Clear"})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Model Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"CFC"}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Impl. Period"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Remark"})]})}),e.jsx("tbody",{children:ae.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No models found"})}):ae.map(E=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"model-selection",checked:t==="multi"?v.includes(E.model_code):v===E.model_code,onChange:()=>U(E.model_code)})}),e.jsx("td",{children:E.model_code}),e.jsx("td",{children:E.model_name}),e.jsx("td",{children:E.model_cfc}),e.jsx("td",{children:E.destination_code}),e.jsx("td",{children:E.model_implementation_period}),e.jsx("td",{children:E.model_type}),e.jsx("td",{children:E.model_remark})]},E.model_code))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>I(E=>Math.max(1,E-1)),disabled:_===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",_," of ",M]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>I(E=>Math.min(M,E+1)),disabled:_===M,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:L,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:a,type:"button",children:"Cancel"})]})]})]})})});return os.createPortal(Y,typeof document<"u"?document.body:null)}function Qt({show:s=!1,onClose:a=()=>{},onAdd:o=()=>{},selectionMode:t="single",zIndex:n=1050,filter:m="all"}){const[h,u]=l.useState([]),[d,c]=l.useState(""),[r,p]=l.useState(1),[i,j]=l.useState(""),[P,N]=l.useState(""),[w,x]=l.useState(""),[f,g]=l.useState(t==="multi"?[]:null),[v,S]=l.useState([]),D=15;l.useEffect(()=>{fetch("/packing-cost-fe/dpi.json").then(Y=>Y.json()).then(Y=>u(Y)).catch(Y=>console.error("Error fetching materials:",Y))},[]),l.useEffect(()=>{if(s&&h.length>0){let M=h;m&&(m==="module"?M=h.filter(Y=>Y.materialType.toLowerCase()==="module"):m==="outer"?M=h.filter(Y=>Y.materialType.toLowerCase()==="outer"):m==="inner"?M=h.filter(Y=>Y.materialType.toLowerCase()==="inner"):m==="box"&&(M=h.filter(Y=>Y.materialType.toLowerCase()==="box"))),S(M)}else S([]),c(""),p(1)},[s,m,h]);function $(M){g(t==="multi"?Y=>Y.includes(M)?Y.filter(E=>E!==M):[...Y,M]:M)}const _=()=>{const M=h.filter(Y=>(Y.materialNo||"").toLowerCase().includes(i.toLowerCase())&&(Y.materialName||"").toLowerCase().includes(P.toLowerCase())&&(Y.materialType||"").toLowerCase().includes(w.toLowerCase()));S(M),p(1)},I=()=>{j(""),N(""),x(""),S(h),p(1)},C=()=>{if(typeof o=="function")if(t==="multi")o(f.map(M=>h.find(Y=>Y.materialNo===M)));else{const M=h.find(Y=>Y.materialNo===f);console.log(">>>>"+M),o(M)}g(t==="multi"?[]:null),typeof a=="function"&&a()},U=r*D,y=U-D,A=v.slice(y,U),L=Math.ceil(v.length/D),W=M=>typeof M!="number"?M:M.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),se=M=>typeof M!="number"?M:M.toLocaleString("en-US");if(!s)return null;const ae=e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",zIndex:n},children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Material"}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-row align-items-end mb-3",children:[e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small",children:"Material No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,onChange:Q(j)})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:P,onChange:Q(N)})]}),e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w,onChange:Q(x)})]}),e.jsxs("div",{className:"form-group col-md-2 text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-1",onClick:_,type:"button",children:"Search"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:I,type:"button",children:"Clear"})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Material No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{style:{textAlign:"right"},children:"L"}),e.jsx("th",{style:{textAlign:"right"},children:"W"}),e.jsx("th",{style:{textAlign:"right"},children:"H"}),e.jsx("th",{style:{textAlign:"right"},children:"Inner"}),e.jsx("th",{style:{textAlign:"right"},children:"Outer"})]})}),e.jsx("tbody",{children:A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No materials found"})}):A.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"material-selection",checked:t==="multi"?f.includes(M.materialNo):f===M.materialNo,onChange:()=>$(M.materialNo)})}),e.jsx("td",{children:M.materialNo}),e.jsx("td",{children:M.materialName}),e.jsx("td",{children:M.materialType}),e.jsx("td",{style:{textAlign:"right"},children:se(M.dimension_length)}),e.jsx("td",{style:{textAlign:"right"},children:se(M.dimension_width)}),e.jsx("td",{style:{textAlign:"right"},children:se(M.dimension_height)}),e.jsx("td",{style:{textAlign:"right"},children:W(M.dimension_inner_length*M.dimension_inner_width*M.dimension_inner_height/1e6)}),e.jsx("td",{style:{textAlign:"right"},children:W(M.dimension_outer_length*M.dimension_outer_width*M.dimension_outer_height/1e6)})]},M.materialNo))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>p(M=>Math.max(1,M-1)),disabled:r===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",r," of ",L]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>p(M=>Math.min(L,M+1)),disabled:r===L,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary",onClick:C,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:a,type:"button",children:"Cancel"})]})]})]})})});return os.createPortal(ae,typeof document<"u"?document.body:null)}function Zt(s){const{cpsNo:a,setCpsNo:o,refCpsNo:t,setRefCpsNo:n,cfcPjtCode:m,setCfcPjtCode:h,model:u,setModel:d,partNo:c,setPartNo:r,partName:p,setPartName:i,supplier:j,setSupplier:P,plantCode:N,setPlantCode:w,dockCode:x,setDockCode:f,openPartPicker:g,openModelPicker:v,setComparisonOpen:S}=s;return e.jsxs("div",{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"CPS/PSI/ECI No."})}),e.jsx("input",{className:"form-control form-control-sm",value:a,onChange:D=>o(D.target.value),placeholder:"CPSxxxx..."})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"CFC/Model"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:u,onChange:D=>d(D.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:v,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Part No"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:c,onChange:D=>r(D.target.value)}),e.jsxs("div",{className:"input-group-append",children:[e.jsx("button",{id:"partPickerBtn",type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part",onClick:g,children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Compare",style:{marginLeft:6},onClick:()=>S(!0),children:"Compare"})]})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Ref CPS No."})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:t,onChange:D=>n(D.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Ref CPS",onClick:()=>alert("Search Ref CPS placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Project Code"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:m,onChange:D=>h(D.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>alert("Search CFC/PJT placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Part Name"})}),e.jsx("input",{className:"form-control form-control-sm",value:p,readOnly:!0})]})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Supplier"})}),e.jsx("input",{className:"form-control form-control-sm",value:j,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Plant Code"}),e.jsx("input",{className:"form-control form-control-sm",value:N,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Dock Code"}),e.jsx("input",{className:"form-control form-control-sm",value:x,readOnly:!0})]})]})]})}function Xt(s){const{config:a,pseOpen:o,setPseOpen:t,packingPlantCurr:n,setPackingPlantCurr:m,packingPlantNext:h,setPackingPlantNext:u,vanningPlantCurr:d,setVanningPlantCurr:c,vanningPlantNext:r,setVanningPlantNext:p,orderPatternCurr:i,setOrderPatternCurr:j,orderPatternNext:P,setOrderPatternNext:N,category:w,setCategory:x,katashiki:f,setKatashiki:g,importerLineProcess:v,setImporterLineProcess:S,caseCode:D,setCaseCode:$,boxNumber:_,setBoxNumber:I,renban:C,setRenban:U,renbanEff:y,setRenbanEff:A,packingProcessBoxing:L,setPackingProcessBoxing:W,packingProcessStacking:se,setPackingProcessStacking:ae,pseOuterRows:M,setPseOuterRows:Y,newPseOuter:E,setNewPseOuter:T,openMaterialPicker:k}=s,[G,z]=l.useState(!1),[J,q]=l.useState(null),Z=()=>{if(!E.materialNo.trim()){alert("Enter Pack Material No");return}Y(b=>[...b,{...E}]),T({materialNo:"",suffix:"",name:"",supplier:"",L:"",W:"",H:"",wtPerPc:"",qty:"",totalWt:""}),z(!1)},H=b=>{Y(V=>V.filter((B,te)=>te!==b))},R=(b,V,B)=>{const te=M.map((F,ee)=>{if(ee===b){const K={...F,[V]:B};return(V==="qty"||V==="wtPerPc")&&(K.totalWt=(parseFloat(K.qty)||0)*(parseFloat(K.wtPerPc)||0)),K}return F});Y(te)},O=(b,V)=>{const B=J===V;return e.jsxs("tr",{children:[e.jsx("td",{children:B?e.jsxs("div",{className:"input-group",children:[e.jsx("input",{value:b.materialNo,onChange:te=>R(V,"materialNo",te.target.value),className:"form-control form-control-sm"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-sm btn-outline-secondary",type:"button",onClick:()=>k(V===0?"Module":"outer",V),children:e.jsx("i",{className:"fas fa-search"})})})]}):b.materialNo}),e.jsx("td",{children:B?e.jsx("input",{readOnly:!0,value:b.suffix,onChange:te=>R(V,"suffix",te.target.value),className:"form-control form-control-sm"}):b.suffix}),e.jsx("td",{children:b.name}),e.jsx("td",{children:b.supplier}),e.jsx("td",{children:B?e.jsx("input",{readOnly:!0,value:b.L,onChange:te=>R(V,"L",te.target.value),className:"form-control form-control-sm"}):b.L}),e.jsx("td",{children:B?e.jsx("input",{readOnly:!0,value:b.W,onChange:te=>R(V,"W",te.target.value),className:"form-control form-control-sm"}):b.W}),e.jsx("td",{children:B?e.jsx("input",{readOnly:!0,value:b.H,onChange:te=>R(V,"H",te.target.value),className:"form-control form-control-sm"}):b.H}),e.jsx("td",{children:B?e.jsx("input",{value:b.wtPerPc,onChange:te=>R(V,"wtPerPc",te.target.value),className:"form-control form-control-sm"}):b.wtPerPc}),e.jsx("td",{children:B?e.jsx("input",{value:b.qty,onChange:te=>R(V,"qty",te.target.value),className:"form-control form-control-sm"}):b.qty}),e.jsx("td",{children:b.totalWt}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-link",children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-link",children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:B?e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>q(null),disabled:!a.editable,children:"Save"}):e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:te=>{te.stopPropagation(),H(V)},disabled:!a.editable,children:e.jsx("i",{className:"fas fa-trash"})})})]},V)};return e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>t(b=>!b),children:[e.jsx("i",{className:`fas ${o?"fa-chevron-down":"fa-chevron-right"} mr-2`}),e.jsx("strong",{children:"PSE Information"})]}),o&&e.jsx("div",{className:"card card-body mt-2",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Plant (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:n,onChange:b=>m(b.target.value),disabled:!a.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Packing Plant (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:b=>u(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Vanning Plant (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:d,onChange:b=>c(b.target.value),disabled:!a.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Vanning Plant (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:r,onChange:b=>p(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Order Pattern (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:i,onChange:b=>j(b.target.value),disabled:!a.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Order Pattern (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:P,onChange:b=>N(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{className:"small mb-1",children:"Category"}),e.jsxs("select",{className:"form-control form-control-sm",value:w,onChange:b=>x(b.target.value),disabled:!a.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"Trim",children:"Trim"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("label",{className:"small mb-1",children:"Katashiki (AD/AU/AF/AX)"}),e.jsxs("div",{className:"form-row",children:[e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AD",value:f.AD,onChange:b=>g(V=>({...V,AD:b.target.value})),disabled:!a.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AU",value:f.AU,onChange:b=>g(V=>({...V,AU:b.target.value})),disabled:!a.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AF",value:f.AF,onChange:b=>g(V=>({...V,AF:b.target.value})),disabled:!a.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AX",value:f.AX,onChange:b=>g(V=>({...V,AX:b.target.value})),disabled:!a.editable})})]})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Importer Line Process"}),e.jsx("input",{className:"form-control form-control-sm",value:v,onChange:b=>S(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Case Code"}),e.jsx("input",{className:"form-control form-control-sm",value:D,onChange:b=>$(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Box Number"}),e.jsx("input",{className:"form-control form-control-sm",value:_,onChange:b=>I(b.target.value),disabled:!a.editable})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Renban"}),e.jsx("input",{className:"form-control form-control-sm",value:C,onChange:b=>U(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Renban Eff"}),e.jsx("input",{className:"form-control form-control-sm",value:y,onChange:b=>A(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Process - Boxing"}),e.jsxs("select",{className:"form-control form-control-sm",value:L,onChange:b=>W(b.target.value),disabled:!a.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"SUPPLIER",children:"SUPPLIER"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Process - Stacking"}),e.jsxs("select",{className:"form-control form-control-sm",value:se,onChange:b=>ae(b.target.value),disabled:!a.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"TMMIN",children:"TMMIN"})]})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("label",{className:"small mb-1",children:"OUTER (Pack Material)"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{q(null),z(!0)},disabled:G||!a.editable,children:"Add"})})]}),e.jsx("div",{className:"table-responsive mt-2",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 small",children:[e.jsx("thead",{style:{backgroundColor:"#cfcfcfff"},children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{style:{width:30},children:"No"}),e.jsx("th",{style:{width:120},children:"Pack Material No"}),e.jsx("th",{style:{width:40},children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier"}),e.jsx("th",{style:{width:60},children:"L"}),e.jsx("th",{style:{width:60},children:"W"}),e.jsx("th",{style:{width:60},children:"H"}),e.jsx("th",{style:{width:60},children:"Wt/pc"}),e.jsx("th",{style:{width:60},children:"Qty"}),e.jsx("th",{style:{width:80},children:"Total Wt"}),e.jsx("th",{style:{width:10},children:"msds"}),e.jsx("th",{style:{width:10},children:"draw"}),e.jsx("th",{style:{width:80},children:"Action"})]})}),e.jsxs("tbody",{children:[M.length===0&&!G?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-3",children:"No Data Found"})}):M.map(O),G&&e.jsxs("tr",{children:[e.jsx("td",{children:"+"}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:E.materialNo,onChange:b=>T(V=>({...V,materialNo:b.target.value}))}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>k("Outer","new"),disabled:!a.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.suffix,onChange:b=>T(V=>({...V,suffix:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.name})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.supplier})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.L,onChange:b=>T(V=>({...V,L:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.W,onChange:b=>T(V=>({...V,W:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.H,onChange:b=>T(V=>({...V,H:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:E.wtPerPc,onChange:b=>T(V=>({...V,wtPerPc:b.target.value,totalWt:(parseFloat(b.target.value)||0)*(parseFloat(V.qty)||0)}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:E.qty,onChange:b=>T(V=>({...V,qty:b.target.value,totalWt:(parseFloat(b.target.value)||0)*(parseFloat(V.wtPerPc)||0)}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.totalWt})}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:Z,disabled:!a.editable,children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>z(!1),disabled:!a.editable,children:"Cancel"})]})})]})]})]})})]})]})})]})})}const el=ge.memo(({file:s,index:a,onRemove:o})=>{const[t,n]=l.useState(null);l.useEffect(()=>{if(!s)return;const h=URL.createObjectURL(s);return n(h),()=>URL.revokeObjectURL(h)},[s]);const m=l.useCallback(()=>{o(a)},[a,o]);return t?e.jsxs("div",{style:{position:"relative",display:"inline-block",marginRight:"10px",marginBottom:"10px"},children:[e.jsx("img",{src:t,alt:s.name,className:"border",style:{width:"100px",height:"100px",objectFit:"cover"}}),e.jsx("button",{onClick:m,className:"btn btn-danger btn-sm",style:{position:"absolute",top:"0",right:"0",borderRadius:"50%",width:"24px",height:"24px",lineHeight:"1",padding:"0"},children:"×"})]}):null}),sl=({imagesPart:s,setImagesPart:a,imagesPacking:o,setImagesPacking:t,imagesOuter:n,setImagesOuter:m,imagesQkp:h,setImagesQkp:u,imagesBkp:d,setImagesBkp:c,imagesOpen:r,setImagesOpen:p})=>{const i=w=>x=>{const f=x.target.value;w(g=>({...g,caption:f}))},j=w=>x=>{const f=Array.from(x.target.files);f.length>0&&w(g=>({...g,files:[...g.files,...f]}))},P=w=>x=>{w(f=>{const g=[...f.files];return g.splice(x,1),{...f,files:g}})},N=[{id:"part",title:"Part Images",state:s,setter:a},{id:"packing",title:"Packing Images",state:o,setter:t},{id:"outer",title:"Outer Images",state:n,setter:m},{id:"qkp",title:"QKP Images",state:h,setter:u},{id:"bkp",title:"BKP Images",state:d,setter:c}];return e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>p(w=>!w),"aria-expanded":r,"aria-controls":"imagesSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${r?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Images"]})}),r&&e.jsx("div",{id:"imagesSection",children:e.jsx("div",{className:"row mt-2",children:N.map(({id:w,title:x,state:f,setter:g})=>e.jsxs("div",{className:"col-md-6 mt-2",children:[e.jsx("label",{className:"small",children:x}),e.jsxs("div",{className:"border p-2 mb-2",children:[e.jsx("textarea",{value:f.caption,onChange:i(g),placeholder:"Enter a caption...",rows:"2",className:"form-control mb-2"}),e.jsx("div",{className:"d-flex flex-wrap",children:f.files.length===0?e.jsx("div",{className:"text-muted small",children:"No images"}):f.files.map((v,S)=>e.jsx(el,{file:v,index:S,onRemove:P(g)},`${v.name}-${v.lastModified}-${S}`))}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{htmlFor:`${w}-image-input`,className:"btn btn-sm btn-outline-primary",children:"+ Add"}),e.jsx("input",{type:"file",id:`${w}-image-input`,accept:".jpg,.jpeg,.png",multiple:!0,style:{display:"none"},onChange:j(g)})]})]})]},w))})})]})};function tl(s){const{config:a,innerRows:o,setInnerRows:t,newInner:n,setNewInner:m,handleRemoveInnerRow:h,openMaterialPicker:u,materials:d}=s,[c,r]=l.useState(!1),[p,i]=l.useState(null),j=l.useRef(null);l.useEffect(()=>{p!==null&&j.current&&j.current.focus()},[p]);const P=()=>{if(!n.materialNo.trim()){alert("Enter Pack Material No");return}t(x=>[...x,{...n}]),m({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})},N=(x,f,g)=>{const v=o.map((S,D)=>D===x?{...S,[f]:g}:S);t(v)},w=(x,f)=>{const g=d.find(v=>v.materialNo===x);if(console.log("Blurred ->>"),g){console.log("Material FOund -->",JSON.stringify(g));const v={name:g.materialName,supplierName:g.supplier.supplier_name,L:g.dimension_inner_length,W:g.dimension_inner_width,H:g.dimension_inner_height};if(f==="new")console.log("New Inner -->",n),m(S=>({...S,...v}));else{const S=o.map((D,$)=>$===f?{...D,...v}:D);t(S)}}};return e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("label",{className:"small mb-1",children:"INNER (Pack Material)"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{i(null),r(!0)},disabled:c||!a.editable,children:"Add"})})]}),e.jsx("div",{className:"table-responsive mt-2",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 small",children:[e.jsx("thead",{style:{backgroundColor:"#cfcfcfff"},children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{style:{width:30},children:"No"}),e.jsx("th",{style:{width:120},children:"Pack Material No"}),e.jsx("th",{style:{width:40},children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier"}),e.jsx("th",{style:{width:60},children:"L"}),e.jsx("th",{style:{width:60},children:"W"}),e.jsx("th",{style:{width:60},children:"H"}),e.jsx("th",{style:{width:60},children:"Wt/pc"}),e.jsx("th",{style:{width:60},children:"Qty"}),e.jsx("th",{style:{width:80},children:"Total Wt"}),e.jsx("th",{style:{width:10},children:"msds"}),e.jsx("th",{style:{width:10},children:"draw"}),e.jsx("th",{style:{width:80},children:"Action"})]})}),e.jsxs("tbody",{children:[o.length===0&&!c?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-3",children:"No Data Found"})}):o.map((x,f)=>p===f?e.jsxs("tr",{children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{ref:j,value:x.materialNo,onChange:v=>N(f,"materialNo",v.target.value),onBlur:v=>w(v.target.value,f),className:"form-control form-control-sm",disabled:!a.editable}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>u(f===0?"box":"inner",f),disabled:!a.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{value:x.suffix,onChange:v=>N(f,"suffix",v.target.value),readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.name,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.supplierName,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.L,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.W,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.H,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.wtPerPc,onChange:v=>N(f,"wtPerPc",v.target.value),className:"form-control form-control-sm",disabled:!a.editable})}),e.jsx("td",{children:e.jsx("input",{value:x.qty,onChange:v=>N(f,"qty",v.target.value),className:"form-control form-control-sm",disabled:!a.editable})}),e.jsx("td",{children:(Number(x.wtPerPc||0)*Number(x.qty||0)).toFixed(2)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show MSDS doc for "+x.materialNo),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show Drawing doc for "+x.materialNo),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>i(null),disabled:!a.editable,children:"Save"})})]},f):e.jsxs("tr",{onClick:()=>{a.editable&&(i(f),r(!1))},children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:x.materialNo}),e.jsx("td",{children:x.suffix}),e.jsx("td",{children:x.name}),e.jsx("td",{children:x.supplierName}),e.jsx("td",{children:x.L}),e.jsx("td",{children:x.W}),e.jsx("td",{children:x.H}),e.jsx("td",{children:x.wtPerPc}),e.jsx("td",{children:x.qty}),e.jsx("td",{children:(Number(x.wtPerPc||0)*Number(x.qty||0)).toFixed(2)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:v=>{v.stopPropagation(),alert("Show MSDS doc for "+x.materialNo)},children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:v=>{v.stopPropagation(),alert("Show Drawing doc for "+x.materialNo)},children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:v=>{v.stopPropagation(),h(f)},disabled:!a.editable,children:e.jsx("i",{className:"fas fa-trash"})})})]},f)),c&&e.jsxs("tr",{children:[e.jsx("td",{children:"+"}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:n.materialNo,onChange:x=>m(f=>({...f,materialNo:x.target.value})),onBlur:x=>w(x.target.value,"new")}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>u(o.length===0?"box":"inner"),disabled:!a.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.suffix,onChange:x=>m(f=>({...f,suffix:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.name,onChange:x=>m(f=>({...f,name:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.supplierName,onChange:x=>m(f=>({...f,supplierName:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.L,onChange:x=>m(f=>({...f,L:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.W,onChange:x=>m(f=>({...f,W:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.H,onChange:x=>m(f=>({...f,H:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.wtPerPc,onChange:x=>m(f=>({...f,wtPerPc:x.target.value}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.qty,onChange:x=>m(f=>({...f,qty:x.target.value}))})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show MSDS doc for new material"),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show Drawing doc for new material"),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:P,disabled:!a.editable,children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{m({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),r(!1)},disabled:!a.editable,children:"Cancel"})]})})]})]})]})})]})})}function ll(s){const{packingOpen:a,setPackingOpen:o}=s;return e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>o(t=>!t),"aria-expanded":a,"aria-controls":"packingSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${a?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Packing"]})}),a&&e.jsx("div",{id:"packingSection",children:e.jsx(tl,{...s})})]})})}function al(s){const{logisticOpen:a,setLogisticOpen:o,tmmindDestDockCode:t,setTmmindDestDockCode:n,logisticRemark:m,setLogisticRemark:h,processType:u,setProcessType:d,addressRack:c,setAddressRack:r}=s;return e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>o(p=>!p),"aria-expanded":a,"aria-controls":"logisticSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${a?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Logistic Information"]})}),a&&e.jsxs("div",{id:"logisticSection",className:"mt-2",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"TMMIN Dest Dock Code"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{className:"form-control form-control-sm",value:t,onChange:p=>n(p.target.value),placeholder:"Dock Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Address Rack"}),e.jsx("input",{className:"form-control form-control-sm",value:c,onChange:p=>r(p.target.value),placeholder:"Address Rack"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Remark"}),e.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:m,onChange:p=>h(p.target.value),placeholder:"Remark"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Process Type"}),e.jsx("div",{children:["N","W","X","Y"].map(p=>e.jsxs("label",{className:"mr-3",children:[e.jsx("input",{type:"radio",name:"processType",value:p,checked:u===p,onChange:()=>d(p)})," ",p]},p))})]})]})]})}const nl=s=>({cpsNo:s.cpsNo,refCpsNo:s.refCpsNo,issueDate:s.issueDate,effectiveDate:s.effectiveDate,cfcPjtCode:s.cfcPjtCode,model:s.model,partNo:s.partNo,partName:s.partName,supplier:s.supplier,plantCode:s.plantCode,dockCode:s.dockCode,pseInfo:{packingPlantCurr:s.pseInfo.packingPlantCurr,packingPlantNext:s.pseInfo.packingPlantNext,vanningPlantCurr:s.pseInfo.vanningPlantCurr,vanningPlantNext:s.pseInfo.vanningPlantNext,orderPatternCurr:s.pseInfo.orderPatternCurr,orderPatternNext:s.pseInfo.orderPatternNext,category:s.pseInfo.category,katashiki:s.pseInfo.katashiki,importerLineProcess:s.pseInfo.importerLineProcess,caseCode:s.pseInfo.caseCode,boxNumber:s.pseInfo.boxNumber,renban:s.pseInfo.renban,renbanEff:s.pseInfo.renbanEff,packingProcessBoxing:s.pseInfo.packingProcessBoxing,packingProcessStacking:s.pseInfo.packingProcessStacking},images:{part:s.images.part,packing:s.images.packing,outer:s.images.outer,qkp:s.images.qkp,bkp:s.images.bkp},packing:{outerModuleType:s.packing.outerModuleType,outerDimension:s.packing.outerDimension,innerVolume:s.packing.innerVolume,outerVolume:s.packing.outerVolume,innerRows:s.packing.innerRows},notes:s.notes,logistic:{tmmindDestDockCode:s.logistic.tmmindDestDockCode,logisticRemark:s.logistic.logisticRemark,processType:s.logistic.processType,addressRack:s.logistic.addressRack}}),rl=s=>{s.setCpsNo(""),s.setRefCpsNo(""),s.setIssueDate(""),s.setEffectiveDate(""),s.setCfcPjtCode(""),s.setModel(""),s.setPartNo(""),s.setPartName(""),s.setSupplier(""),s.setPlantCode(""),s.setDockCode(""),s.setPseOpen(!1),s.setPackingPlantCurr(""),s.setPackingPlantNext(""),s.setVanningPlantCurr(""),s.setVanningPlantNext(""),s.setOrderPatternCurr(""),s.setOrderPatternNext(""),s.setCategory(""),s.setKatashiki({AD:"",AU:"",AF:"",AX:""}),s.setImporterLineProcess(""),s.setCaseCode(""),s.setBoxNumber(""),s.setRenban(""),s.setRenbanEff(""),s.setPackingProcessBoxing(""),s.setPackingProcessStacking(""),s.setImagesPart({caption:"",files:[]}),s.setImagesPacking({caption:"",files:[]}),s.setImagesOuter({caption:"",files:[]}),s.setImagesQkp({caption:"",files:[]}),s.setImagesBkp({caption:"",files:[]}),s.setOuterModuleType(""),s.setOuterMaterialName(""),s.setOuterDimension({L:"",W:"",H:""}),s.setInnerVolume(""),s.setOuterVolume(""),s.setInnerRows([]),s.setNotes(""),s.setNewInner({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),s.setLogisticOpen(!0),s.setTmmindDestDockCode(""),s.setLogisticRemark(""),s.setProcessType("N"),s.setAddressRack("")};function ol({show:s,onClose:a,onSave:o,editData:t,config:n}){const[m,h]=l.useState("general"),[u,d]=l.useState({current:{},comparisons:[]}),[c,r]=l.useState([]),[p,i]=l.useState(""),[j,P]=l.useState(""),[N,w]=l.useState(""),[x,f]=l.useState(""),[g,v]=l.useState(""),[S,D]=l.useState(""),[$,_]=l.useState(""),[I,C]=l.useState(""),[U,y]=l.useState(""),[A,L]=l.useState(""),[W,se]=l.useState(""),[ae,M]=l.useState(!1),[Y,E]=l.useState(""),[T,k]=l.useState(""),[G,z]=l.useState(""),[J,q]=l.useState(""),[Z,H]=l.useState(""),[R,O]=l.useState(""),[b,V]=l.useState(""),[B,te]=l.useState({AD:"",AU:"",AF:"",AX:""}),[F,ee]=l.useState(""),[K,ne]=l.useState(""),[X,ie]=l.useState(""),[ue,de]=l.useState(""),[ye,le]=l.useState(""),[re,je]=l.useState(""),[xe,Ae]=l.useState(""),[Me,Ce]=l.useState([]),[Vs,Xe]=l.useState({materialNo:"",suffix:"",name:"",supplier:"",L:"",W:"",H:"",wtPerPc:"",qty:"",totalWt:""}),[cs,We]=l.useState({caption:"",files:[]}),[ds,Be]=l.useState({caption:"",files:[]}),[ms,He]=l.useState({caption:"",files:[]}),[us,Ue]=l.useState({caption:"",files:[]}),[hs,qe]=l.useState({caption:"",files:[]}),[Gs,es]=l.useState(""),[xs,De]=l.useState([]),[ps,$e]=l.useState(""),[Ke,Le]=l.useState({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),[Ys,zs]=l.useState(!0),[Js,Qs]=l.useState(!0),[Zs,js]=l.useState(!1),[Xs,ss]=l.useState(!1),[et,ts]=l.useState(!1),[st,ls]=l.useState(!1),[Ve,tt]=l.useState("all"),[lt,at]=l.useState(null),[nt,as]=l.useState(!0),[fs,Ge]=l.useState(""),[Ns,Ye]=l.useState(""),[bs,ze]=l.useState("N"),[gs,Je]=l.useState("");l.useEffect(()=>{fetch("/packing-cost-fe/cpsComparison.json").then(pe=>pe.json()).then(pe=>d(pe)),fetch("/materials.json").then(pe=>pe.json()).then(pe=>r(pe))},[]);const rt=u.current,ot=u.comparisons;l.useEffect(()=>{s&&(t?(i(t.cpsNo||""),P(t.refCpsNo||""),w(t.issueDate||""),f(t.effectiveDate||""),v(t.cfcPjtCode||""),D(t.model||""),_(t.partNo||""),C(t.partName||""),y(t.supplier||""),L(t.plantCode||""),se(t.dockCode||""),t.pseInfo&&(E(t.pseInfo.packingPlantCurr||""),k(t.pseInfo.packingPlantNext||""),z(t.pseInfo.vanningPlantCurr||""),q(t.pseInfo.vanningPlantNext||""),H(t.pseInfo.orderPatternCurr||""),O(t.pseInfo.orderPatternNext||""),V(t.pseInfo.category||""),te(t.pseInfo.katashiki||{AD:"",AU:"",AF:"",AX:""}),ee(t.pseInfo.importerLineProcess||""),ne(t.pseInfo.caseCode||""),ie(t.pseInfo.boxNumber||""),de(t.pseInfo.renban||""),le(t.pseInfo.renbanEff||""),je(t.pseInfo.packingProcessBoxing||""),Ae(t.pseInfo.packingProcessStacking||""),Ce(t.pseInfo.outerRows||[])),t.images&&(We(t.images.part||{caption:"",files:[]}),Be(t.images.packing||{caption:"",files:[]}),He(t.images.outer||{caption:"",files:[]}),Ue(t.images.qkp||{caption:"",files:[]}),qe(t.images.bkp||{caption:"",files:[]})),t.packing&&(es(t.packing.innerVolume||""),De(t.packing.innerRows||[])),$e(t.notes||""),t.logistic&&(Ge(t.logistic.tmmindDestDockCode||""),Ye(t.logistic.logisticRemark||""),ze(t.logistic.processType||"N"),Je(t.logistic.addressRack||""))):(i(""),P(""),w(""),f(""),v(""),D(""),_(""),C(""),y(""),L(""),se(""),M(!1),E(""),k(""),z(""),q(""),H(""),O(""),V(""),te({AD:"",AU:"",AF:"",AX:""}),ee(""),ne(""),ie(""),de(""),le(""),je(""),Ae(""),Ce([]),We({caption:"",files:[]}),Be({caption:"",files:[]}),He({caption:"",files:[]}),Ue({caption:"",files:[]}),qe({caption:"",files:[]}),es(""),De([]),$e(""),Le({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),as(!0),Ge(""),Ye(""),ze("N"),Je("")))},[s,t]);function it(){if(!Ke.materialNo.trim()){alert("Enter Pack Material No");return}De(oe=>[...oe,{...Ke}]),Le({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})}function ct(oe){De(pe=>pe.filter((ns,_e)=>_e!==oe))}function dt(oe){oe&&(_(oe.partNo),C(oe.partName),y(oe.supplierName)),ss(!1)}const mt=()=>{const oe=nl({cpsNo:p,refCpsNo:j,issueDate:N,effectiveDate:x,cfcPjtCode:g,model:S,partNo:$,partName:I,supplier:U,plantCode:A,dockCode:W,pseInfo:{packingPlantCurr:Y,packingPlantNext:T,vanningPlantCurr:G,vanningPlantNext:J,orderPatternCurr:Z,orderPatternNext:R,category:b,katashiki:B,importerLineProcess:F,caseCode:K,boxNumber:X,renban:ue,renbanEff:ye,packingProcessBoxing:re,packingProcessStacking:xe,outerRows:Me},images:{part:cs,packing:ds,outer:ms,qkp:us,bkp:hs},packing:{innerVolume:Gs,innerRows:xs},notes:ps,logistic:{tmmindDestDockCode:fs,logisticRemark:Ns,processType:bs,addressRack:gs}});o(oe),vs()},vs=()=>{rl({setCpsNo:i,setRefCpsNo:P,setIssueDate:w,setEffectiveDate:f,setCfcPjtCode:v,setModel:D,setPartNo:_,setPartName:C,setSupplier:y,setPlantCode:L,setDockCode:se,setPseOpen:M,setPackingPlantCurr:E,setPackingPlantNext:k,setVanningPlantCurr:z,setVanningPlantNext:q,setOrderPatternCurr:H,setOrderPatternNext:O,setCategory:V,setKatashiki:te,setImporterLineProcess:ee,setCaseCode:ne,setBoxNumber:ie,setRenban:de,setRenbanEff:le,setPackingProcessBoxing:je,setPackingProcessStacking:Ae,setPseOuterRows:Ce,setNewPseOuter:Xe,setImagesPart:We,setImagesPacking:Be,setImagesOuter:He,setImagesQkp:Ue,setImagesBkp:qe,setInnerVolume:es,setInnerRows:De,setNotes:$e,setNewInner:Le,setLogisticOpen:as,setTmmindDestDockCode:Ge,setLogisticRemark:Ye,setProcessType:ze,setAddressRack:Je}),a()};function ut(oe){oe&&(Array.isArray(oe)?D(oe.map(pe=>pe.code).join(", ")):D(oe.code||"")),ts(!1)}function ht(oe){if(oe){const pe=lt;if(Ve==="outer"||Ve==="module"){const ns={materialNo:oe.materialNo,name:oe.materialName,supplier:oe.supplierName,L:oe.dimension_length,W:oe.dimension_width,H:oe.dimension_height,wtPerPc:oe.unitWeight};if(pe==="new")Xe(_e=>({..._e,...ns}));else{const _e=[...Me];_e[pe]={..._e[pe],...ns},Ce(_e)}}else Ve==="inner"&&Le({...Ke,materialNo:oe.materialNo,name:oe.materialName,L:oe.dimension_length,W:oe.dimension_width,H:oe.dimension_height,wtPerPc:oe.unitWeight})}ls(!1)}const xt=()=>ts(!0),Cs=(oe,pe=null)=>{tt(oe),at(pe),ls(!0)};return s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:oe=>{oe.target===oe.currentTarget&&a()},children:[e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1200},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:t?"CPS - Edit":"CPS - New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[n.general.visible&&e.jsxs(e.Fragment,{children:[e.jsx(Zt,{config:n.general,cpsNo:p,setCpsNo:Q(i),refCpsNo:j,setRefCpsNo:Q(P),cfcPjtCode:g,setCfcPjtCode:Q(v),model:S,setModel:Q(D),partNo:$,setPartNo:Q(_),partName:I,setPartName:Q(C),supplier:U,setSupplier:Q(y),plantCode:A,setPlantCode:Q(L),dockCode:W,setDockCode:Q(se),openPartPicker:()=>ss(!0),openModelPicker:xt,setComparisonOpen:js}),n.pse.visible&&e.jsx("hr",{})]}),n.pse.visible&&e.jsxs(e.Fragment,{children:[e.jsx(Xt,{config:n.pse,pseOpen:ae,setPseOpen:M,packingPlantCurr:Y,setPackingPlantCurr:Q(E),packingPlantNext:T,setPackingPlantNext:Q(k),vanningPlantCurr:G,setVanningPlantCurr:Q(z),vanningPlantNext:J,setVanningPlantNext:Q(q),orderPatternCurr:Z,setOrderPatternCurr:Q(H),orderPatternNext:R,setOrderPatternNext:Q(O),category:b,setCategory:Q(V),katashiki:B,setKatashiki:te,importerLineProcess:F,setImporterLineProcess:Q(ee),caseCode:K,setCaseCode:Q(ne),boxNumber:X,setBoxNumber:Q(ie),renban:ue,setRenban:Q(de),renbanEff:ye,setRenbanEff:Q(le),packingProcessBoxing:re,setPackingProcessBoxing:Q(je),packingProcessStacking:xe,setPackingProcessStacking:Q(Ae),pseOuterRows:Me,setPseOuterRows:Ce,newPseOuter:Vs,setNewPseOuter:Xe,openMaterialPicker:Cs}),n.images.visible&&e.jsx("hr",{})]}),n.images.visible&&e.jsxs(e.Fragment,{children:[e.jsx(sl,{config:n.images,imagesOpen:Ys,setImagesOpen:zs,imagesPart:cs,setImagesPart:We,imagesPacking:ds,setImagesPacking:Be,imagesOuter:ms,setImagesOuter:He,imagesQkp:us,setImagesQkp:Ue,imagesBkp:hs,setImagesBkp:qe}),n.packing.visible&&e.jsx("hr",{})]}),n.packing.visible&&e.jsxs(e.Fragment,{children:[e.jsx(ll,{config:n.packing,materials:c,packingOpen:Js,setPackingOpen:Qs,innerRows:xs,setInnerRows:De,newInner:Ke,setNewInner:Le,handleAddInnerRow:it,handleRemoveInnerRow:ct,openMaterialPicker:Cs}),n.logistic.visible&&e.jsx("hr",{})]}),n.logistic.visible&&e.jsx(al,{config:n.logistic,logisticOpen:nt,setLogisticOpen:as,tmmindDestDockCode:fs,setTmmindDestDockCode:Ge,logisticRemark:Ns,setLogisticRemark:Ye,processType:bs,setProcessType:ze,addressRack:gs,setAddressRack:Je}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Note"}),e.jsx("textarea",{className:"form-control form-control-sm",rows:"3",value:ps,onChange:Q($e)})]})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-secondary",onClick:vs,children:"Cancel"}),e.jsx("button",{className:"btn btn-primary ml-2",onClick:mt,children:"Save"}),e.jsx("button",{className:"btn btn-success ml-2",onClick:()=>alert("Submit action to be implemented."),children:"Submit"})]})]}),e.jsx("style",{children:`
          .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 2000; display:flex; align-items:center; justify-content:center; padding:1rem; }
          .np-modal { width: 100%; max-height: 95vh; overflow: auto; z-index: 2001; }
          .table-sm td, .table-sm th { vertical-align: middle; }
        `})]}),e.jsx(Jt,{isOpen:Zs,onClose:()=>js(!1),parts:ot,current:rt,extraClass:"multi-parts-comparison"}),e.jsx(Ie,{show:Xs,onClose:()=>ss(!1),onSelect:dt,zIndex:4e3,mode:"single"}),e.jsx(Fe,{show:et,onClose:()=>ts(!1),onAdd:ut,selectionMode:"single"}),e.jsx(Qt,{show:st,onClose:()=>ls(!1),onAdd:ht,zIndex:3e3,filter:Ve})]}):null}const ws=[{userId:"12345",name:"Rollin Khaider",dept:"PSE",role:"Dept Head"},{userId:"22345",name:"Asep Sumarna",dept:"PPM",role:"Section Head"},{userId:"32345",name:"Khalil Gibran",dept:"PSE",role:"Staff"},{userId:"42345",name:"Jaka T. Mulyo",dept:"PCD",role:"Staff"},{userId:"52345",name:"W.H. Jeanette",dept:"PPM",role:"Staff"}];function il({show:s=!1,onClose:a,onSelect:o}){const[t,n]=l.useState({userId:"",name:"",dept:"",role:""}),[m,h]=l.useState(null);if(!s)return null;const u=r=>{n({...t,[r.target.name]:r.target.value})},d=()=>n({userId:"",name:"",dept:"",role:""}),c=ws.filter(r=>(!t.userId||r.userId.includes(t.userId))&&(!t.name||r.name.toLowerCase().includes(t.name.toLowerCase()))&&(!t.dept||r.dept.toLowerCase().includes(t.dept.toLowerCase()))&&(!t.role||r.role.toLowerCase().includes(t.role.toLowerCase())));return e.jsxs("div",{className:"np-modal-backdrop",style:{zIndex:3e3},children:[e.jsxs("div",{className:"np-modal card card-outline card-info",style:{maxWidth:600},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h5",{className:"card-title mb-0",style:{fontSize:20},children:e.jsx("b",{children:"Select a Person"})}),e.jsx("button",{className:"btn btn-tool ml-auto",onClick:a,children:e.jsx("span",{style:{fontSize:25},children:"×"})})]}),e.jsxs("div",{className:"card-body pb-2",children:[e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"User Id"}),e.jsx("input",{name:"userId",className:"form-control form-control-sm",value:t.userId,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Name"}),e.jsx("input",{name:"name",className:"form-control form-control-sm",value:t.name,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small mb-1",children:"Dept"}),e.jsx("input",{name:"dept",className:"form-control form-control-sm",value:t.dept,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Role"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{name:"role",className:"form-control form-control-sm",value:t.role,onChange:u}),e.jsxs("div",{className:"input-group-append",children:[e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:d,children:e.jsx("i",{className:"fas fa-times"})})]})]})]})]}),e.jsx("div",{style:{maxHeight:260,overflowY:"auto"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Dept"}),e.jsx("th",{children:"Role"})]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-muted",children:"No Data Found"})}):c.map((r,p)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"radio",checked:m===r.userId,onChange:()=>h(r.userId)})}),e.jsx("td",{children:r.userId}),e.jsx("td",{children:r.name}),e.jsx("td",{children:r.dept}),e.jsx("td",{children:r.role})]},r.userId))})]})})]}),e.jsx("div",{className:"card-footer text-right",children:e.jsxs("button",{className:"btn btn-success",disabled:!m,onClick:()=>{const r=ws.find(p=>p.userId===m);r&&o&&o(r),a&&a()},children:[e.jsx("i",{className:"fas fa-check mr-1"})," Select"]})})]}),e.jsx("style",{children:`
        .np-modal-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.35);
          z-index: 3000;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }
        .np-modal { width: 100%; z-index: 3001; }
        .table-sm td, .table-sm th { vertical-align: middle; }
      `})]})}const is=[{destCode:"301B",code:"TAR",country:"ARGENTINA",company:"Toyota Argentina"},{destCode:"301B",code:"TASA",country:"ARGENTINA",company:"Toyota Argentina S.A."},{destCode:"537B",code:"TSM",country:"AFRIKA",company:"Toyota South Africa Motors"},{destCode:"709B",code:"TKM",country:"INDIA",company:"Toyota Kirloskar Motor"},{destCode:"715B",code:"TMV",country:"VIETNAM",company:"Toyota Motor Vietnam"},{destCode:"717C",code:"IMC",country:"PAKISTAN",company:"Indus Motor Company"},{destCode:"721B",code:"KUO",country:"KUOZUI",company:"Kuozui Motors"},{destCode:"721C",code:"KUO",country:"KUOZUI",company:"Kuozui Motors"},{destCode:"722C",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"722F",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"722B",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"811C",code:"TMP",country:"PHILIPINE",company:"Toyota Motor Philippines"},{destCode:"812B",code:"UMW",country:"MALAYSIA",company:"UMW Toyota Motor"},{destCode:"812K",code:"UMW",country:"MALAYSIA",company:"UMW Toyota Motor"},{destCode:"547A",code:"TEE",country:"MESIR",company:"Toyota Egypt Enterprise"},{destCode:"303B",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"303E",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"303D",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"D55E",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"704B",code:"TMY",country:"MYANMAR",company:"Toyota Motor Myanmar"},{destCode:"705A",code:"CAM",country:"CAMBOJA",company:"Cambodia Toyota Motor"},{destCode:"709C",code:"TKAP",country:"INDIA 2",company:"Toyota Kirloskar Auto Parts"},{destCode:"709D",code:"TIEI",country:"INDIA 3",company:"Toyota Industries Engine India"},{destCode:"722S",code:"STM",country:"SIAM THAILAND",company:"Siam Toyota Motor"},{destCode:"811W",code:"TAP",country:"PHILIPINE 2",company:"Toyota Auto Parts Philippines"},{destCode:"807B",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"},{destCode:"807D",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"},{destCode:"807J",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"}],cl=[{id:1,cpsNo:"CPS-2024-001",refCpsNo:"",issueDate:"2024-07-01",effectiveDate:"2024-07-10",dpiNo:"DPI-2024-001",cfcPjtCode:"PJT-A",model:"579W",partNo:"90466T006200",partName:"CLIP, MOULDING",supplier:"Supplier A",plantCode:"TMMIN",dockCode:"D01",pseInfo:{packingPlantCurr:"PLANT-1",packingPlantNext:"PLANT-1",vanningPlantCurr:"VPLANT-A",vanningPlantNext:"VPLANT-A",orderPatternCurr:"A1",orderPatternNext:"A1",category:"CAT-1",katashiki:{AD:"AD1",AU:"AU1",AF:"AF1",AX:"AX1"},importerLineProcess:"ILP-1",caseCode:"CC-001",boxNumber:"B-001",renban:"R-001",renbanEff:"2024-07-10",packingProcessBoxing:"Manual",packingProcessStacking:"Auto"},images:{part:{caption:"Part Image",files:[]},packing:{caption:"Packing Image",files:[]},outer:{caption:"Outer Image",files:[]},qkp:{caption:"QKP Image",files:[]},bkp:{caption:"BKP Image",files:[]}},packing:{outerModuleType:"MOD-A",outerDimension:{L:"100",W:"80",H:"60"},innerVolume:"0.0384",outerVolume:"0.048",innerRows:[{materialNo:"MAT-001",suffix:"S1",name:"Inner Box",parent:"",supplierId:"SUP-001",supplierName:"Supplier Inner",L:"50",W:"40",H:"30",wtPerPc:"0.1",qty:"10"}]},notes:"This is a note for the first CPS.",numParts:5,fromUser:"User A",toUser:"User B",status:"Approved"},{id:2,cpsNo:"CPS-2024-002",refCpsNo:"CPS-2024-001",issueDate:"2024-07-05",effectiveDate:"2024-07-15",dpiNo:"DPI-2024-002",cfcPjtCode:"PJT-B",model:"579W",partNo:"32101BZ10000",partName:"Part B",supplier:"Supplier B",plantCode:"TMMIN",dockCode:"D02",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:8,fromUser:"User C",toUser:"User D",status:"Submitted"},{id:3,cpsNo:"CPS-2024-003",refCpsNo:"",issueDate:"2024-07-12",effectiveDate:"2024-07-20",dpiNo:"DPI-2024-003",cfcPjtCode:"PJT-C",model:"579W",partNo:"90466T006200",partName:"Part C",supplier:"Supplier C",plantCode:"TMMIN",dockCode:"D03",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:3,fromUser:"User E",toUser:"User F",status:"Draft"},{id:4,cpsNo:"CPS-2024-004",refCpsNo:"",issueDate:"2024-07-15",effectiveDate:"2024-07-25",dpiNo:"DPI-2024-004",cfcPjtCode:"PJT-A",model:"579W",partNo:"32101BZ10000",partName:"Part D",supplier:"Supplier D",plantCode:"TMMIN",dockCode:"D04",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:12,fromUser:"User A",toUser:"User G",status:"Rejected"},{id:5,cpsNo:"CPS-2024-005",refCpsNo:"CPS-2024-004",issueDate:"2024-07-20",effectiveDate:"2024-08-01",dpiNo:"DPI-2024-005",cfcPjtCode:"PJT-D",model:"579W",partNo:"90466T006200",partName:"Part E",supplier:"Supplier E",plantCode:"TMMIN",dockCode:"D05",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:7,fromUser:"User H",toUser:"User I",status:"Approved"}],dl=({onNewCps:s,onUpload:a,onDownload:o,onCreatePsi:t,onCreateEci:n,onComparePcs:m})=>e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:s,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create CPS"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:t,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create PSI"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:n,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create ECI"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-info",onClick:m,children:[e.jsx("i",{className:"fas fa-exchange-alt mr-1"})," Compare PCS"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary ml-2",title:"Upload",onClick:a,children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary ml-1",title:"Download Template",onClick:o,children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]});function Bs({show:s,onClose:a,onAdd:o,selectionMode:t="multi"}){const[n,m]=l.useState([]),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(t==="multi"?[]:null),[P,N]=l.useState([]),[w,x]=l.useState(1),f=15;l.useEffect(()=>{fetch("/packing-cost-fe/destinations.json").then(A=>A.json()).then(A=>{m(A),N(A)})},[]),l.useEffect(()=>{s&&(u(""),c(""),p(""),j(t==="multi"?[]:null),N(n),x(1))},[s,t,n]);const g=y=>{j(t==="multi"?A=>A.includes(y)?A.filter(L=>L!==y):[...A,y]:y)},v=()=>{const y=n.filter(A=>A.destCode.toLowerCase().includes(h.toLowerCase())&&A.code.toLowerCase().includes(d.toLowerCase())&&A.country.toLowerCase().includes(r.toLowerCase()));N(y),x(1)},S=()=>{u(""),c(""),p(""),N(n),x(1)},D=()=>{if(typeof o=="function")if(t==="multi")o(i.map(y=>n.find(A=>A.destCode===y)));else{const y=n.find(A=>A.destCode===i);o(y)}j(t==="multi"?[]:null),typeof a=="function"&&a()},$=w*f,_=$-f,I=P.slice(_,$),C=Math.ceil(P.length/f);if(!s)return null;const U=e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog","aria-modal":"true",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",inset:0,zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",style:{zIndex:2100},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Destination"}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"d-flex align-items-end mb-3",children:[e.jsxs("div",{style:{flex:"0 0 20%",paddingRight:"0.5rem"},children:[e.jsx("label",{className:"small",children:"Dest Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:y=>u(y.target.value)})]}),e.jsxs("div",{style:{flex:"0 0 20%",paddingRight:"0.5rem"},children:[e.jsx("label",{className:"small",children:"Dest Country Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:y=>c(y.target.value)})]}),e.jsxs("div",{style:{flex:"0 0 40%",paddingRight:"0.5rem"},children:[e.jsx("label",{className:"small",children:"Country Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:y=>p(y.target.value)})]}),e.jsxs("div",{style:{flex:"1 1 auto"},className:"text-right",children:[e.jsxs("button",{className:"btn btn-sm btn-primary mr-1",onClick:v,type:"button",children:["Filter ",e.jsx("i",{className:"fas fa-search"})]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:S,type:"button",children:["Clear ",e.jsx("i",{className:"fas fa-times"})]})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Dest Country Code"}),e.jsx("th",{children:"Country Name"})]})}),e.jsx("tbody",{children:I.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No destinations found"})}):I.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"destination-selection",checked:t==="multi"?i.includes(y.destCode):i===y.destCode,onChange:()=>g(y.destCode)})}),e.jsx("td",{children:y.destCode}),e.jsx("td",{children:y.code}),e.jsx("td",{children:y.country})]},y.destCode))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>x(y=>Math.max(1,y-1)),disabled:w===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",w," of ",C]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>x(y=>Math.min(C,y+1)),disabled:w===C,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:D,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:a,type:"button",children:"Cancel"})]})]})]})})});return os.createPortal(U,typeof document<"u"?document.body:null)}const ml=()=>{const{user:s}=ke(),o=(()=>{if(s&&s.department&&s.role){const le=Ss[s.department];if(le&&le[s.role])return le[s.role]}return Ss.default})(),[t,n]=l.useState(cl),[m,h]=l.useState([]),[u,d]=l.useState(!1),[c,r]=l.useState(null),[p,i]=l.useState(!1),[j,P]=l.useState(null),[N,w]=l.useState(!1),[x,f]=l.useState(""),[g,v]=l.useState(""),[S,D]=l.useState(""),[$,_]=l.useState(""),[I,C]=l.useState(""),[U,y]=l.useState(""),[A,L]=l.useState(""),[W,se]=l.useState(""),[ae,M]=l.useState(""),[Y,E]=l.useState(""),[T,k]=l.useState(""),[G,z]=l.useState(""),[J,q]=l.useState(""),[Z,H]=l.useState(""),[R,O]=l.useState({currentPage:1,perPage:5}),b=()=>{f(""),v(""),D(""),_(""),C(""),y(""),L(""),se(""),M(""),E(""),k(""),z(""),q(""),H(""),h([])},V=le=>{const re=de,je=t.filter(xe=>(re.cpsNo?xe.cpsNo.includes(re.cpsNo):!0)&&(re.refCpsNo?xe.refCpsNo.includes(re.refCpsNo):!0)&&(re.model?xe.model.toLowerCase().includes(re.model.toLowerCase()):!0)&&(re.partNo?xe.partNo.includes(re.partNo):!0)&&(re.cfcPjt?xe.cfcPjtCode.includes(re.cfcPjt):!0)&&(re.fromUser?new Date(xe.issuedDate)>=new Date(re.fromUser):!0)&&(re.toUser?new Date(xe.issuedDate)<=new Date(re.toUser):!0)&&(re.status?xe.status===re.status:!0)&&(re.destCode?xe.destCode===re.destCode:!0)&&(re.cpsPsiEci?xe.docType===re.cpsPsiEci:!0));h(je),O(xe=>({...xe,currentPage:1}))},B=le=>{let re;if(c)re=t.map(je=>je.id===c.id?{...je,...le}:je);else{const je=t.length>0?Math.max(...t.map(xe=>xe.id))+1:1;re=[...t,{...le,id:je}]}n(re),h(re),d(!1),r(null)},te=le=>{r(le),d(!0)},F=le=>{const re=t.length>0?Math.max(...t.map(Ce=>Ce.id))+1:1,je={...le,id:re,refCpsNo:le.cpsNo,cpsNo:""},xe=m.findIndex(Ce=>Ce.id===le.id),Ae=[...t,je],Me=[...m];Me.splice(xe+1,0,je),n(Ae),h(Me)},ee=()=>{d(!1),r(null)},K=()=>{console.log("Create PSI clicked")},ne=()=>{console.log("Create ECI clicked")},X=()=>{console.log("Compare PCS clicked")},ie=le=>{P(le),i(!0)},ue=le=>{E(le.destCode.toUpperCase()),k(le.country.toUpperCase()),w(!1)},de={cpsNo:x,refCpsNo:g,model:S,partNo:$,partName:I,cfcPjt:U,fromUser:A,toUser:W,status:ae,destCode:Y,destCountry:T,cpsPsiEci:G,supplierCode:J,supplierName:Z},ye={setCpsNo:le=>f(le.toUpperCase()),setRefCpsNo:le=>v(le.toUpperCase()),setModel:le=>D(le.toUpperCase()),setPartNo:le=>_(le.toUpperCase()),setPartName:le=>C(le.toUpperCase()),setCfcPjt:le=>y(le.toUpperCase()),setFromUser:le=>L(le.toUpperCase()),setToUser:le=>se(le.toUpperCase()),setStatus:le=>M(le.toUpperCase()),setDestCode:le=>E(le.toUpperCase()),setDestCountry:le=>k(le.toUpperCase()),setCpsPsiEci:le=>z(le.toUpperCase()),setSupplierCode:le=>q(le.toUpperCase()),setSupplierName:le=>H(le.toUpperCase())};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-secondary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"CPS List"})}),e.jsx(dl,{onNewCps:()=>d(!0),onCreatePsi:K,onCreateEci:ne,onComparePcs:X})]}),e.jsxs("div",{className:"card-body",children:[e.jsx(Rt,{filters:de,setters:ye,onSearch:()=>V(),onClear:b,onPersonPicker:ie,onDestinationPicker:()=>w(!0),destinations:is}),e.jsx("hr",{}),e.jsx(Ot,{filteredCps:m,page:R.currentPage,perPage:R.perPage,setPage:le=>O(re=>({...re,currentPage:le})),setPerPage:le=>O(re=>({...re,perPage:le})),onEdit:te,onClone:F})]})]}),e.jsx(ol,{show:u,onClose:ee,onSave:B,editData:c,config:o}),p&&e.jsx(il,{show:p,onClose:()=>i(!1),onSelect:le=>{i(!1)}}),e.jsx(Bs,{show:N,onClose:()=>w(!1),onAdd:ue,selectionMode:"single"})]})};function ul({show:s=!1,onClose:a,initial:o=null,onSave:t,onSubmit:n}){const m={dpiNo:"",refDpiNo:"",issuedDate:"",effectiveDate:"",cfcPjt:"",model:"",from:"",to:"",supplier:"",numParts:0,numCps:0,status:"Draft",notes:""},[h,u]=l.useState(o||m),[d,c]=l.useState([]);if(l.useEffect(()=>(s?(u(o||m),c(o&&o.parts||[]),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s,o]),!s)return null;function r(f){const{name:g,value:v}=f.target;u(S=>({...S,[g]:v}))}function p(){const f={cps:"",partNo:"",suffix:"",name:"",parent:"",supplierCode:"",supplierName:"",L:"",W:"",H:"",wtPc:"",qtyBox:"",totalWt:""};c(g=>[...g,f])}function i(f,g,v){c(S=>S.map((D,$)=>$===f?{...D,[g]:v}:D))}function j(f){c(g=>g.filter((v,S)=>S!==f))}async function P(f){return await new Promise(g=>setTimeout(g,200)),null}async function N(){const f=(h.refDpiNo||"").trim();if(f)try{const g=await P(f);g&&(u(v=>({...v,...g})),c(g.parts||[]))}catch(g){console.error("fetch dpi by ref failed",g)}}function w(f){f&&f.preventDefault&&f.preventDefault();const g={...h,status:"Draft",parts:d};t&&t(g)}function x(f){f&&f.preventDefault&&f.preventDefault();const g={...h,status:"Submitted",parts:d};n&&n(g)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,role:"dialog","aria-modal":"true",children:e.jsx("div",{className:"modal-dialog modal-xl",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"DPI New"})}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:e.jsx("strong",{children:"DPI No."})}),e.jsx("input",{name:"dpiNo",className:"form-control form-control-sm",value:h.dpiNo,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CFC / PJT"}),e.jsx("input",{name:"cfcPjt",className:"form-control form-control-sm",value:h.cfcPjt,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Issued Date"}),e.jsx("input",{type:"date",name:"issuedDate",className:"form-control form-control-sm",value:h.issuedDate,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"From"}),e.jsx("input",{name:"from",className:"form-control form-control-sm",value:h.from,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier"}),e.jsx("input",{name:"supplier",className:"form-control form-control-sm",value:h.supplier,onChange:r})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:e.jsx("strong",{children:"DPI Ref No."})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{name:"refDpiNo",className:"form-control form-control-sm",value:h.refDpiNo,onChange:r,onBlur:N}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model"}),e.jsx("input",{name:"model",className:"form-control form-control-sm",value:h.model,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Effective Date"}),e.jsx("input",{type:"date",name:"effectiveDate",className:"form-control form-control-sm",value:h.effectiveDate,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"To"}),e.jsx("input",{name:"to",className:"form-control form-control-sm",value:h.to,onChange:r})]})]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-3 mb-2",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-chevron-down"})," ",e.jsx("strong",{children:"Parts"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:p,children:[e.jsx("i",{className:"fas fa-plus"})," add"]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"CPS"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Wt/pc"}),e.jsx("th",{children:"Qty/box"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-4",children:'No parts. Click "add" to insert a new part.'})}):d.map((f,g)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.cps,onChange:v=>i(g,"cps",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.partNo,onChange:v=>i(g,"partNo",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.suffix,onChange:v=>i(g,"suffix",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.name,onChange:v=>i(g,"name",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.parent,onChange:v=>i(g,"parent",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.supplierCode,onChange:v=>i(g,"supplierCode",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.supplierName,onChange:v=>i(g,"supplierName",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.L,onChange:v=>i(g,"L",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.W,onChange:v=>i(g,"W",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.H,onChange:v=>i(g,"H",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.wtPc,onChange:v=>i(g,"wtPc",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.qtyBox,onChange:v=>i(g,"qtyBox",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.totalWt,onChange:v=>i(g,"totalWt",v.target.value)})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Edit",children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>j(g),title:"Delete",children:e.jsx("i",{className:"fas fa-trash"})})]})]},g))})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{children:e.jsx("strong",{children:"Note :"})}),e.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:h.notes,onChange:f=>u(g=>({...g,notes:f.target.value}))})]})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-success mr-2",onClick:w,children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:x,children:"Submit"})]})]})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]})}function hl(s){console.log("Props received by SearchSection:",s);const{filters:a,setters:o,onSearch:t,onClear:n,onPartSearch:m,onModelSearch:h,onDpiSearch:u}=s,{modelCfc:d,destCode:c,partNo:r,supplierCode:p,cpsNo:i,implementationPeriod:j}=a||{},{setModelCfc:P,setDestCode:N,setPartNo:w,setSupplierCode:x,setCpsNo:f,setImplementationPeriod:g}=o||{},[v,S]=l.useState(""),D=I=>{if(I.key===" "||I.key===","){I.preventDefault();const C=v.trim();C&&w(U=>[...new Set([...U,C])]),S("")}},$=I=>{w(C=>C.filter(U=>U!==I))},_=()=>{console.log("Search button clicked in SearchSection"),t?t():console.error("onSearch prop is NOT DEFINED in SearchSection. Check the parent component.")};return e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Model CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:d||"",onChange:Q(P),placeholder:"Model CFC"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Model CFC",onClick:h,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Implementation Period"}),e.jsx("div",{className:"input-group input-group-sm",children:e.jsx("input",{className:"form-control form-control-sm",value:j||"",onChange:Q(g),placeholder:"Implementation Period"})})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"4px"},children:[r&&r.map(I=>e.jsxs("span",{className:"badge badge-primary",style:{display:"flex",alignItems:"center",padding:"4px 8px"},children:[I,e.jsx("button",{type:"button",className:"close","aria-label":"Remove",onClick:()=>$(I),style:{color:"white",marginLeft:"8px",textShadow:"none",opacity:1,fontSize:"1rem"},children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},I)),e.jsx("input",{style:{border:"none",outline:"none",flex:"1",minWidth:"100px"},value:v,onChange:Q(S),onKeyDown:D,placeholder:"Type and press space"})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part No",onClick:m,children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:c||"",onChange:Q(N),placeholder:"Dest Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Dest Code",onClick:()=>alert("Search Dest Code placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"CPS No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:i||"",onChange:Q(f),placeholder:"CPS No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search CPS No",onClick:u,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:p||"",onChange:Q(x),placeholder:"Supplier Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Supplier",onClick:()=>alert("Search Supplier placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})}),e.jsxs("div",{className:"col-12 d-flex",children:[e.jsx("div",{className:"col-md-6"}),e.jsxs("div",{className:"col-md-6 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:_,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:n,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})]})]})})}function Hs({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx(ge.Fragment,{children:o===0?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Length"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Width"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Height"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Volume Inner"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Volume Outer"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Usage"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Source"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Usage"})]})},`matLeafHdr-${o}`))})}function Us({arr:s=[],count:a=1}){return e.jsx(e.Fragment,{children:s.map((o,t)=>e.jsx(ge.Fragment,{children:t===0?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:o.material_no||"-"}),e.jsx("td",{children:o.dimension_length||"-"}),e.jsx("td",{children:o.dimension_width||"-"}),e.jsx("td",{children:o.dimension_height||"-"}),e.jsx("td",{children:o.volume_inner||"-"}),e.jsx("td",{children:o.volume_outer||"-"}),e.jsx("td",{children:o.qty||"-"}),e.jsx("td",{children:o.source||"-"})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:o.material_no||"+"}),e.jsx("td",{children:o.qty||"+"})]})},`matLeafCell-${t}`))})}function xl({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:o===0?8:2,children:o===0?"Box":`Inner ${o}`},`innerGrp-${o}`))})}const pl=({count:s})=>e.jsx(Hs,{count:s}),jl=({data:s,count:a})=>e.jsx(Us,{arr:s,count:a});function fl({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:o===0?8:2,children:o===0?"Module":`Outer ${o}`},`outerGrp-${o}`))})}const Nl=({count:s})=>e.jsx(Hs,{count:s}),bl=({data:s,count:a})=>e.jsx(Us,{arr:s,count:a});function gl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("destination")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Destination"}),s.includes("model")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Model"}),s.includes("impl_period")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Impl Period"}),s.includes("cps_no")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"CPS No"})]})}function vl({mainInfo:s,checked:a}){var h,u,d,c;const{destination:o,model_name:t,impl_period:n,cps_no:m}=s||{};debugger;return e.jsxs(e.Fragment,{children:[a.includes("destination")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((d=(u=(h=s==null?void 0:s.cps)==null?void 0:h.model)==null?void 0:u.destination)==null?void 0:d.code)??"-"}),a.includes("model")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(s==null?void 0:s.model_code)??"-"}),a.includes("impl_period")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(s==null?void 0:s.implementation_period)??"-"}),a.includes("cps_no")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((c=s==null?void 0:s.cps)==null?void 0:c.cps_no)??"-"})]})}function Cl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("part_no_part")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part No "}),s.includes("part_name")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Name"}),s.includes("parent_part")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Parent Part"}),s.includes("supplier_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Code"}),s.includes("supplier_name")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Supplier Name"}),s.includes("part_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Status"}),s.includes("dtl_part_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Dtl Part Status"}),s.includes("pack_spec_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Pack Spec Status"}),s.includes("weight_pc")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Weight/Pc (Kg)"}),s.includes("qty_box")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty/Box"})]})}function yl({partInfo:s,checked:a}){var o,t;return e.jsxs(e.Fragment,{children:[a.includes("part_no_part")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.part_no??"-"}),a.includes("part_name")&&e.jsx("td",{className:"align-middle",children:s.part_name??"-"}),a.includes("parent_part")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.parent_no??"-"}),a.includes("supplier_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((o=s.supplier)==null?void 0:o.supplier_code)??"-"}),a.includes("supplier_name")&&e.jsx("td",{className:"align-middle",children:((t=s.supplier)==null?void 0:t.supplier_name)??"-"}),a.includes("part_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.part_status??"-"}),a.includes("dtl_part_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.detail_part_status??"-"}),a.includes("pack_spec_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.packing_spec_status??"-"}),a.includes("weight_pc")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.weightPerPc??"-"}),a.includes("qty_box")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.qtyPerBox??"-"})]})}function Sl({checked:s}){const a=s.includes("packing_plant_current")||s.includes("packing_plant_next"),o=[s.includes("packing_plant_current"),s.includes("packing_plant_next")].filter(Boolean).length,t=s.includes("vanning_plant_current")||s.includes("vanning_plant_next"),n=[s.includes("vanning_plant_current"),s.includes("vanning_plant_next")].filter(Boolean).length,m=s.includes("order_pattern_current")||s.includes("order_pattern_next"),h=[s.includes("order_pattern_current"),s.includes("order_pattern_next")].filter(Boolean).length,u=s.includes("katashiiki_ad")||s.includes("katashiiki_au")||s.includes("katashiiki_af")||s.includes("katashiiki_ax"),d=[s.includes("katashiiki_ad"),s.includes("katashiiki_au"),s.includes("katashiiki_af"),s.includes("katashiiki_ax")].filter(Boolean).length,c=s.includes("packing_process_boxing")||s.includes("packing_process_stacking"),r=[s.includes("packing_process_boxing"),s.includes("packing_process_stacking")].filter(Boolean).length;return e.jsxs(e.Fragment,{children:[a&&e.jsx("th",{colSpan:o,className:"align-middle border text-center tbl-row2-hdr",children:"Packing Plant"}),t&&e.jsx("th",{colSpan:n,className:"align-middle border text-center tbl-row2-hdr",children:"Vanning Plant"}),m&&e.jsx("th",{colSpan:h,className:"align-middle border text-center tbl-row2-hdr",children:"Order Pattern"}),u&&e.jsx("th",{colSpan:d,className:"align-middle border text-center tbl-row2-hdr",children:"Katashiiki"}),s.includes("importer_line_process")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Importer Line Process"}),s.includes("case_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Case code"}),s.includes("box_number")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Box Number"}),s.includes("renban")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Renban"}),s.includes("renban_eff")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Renban Eff"}),c&&e.jsx("th",{colSpan:r,className:"align-middle border text-center tbl-row2-hdr",children:"Packing Process"})]})}function wl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("packing_plant_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("packing_plant_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("vanning_plant_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("vanning_plant_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("order_pattern_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("order_pattern_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("katashiiki_ad")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AD"}),s.includes("katashiiki_au")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AU"}),s.includes("katashiiki_af")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AF"}),s.includes("katashiiki_ax")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AX"}),s.includes("packing_process_boxing")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Boxing"}),s.includes("packing_process_stacking")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Stacking"})]})}function Pl({pseInfo:s,checked:a}){const{packing_plant_curr:o,packing_plant_next:t,vanning_plant_curr:n,vanning_plant_next:m,order_pattern_curr:h,order_pattern_next:u,katashiki:d,importer_line_process:c,case_code:r,box_number:p,renban:i,renban_eff:j,packing_process_boxing:P,packing_process_stacking:N}=s||{};return e.jsxs(e.Fragment,{children:[a.includes("packing_plant_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:o??"-"}),a.includes("packing_plant_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:t??"-"}),a.includes("vanning_plant_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:n??"-"}),a.includes("vanning_plant_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:m??"-"}),a.includes("order_pattern_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:h??"-"}),a.includes("order_pattern_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:u??"-"}),a.includes("katashiiki_ad")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AD)??"-"}),a.includes("katashiiki_au")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AU)??"-"}),a.includes("katashiiki_af")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AF)??"-"}),a.includes("katashiiki_ax")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AX)??"-"}),a.includes("importer_line_process")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:c??"-"}),a.includes("case_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:r??"-"}),a.includes("box_number")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:p??"-"}),a.includes("renban")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:i??"-"}),a.includes("renban_eff")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:j??"-"}),a.includes("packing_process_boxing")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:P??"-"}),a.includes("packing_process_stacking")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:N??"-"})]})}function kl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("dock_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Dock Code"}),s.includes("address")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Address"}),s.includes("process_type")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Process Type"})]})}function _l({logisticInfo:s,checked:a}){const{dock_code:o,address_rack:t,process_type:n}=s||{};return e.jsxs(e.Fragment,{children:[a.includes("dock_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:o??"-"}),a.includes("address")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:t??"-"}),a.includes("process_type")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:n??"-"})]})}const Qe={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},content:{position:"relative",background:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"80vw",maxHeight:"80vh"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},image:{maxWidth:"calc(80vw - 40px)",maxHeight:"calc(80vh - 40px)"}};function Il({imageUrl:s,isOpen:a,onClose:o}){return!a||!s?null:e.jsx("div",{style:Qe.overlay,onClick:o,children:e.jsxs("div",{style:Qe.content,onClick:t=>t.stopPropagation(),children:[e.jsx("button",{style:Qe.closeButton,onClick:o,children:"×"}),e.jsx("img",{src:s,alt:"Enlarged view",style:Qe.image})]})})}function Al({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("part_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part"}),s.includes("packing_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Packing"}),s.includes("outer_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Outer"}),s.includes("qkp_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qkp"}),s.includes("bkp_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Bkp"})]})}function Te({files:s}){const[a,o]=l.useState(!1);if(!s||s.length===0)return"-";const t=s[0],n=()=>o(!0),m=()=>o(!1);return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t,alt:"thumbnail",style:{width:"50px",height:"auto",cursor:"pointer"},onClick:n}),e.jsx(Il,{imageUrl:t,isOpen:a,onClose:m})]})}function Ml({images:s,checked:a}){const{part:o,packing:t,outer:n,qkp:m,bkp:h}=s||{};return e.jsxs(e.Fragment,{children:[a.includes("part_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Te,{files:o==null?void 0:o.files})}),a.includes("packing_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Te,{files:t==null?void 0:t.files})}),a.includes("outer_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Te,{files:n==null?void 0:n.files})}),a.includes("qkp_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Te,{files:m==null?void 0:m.files})}),a.includes("bkp_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Te,{files:h==null?void 0:h.files})})]})}function Dl({rows:s,visibleRows:a,page:o,perPage:t,total:n,totalPages:m,goToPage:h,setPerPage:u,checked:d}){var _,I,C,U,y;const c=((_=a[0])==null?void 0:_.cps)||{},r=((C=(I=c.packing)==null?void 0:I.inner)==null?void 0:C.length)||1,p=((y=(U=c.packing)==null?void 0:U.outer)==null?void 0:y.length)||1,j=["part_no_part","part_name","parent_part","supplier_code","supplier_name","part_status","dtl_part_status","pack_spec_status","weight_pc","qty_box"].filter(A=>d.includes(A)).length,P=j>0,w=["packing_plant_current","packing_plant_next","vanning_plant_current","vanning_plant_next","order_pattern_current","order_pattern_next","katashiiki_ad","katashiiki_au","katashiiki_af","katashiiki_ax","importer_line_process","case_code","box_number","renban","renban_eff","packing_process_boxing","packing_process_stacking"].filter(A=>d.includes(A)).length,x=w>0,g=["dock_code","address","process_type"].filter(A=>d.includes(A)).length,v=g>0,D=["part_image","packing_image","outer_image","qkp_image","bkp_image"].filter(A=>d.includes(A)).length,$=D>0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2"}),e.jsx("div",{className:"table-responsive mt-2",style:{overflowX:"auto",overflowY:"hidden"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center",style:{tableLayout:"fixed",width:"auto"},children:[e.jsxs("thead",{style:{fontSize:"8pt"},children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"No"}),e.jsx(gl,{checked:d}),P&&e.jsx("th",{colSpan:j,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Part Information"}),x&&e.jsx("th",{colSpan:w,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"PSE Information"}),v&&e.jsx("th",{colSpan:g,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Logistic Information"}),$&&e.jsx("th",{colSpan:D,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Images"}),e.jsx("th",{colSpan:r>0?r*2+6:0,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inner Materials"}),e.jsx("th",{colSpan:p>0?p*2+6:0,className:"align-middle border text-center tbl-row1-hdr text-nowrap\\",children:"Outer Materials"})]}),e.jsxs("tr",{children:[e.jsx(Cl,{checked:d}),e.jsx(Sl,{checked:d}),e.jsx(kl,{checked:d}),e.jsx(Al,{checked:d}),e.jsx(xl,{count:r}),e.jsx(fl,{count:p})]}),e.jsxs("tr",{children:[e.jsx(wl,{checked:d}),e.jsx(pl,{count:r}),e.jsx(Nl,{count:p})]})]}),e.jsx("tbody",{style:{fontSize:"8pt"},children:a.map((A,L)=>{var T,k;const W=A.cps||{},se=W.pse_info||{},ae=W.logistic_info||{},M=W.images||{},Y=((T=W.packing)==null?void 0:T.inner)||[],E=((k=W.packing)==null?void 0:k.outer)||[];return W.labor,W.inland,e.jsxs("tr",{children:[e.jsx("td",{children:(o-1)*t+L+1}),e.jsx(vl,{mainInfo:A,checked:d}),e.jsx(yl,{partInfo:W,checked:d}),e.jsx(Pl,{pseInfo:se,checked:d}),e.jsx(_l,{logisticInfo:ae,checked:d}),e.jsx(Ml,{images:M,checked:d}),e.jsx(jl,{data:Y,count:r}),e.jsx(bl,{data:E,count:p})]},L)})})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>h(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>h(Math.max(1,o-1)),children:"<"}),[...Array(m).keys()].map(A=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${o===A+1?"btn-primary":"btn-light"}`,onClick:()=>h(A+1),children:A+1},A)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>h(Math.min(m,o+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",n]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[t," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(10),h(1)},children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(25),h(1)},children:"25"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(50),h(1)},children:"50"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})}function Ll({onViewDpi:s,onUpload:a,onTemplate:o,onCreateDpi:t,onCreatePci:n,onToggleColumnSelector:m,viewDpiDisabled:h}){return e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:s,title:"View DPI",disabled:h,children:[e.jsx("i",{className:"fas fa-eye"})," View DPI"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:m,title:"Select Columns",children:e.jsx("i",{className:"fas fa-cog"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:a,title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-2",onClick:o,title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})}const Se=[{value:"main_info",label:"Main Info",children:[{value:"destination",label:"Destination"},{value:"model",label:"Model"},{value:"impl_period",label:"Implementation Period"},{value:"cps_no",label:"CPS No"}]},{value:"part_info",label:"Part Info",children:[{value:"part_no_part",label:"Part No"},{value:"part_name",label:"Part Name"},{value:"parent_part",label:"Parent Part"},{value:"supplier_code",label:"Supplier Code"},{value:"supplier_name",label:"Supplier Name"},{value:"part_status",label:"Part Status"},{value:"dtl_part_status",label:"Dtl Part Status"},{value:"pack_spec_status",label:"Pack Spec Status"},{value:"weight_pc",label:"Weight/Pc"},{value:"qty_box",label:"Qty/Box"}]},{value:"pse_info",label:"PSE Info",children:[{value:"packing_plant",label:"Packing Plant",children:[{value:"packing_plant_current",label:"Current"},{value:"packing_plant_next",label:"Next"}]},{value:"vanning_plant",label:"Vanning Plant",children:[{value:"vanning_plant_current",label:"Current"},{value:"vanning_plant_next",label:"Next"}]},{value:"order_pattern",label:"Order Pattern",children:[{value:"order_pattern_current",label:"Current"},{value:"order_pattern_next",label:"Next"}]},{value:"katashiiki",label:"Katashiiki",children:[{value:"katashiiki_ad",label:"AD"},{value:"katashiiki_au",label:"AU"},{value:"katashiiki_af",label:"AF"},{value:"katashiiki_ax",label:"AX"}]},{value:"importer_line_process",label:"Importer Line Process"},{value:"case_code",label:"Case Code"},{value:"box_number",label:"Box Number"},{value:"renban",label:"Renban"},{value:"renban_eff",label:"Renban Eff"},{value:"packing_process",label:"Packing Process",children:[{value:"packing_process_boxing",label:"Boxing"},{value:"packing_process_stacking",label:"Stacking"}]}]},{value:"logistic_info",label:"Logistic Info",children:[{value:"dock_code",label:"Dock Code"},{value:"address",label:"Address"},{value:"process_type",label:"Process Type"}]},{value:"images",label:"Images",children:[{value:"part_image",label:"Part"},{value:"packing_image",label:"Packing"},{value:"outer_image",label:"Outer"},{value:"qkp_image",label:"QKP"},{value:"bkp_image",label:"BKP"}]},{value:"inner_materials",label:"Inner Materials",children:[{value:"box",label:"Box",children:[{value:"box_mat_no",label:"Mat No"},{value:"box_length",label:"Length"},{value:"box_width",label:"Width"},{value:"box_height",label:"Height"},{value:"box_volume_inner",label:"Volume Inner"},{value:"box_volume_outer",label:"Volume Outer"},{value:"box_usage",label:"Usage"},{value:"box_source",label:"Source"}]},...[...Array(9).keys()].map(s=>({value:`outer_${s+1}`,label:`Outer ${s+1}`,children:[{value:`outer_${s+1}_mat_no`,label:"Mat No"},{value:`outer_${s+1}_usage`,label:"Usage"}]}))]},{value:"outer_materials",label:"Outer Materials",children:[{value:"module",label:"Module",children:[{value:"module_mat_no",label:"Mat No"},{value:"module_length",label:"Length"},{value:"module_width",label:"Width"},{value:"module_height",label:"Height"},{value:"module_volume_inner",label:"Volume Inner"},{value:"module_usage",label:"Usage"}]}]}],Tl=({isOpen:s,toggle:a,checked:o,onCheckedChange:t})=>{const[n,m]=l.useState([]);l.useEffect(()=>{if(s){let p=[...o],i=!1;const j=P=>{P.forEach(N=>{N.children&&(N.children.every(x=>p.includes(x.value))&&!p.includes(N.value)&&(p.push(N.value),i=!0),j(N.children))})};j(Se),i&&t([...new Set(p)])}},[s,o,t]);const h=(p,i=[])=>(p.children&&p.children.forEach(j=>{i.push(j.value),h(j,i)}),i),u=(p,i)=>{var j;for(const P of i){if((j=P.children)!=null&&j.some(N=>N.value===p))return P;if(P.children){const N=u(p,P.children);if(N)return N}}return null},d=p=>{let i=[...o];const j=i.includes(p.value),P=h(p);if(j){i=i.filter(w=>w!==p.value&&!P.includes(w));let N=u(p.value,Se);for(;N;)i=i.filter(w=>w!==N.value),N=u(N.value,Se)}else{i.push(p.value),p.children&&i.push(...P);let N=u(p.value,Se);for(;N;)N.children.every(x=>i.includes(x.value))&&(i.includes(N.value)||i.push(N.value)),N=u(N.value,Se)}t([...new Set(i)])},c=p=>{m(i=>i.includes(p)?i.filter(j=>j!==p):[...i,p])},r=(p,i=0)=>p.map(j=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",paddingLeft:`${i*20}px`},children:[j.children&&e.jsx("span",{style:{cursor:"pointer",marginRight:"5px"},onClick:()=>c(j.value),children:n.includes(j.value)?"−":"+"}),e.jsx(yt,{check:!0,style:{margin:0,marginLeft:j.children?"0":"20px"},children:e.jsxs(St,{check:!0,children:[e.jsx(wt,{type:"checkbox",checked:o.includes(j.value),onChange:()=>d(j)})," ",i===0?e.jsx("strong",{children:j.label}):j.label]})})]}),j.children&&n.includes(j.value)&&e.jsx("div",{children:r(j.children,i+1)})]},j.value));return e.jsxs(bt,{isOpen:s,toggle:a,zIndex:9999,size:"lg",children:[e.jsx(gt,{toggle:a,children:"Column Selection"}),e.jsx(vt,{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:r(Se.slice(0,3))}),e.jsx("div",{className:"col-md-4",children:r(Se.slice(3,5))}),e.jsx("div",{className:"col-md-4",children:r(Se.slice(5))})]})}),e.jsxs(Ct,{children:[e.jsx(ys,{color:"primary",onClick:a,children:"Apply"}),e.jsx(ys,{color:"secondary",onClick:a,children:"Cancel"})]})]})};function El(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState([]),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(!1),[P,N]=l.useState(!1),[w,x]=l.useState(!1),[f,g]=l.useState(!1),[v,S]=l.useState(!1),[D,$]=l.useState(["main_info","destination","model","impl_period","cps_no","part_info","part_no_part","part_name","parent_part","supplier_code","supplier_name","part_status","dtl_part_status","pack_spec_status","weight_pc","qty_box","pse_info","packing_plant","packing_plant_current","packing_plant_next","vanning_plant","vanning_plant_current","vanning_plant_next","order_pattern","order_pattern_current","order_pattern_next","katashiiki","katashiiki_ad","katashiiki_au","katashiiki_af","katashiiki_ax","importer_line_process","case_code","box_number","renban","renban_eff","packing_process","packing_process_boxing","packing_process_stacking","logistic_info","dock_code","address","process_type","images","part_image","packing_image","outer_image","qkp_image","bkp_image"]),[_,I]=l.useState([]),[C,U]=l.useState([]),[y,A]=l.useState(10),[L,W]=l.useState(1),se=_.length,ae=Math.max(1,Math.ceil(se/y));l.useEffect(()=>{fetch("/packing-cost-fe/dpi.json").then(ee=>{if(!ee.ok)throw new Error("Network response was not ok");return ee.json()}).then(ee=>{const ne=[...ee.dpiData||[]].sort((X,ie)=>(ie.implementation_period||"").localeCompare(X.implementation_period||""));U(ne),I([])}).catch(ee=>{console.error("Error fetching DPI data:",ee)})},[]);function M(){if(!s&&(!n||n.length===0)&&!o&&!h&&!d&&!r){I(C),W(1);return}console.log("Filtering with modelCfc:",s);let ee=[...C];debugger;if(s&&(ee=ee.filter(ne=>{var X;return(X=ne.model_cfc)==null?void 0:X.toLowerCase().includes(s.toLowerCase())})),n&&n.length>0){const ne=n.map(X=>X.toLowerCase());ee=ee.filter(X=>{var ie,ue,de;return ne.includes((ie=X.part_no)==null?void 0:ie.toLowerCase())||ne.includes((de=(ue=X.cps)==null?void 0:ue.part_no)==null?void 0:de.toLowerCase())})}o&&(ee=ee.filter(ne=>{var X,ie,ue,de;return(de=(ue=(ie=(X=ne.cps)==null?void 0:X.model)==null?void 0:ie.destination)==null?void 0:ue.code)==null?void 0:de.toLowerCase().includes(o.toLowerCase())})),h&&(ee=ee.filter(ne=>{var X,ie,ue;return(ue=(ie=(X=ne.cps)==null?void 0:X.supplier)==null?void 0:ie.supplier_code)==null?void 0:ue.toLowerCase().includes(h.toLowerCase())})),d&&(ee=ee.filter(ne=>{var X,ie;return(ie=(X=ne.cps)==null?void 0:X.cps_no)==null?void 0:ie.toLowerCase().includes(d.toLowerCase())})),r&&(ee=ee.filter(ne=>{var X;return(X=ne.implementation_period)==null?void 0:X.toLowerCase().includes(r.toLowerCase())}));const K=ee.sort((ne,X)=>(X.implementation_period||"").localeCompare(ne.implementation_period||""));I(K),W(1)}function Y(F){F&&F.model_cfc&&a(F.model_cfc),x(!1)}function E(F){if(F&&F.length>0){const ee=F.map(K=>K.partNo);m(K=>[...new Set([...K,...ee])])}N(!1)}function T(){a(""),t(""),m([]),u(""),c(""),p(""),I(C),W(1)}function k(){j(!0)}function G(){alert("Create PCI - placeholder")}function z(){alert("Upload placeholder")}function J(){alert("Download template placeholder")}function q(){S(F=>!F)}function Z(F){$(F)}function H(){const F=window.open("","_blank","fullscreen=yes");F.document.write("<html><head><title>DPI View</title>"),F.document.write('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />'),F.document.write('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">'),F.document.write("</head><body>"),F.document.write('<button id="download-pdf">Download PDF</button>'),F.document.write('<button id="download-csv">Download CSV</button>'),F.document.write('<div id="dpi-content" class="card card-outline card-primary"></div>'),F.document.write("</body></html>"),F.document.close();const ee=document.getElementById("result-section").innerHTML,K=F.document.getElementById("dpi-content");K&&(K.innerHTML=ee),F.document.getElementById("download-pdf").addEventListener("click",()=>F.print()),F.document.getElementById("download-csv").addEventListener("click",()=>{const ne=K.querySelector("table");let X=[];for(const ye of ne.rows){const le=[];for(const re of ye.cells)le.push(re.innerText);X.push(le.join(","))}const ie="data:text/csv;charset=utf-8,"+X.join("\\n"),ue=encodeURI(ie),de=document.createElement("a");de.setAttribute("href",ue),de.setAttribute("download","dpi_data.csv"),document.body.appendChild(de),de.click(),document.body.removeChild(de)})}function R(F){const ee=Math.min(Math.max(1,F),ae);W(ee)}const O=_.slice((L-1)*y,L*y);function b(F){const ee={dpiNo:F.dpiNo||"",refDpiNo:F.refDpiNo||"",issuedDate:F.issuedDate||"",effectiveDate:F.effectiveDate||"",cfcPjt:F.cfcPjt||"",model:F.model||"",parts:F.parts||[],numCps:F.numCps||0,supplier:F.supplier||"",fromUser:F.from||"",toUser:F.to||"",status:"Draft",raw:F};I(K=>[ee,...K]),j(!1),W(1)}function V(F){const ee={dpiNo:F.dpiNo||"",refDpiNo:F.refDpiNo||"",issuedDate:F.issuedDate||"",effectiveDate:F.effectiveDate||"",cfcPjt:F.cfcPjt||"",model:F.model||"",parts:F.parts||[],numCps:F.numCps||0,supplier:F.supplier||"",fromUser:F.from||"",toUser:F.to||"",status:"Submitted",raw:F};I(K=>[ee,...K]),j(!1),W(1)}const B={modelCfc:s,destCode:o,partNo:n,supplierCode:h,cpsNo:d,implementationPeriod:r},te={setModelCfc:a,setDestCode:t,setPartNo:m,setSupplierCode:u,setCpsNo:c,setImplementationPeriod:p};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"DPI List"})}),e.jsx(Ll,{onViewDpi:H,onUpload:z,onTemplate:J,onCreateDpi:k,onCreatePci:G,onToggleColumnSelector:q,viewDpiDisabled:_.length===0})]}),e.jsx(hl,{filters:B,setters:te,onSearch:M,onClear:T,onPartSearch:()=>N(!0),onModelSearch:()=>x(!0),onDpiSearch:()=>g(!0)}),e.jsx("div",{id:"result-section",children:e.jsx(Dl,{rows:_,visibleRows:O,page:L,perPage:y,total:se,totalPages:ae,goToPage:R,setPerPage:A,checked:D})})]}),e.jsx(ul,{show:i,onClose:()=>j(!1),onSave:b,onSubmit:V}),e.jsx(Ie,{show:P,onClose:()=>N(!1),onSelect:E,mode:"multi"}),e.jsx(Fe,{show:w,onClose:()=>x(!1),onAdd:Y,selectionMode:"single"}),e.jsx(Tl,{isOpen:v,toggle:q,checked:D,onCheckedChange:Z})]})}function Rl({form:s,change:a,setShowPartPicker:o,setShowModelPicker:t,handleCalculate:n,handleClear:m,onModelRemove:h,onPartRemove:u,onModelCfcKeyDown:d,onPartKeyDown:c}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:[s.modelCfc.map(r=>e.jsxs("span",{className:"badge badge-pill badge-info",style:{display:"flex",alignItems:"center"},children:[r,e.jsx("button",{type:"button",className:"close","aria-label":"Close",style:{color:"white",marginLeft:"5px",textShadow:"none",opacity:.7,fontSize:"1.2em",lineHeight:"0.8"},onClick:()=>h(r),children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},r)),e.jsx("input",{type:"text",name:"modelCfcInput",value:s.modelCfcInput,onChange:a,onKeyDown:d,style:{border:"none",outline:"none",flexGrow:1,padding:0,margin:0,height:"20px"}})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Model CFC",onClick:()=>t(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Implementation Period"}),e.jsxs("select",{className:"form-control form-control-sm",name:"period",value:s.period,onChange:a,children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"01.2025"}),e.jsx("option",{children:"02.2025"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dest Code"}),e.jsxs("select",{className:"form-control form-control-sm",name:"destCode",value:s.destCode,onChange:a,children:[e.jsx("option",{children:"All"}),e.jsx("option",{value:"TASA",children:"TASA - Argentina"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Part"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:[Array.isArray(s.part)&&s.part.map(r=>e.jsxs("span",{className:"badge badge-pill badge-info",style:{display:"flex",alignItems:"center"},children:[r,e.jsx("button",{type:"button",className:"close","aria-label":"Close",style:{color:"white",marginLeft:"5px",textShadow:"none",opacity:.7,fontSize:"1.2em",lineHeight:"0.8"},onClick:()=>u(r),children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},r)),e.jsx("input",{type:"text",name:"partInput",value:s.partInput,onChange:a,onKeyDown:c,style:{border:"none",outline:"none",flexGrow:1,padding:0,margin:0,height:"20px"}})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part",onClick:()=>o(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})]}),e.jsxs("div",{className:"d-flex justify-content-end my-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:n,children:[e.jsx("i",{className:"fas fa-calculator mr-1"})," Calculate"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:m,children:[e.jsx("i",{className:"fas fa-eraser mr-1"})," Clear"]})]})]})}function Ol({count:s=10}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsxs(ge.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Part No"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Qty"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Price"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Sum"})]},`mat-leaf-hdr-${o}`))})}function Fl({arr:s=[],count:a=10}){const o=[];for(let t=0;t<a;t++){const n=s[t];o.push(e.jsxs(ge.Fragment,{children:[e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.materialNo)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.qty)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.price)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.sum)??"-"})]},`mat-leaf-cell-${t}`))}return e.jsx(e.Fragment,{children:o})}const qs=({part:s})=>{var d,c,r,p,i,j,P;const[a,o]=l.useState({inner:!0,outer:!0,labor:!0,inland:!0}),t=N=>{o(w=>({...w,[N]:!w[N]}))};if(!s)return null;const n=N=>{if(N==null||N==="")return"";const w=Number(N);return isNaN(w)?String(N):w.toFixed(2)},m=(N,w)=>{const x=w.toLowerCase(),f=a[x],g=10,v=[];for(let S=1;S<=g;S++)v.push(e.jsxs("th",{colSpan:"4",children:["Material ",S]},`material-header-${w}-${S}`));return e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t(x),children:[e.jsx("i",{className:`fas ${f?"fa-chevron-down":"fa-chevron-right"} mr-2`}),w.toUpperCase()]}),f&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"2000px"},children:[e.jsxs("thead",{style:{backgroundColor:"#e9ecef"},children:[e.jsx("tr",{children:v}),e.jsx("tr",{children:e.jsx(Ol,{count:g})})]}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx(Fl,{arr:N,count:g})})})]})})]})},h=(N,w)=>{const x=a.labor;return!N||!w?null:e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t("labor"),children:[e.jsx("i",{className:`fas ${x?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"LABOR"]}),x&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"1500px"},children:[e.jsx("thead",{style:{backgroundColor:"#e9ecef"},children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receiving"}),e.jsx("th",{children:"Inspection"}),e.jsx("th",{children:"Delivery Course (Pallet)"}),e.jsx("th",{children:"Supply"}),e.jsx("th",{children:"Binding"}),e.jsx("th",{children:"Sorting & Supply"}),e.jsx("th",{children:"Pick & Packing"}),e.jsx("th",{children:"Vanning"}),e.jsx("th",{children:"Box/Valet Return"}),e.jsx("th",{children:"Mix Van"}),e.jsx("th",{children:"Lashing"}),e.jsx("th",{children:"Total Time"}),e.jsx("th",{children:"Requirement"}),e.jsx("th",{children:"Current DL"}),e.jsx("th",{children:"IDL"}),e.jsx("th",{children:"Facility Others"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:n(N.receiving)}),e.jsx("td",{children:n(N.inspection)}),e.jsx("td",{children:n(N.deliveryCourse)}),e.jsx("td",{children:n(N.supply)}),e.jsx("td",{children:n(N.binding)}),e.jsx("td",{children:n(N.sortingSupply)}),e.jsx("td",{children:n(N.pickPacking)}),e.jsx("td",{children:n(N.vanning)}),e.jsx("td",{children:n(N.boxValetReturn)}),e.jsx("td",{children:n(N.mixVan)}),e.jsx("td",{children:n(N.lashing)}),e.jsx("td",{children:n(N.totalTime)}),e.jsx("td",{children:n(N.requirement)}),e.jsx("td",{children:n(N.currentDL)}),e.jsx("td",{children:n(w.idl)}),e.jsx("td",{children:n(w.facility)})]})})]})})]})},u=N=>{const w=a.inland;return N?e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t("inland"),children:[e.jsx("i",{className:`fas ${w?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"INLAND"]}),w&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"800px"},children:[e.jsx("thead",{style:{backgroundColor:"#e9ecef"},children:e.jsxs("tr",{children:[e.jsx("th",{children:"Pack Time (V-PASS)"}),e.jsx("th",{children:"Inland Cost"}),e.jsx("th",{children:"Inland Cost M3"}),e.jsx("th",{children:"Diff"}),e.jsx("th",{children:"Milkrun cost"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:N.packing_time||"-"}),e.jsx("td",{children:n(N.inland_cost)||"-"}),e.jsx("td",{children:n(N.inlandCostM3)||"-"}),e.jsx("td",{children:N.diff||"-"}),e.jsx("td",{children:n(N.milkrun_cost)||"-"})]})})]})})]}):null};return e.jsx("td",{colSpan:"32",children:e.jsxs("div",{className:"p-2",children:[m((c=(d=s.cps)==null?void 0:d.packing)==null?void 0:c.inner,"Inner"),m((p=(r=s.cps)==null?void 0:r.packing)==null?void 0:p.outer,"Outer"),h((i=s.cps)==null?void 0:i.manhour,(j=s.cps)==null?void 0:j.labor),u((P=s.cps)==null?void 0:P.inland)]})})},he=s=>{if(s==null||s==="")return"";const a=Number(s);return isNaN(a)?String(s):a.toFixed(2)};function Wl({visibleParts:s,selectedRows:a,handleCheckboxChange:o,page:t,perPage:n,remarks:m,handleRemarkChange:h,expandedRows:u,handleToggleExpand:d,threshold_percentage:c=5}){return e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm text-center w-100",style:{fontSize:"8pt"},children:[e.jsxs("thead",{children:[e.jsxs("tr",{style:{backgroundColor:"#f7fbff"},children:[e.jsx("th",{rowSpan:2,style:{width:40},children:e.jsx("input",{type:"checkbox",checked:s.length>0&&s.every((r,p)=>a[(t-1)*n+p]),onChange:r=>{const p=r.target.checked,i={...a};s.forEach((j,P)=>{i[(t-1)*n+P]=p}),o(i)}})}),e.jsx("th",{rowSpan:2,style:{width:40}}),e.jsx("th",{rowSpan:2,style:{width:40},children:"No"}),e.jsx("th",{rowSpan:2,children:"Model CFC"}),e.jsx("th",{rowSpan:2,children:"Dest Code"}),e.jsx("th",{rowSpan:2,children:"Implementation Period"}),e.jsx("th",{rowSpan:2,children:"Part No"}),e.jsx("th",{rowSpan:2,children:"Suffix"}),e.jsx("th",{rowSpan:2,children:"Part Name"}),e.jsx("th",{rowSpan:2,children:"Parent Part No"}),e.jsx("th",{rowSpan:2,children:"Supplier Code"}),e.jsx("th",{rowSpan:2,children:"Supplier Name"}),e.jsx("th",{rowSpan:2,children:"L"}),e.jsx("th",{rowSpan:2,children:"W"}),e.jsx("th",{rowSpan:2,children:"H"}),e.jsx("th",{rowSpan:2,children:"Box M3"}),e.jsx("th",{colSpan:3,children:"INNER"}),e.jsx("th",{colSpan:3,children:"OUTER"}),e.jsx("th",{colSpan:3,children:"MATERIAL"}),e.jsx("th",{colSpan:3,children:"LABOR"}),e.jsx("th",{colSpan:3,children:"INLAND"}),e.jsx("th",{colSpan:3,children:"TOTAL"}),e.jsx("th",{rowSpan:2,children:"Remark"})]}),e.jsx("tr",{style:{backgroundColor:"#dee2e6"},children:[...Array(6)].map((r,p)=>e.jsxs(ge.Fragment,{children:[e.jsx("th",{children:"Prev"}),e.jsx("th",{children:"Current"}),e.jsx("th",{children:"Diff"})]},p))})]}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:35,className:"text-center py-4 text-muted",children:"No Data Found"})}):s.map((r,p)=>{var w,x,f,g,v,S,D,$,_,I,C,U,y,A,L,W,se,ae,M,Y,E,T,k,G,z,J,q,Z,H,R,O,b,V,B,te,F,ee,K,ne,X,ie,ue;debugger;if(!r)return null;const i=(t-1)*n+p,j=u&&u[i];Number(((x=(w=r.subtotals)==null?void 0:w.total)==null?void 0:x.total)??0),Number(((g=(f=r.subtotals)==null?void 0:f.total)==null?void 0:g.prev_year)??0);const P=Number(((S=(v=r.subtotals)==null?void 0:v.total)==null?void 0:S.diff)??0),N=P>c;debugger;return e.jsxs(ge.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:!!(a&&a[i]),onChange:de=>{const ye={...a,[i]:de.target.checked};o(ye)}})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-xs btn-link",onClick:()=>d(i),children:e.jsx("i",{className:`fas ${j?"fa-chevron-up":"fa-chevron-down"}`})})}),e.jsx("td",{children:i+1}),e.jsx("td",{children:r.model_cfc}),e.jsx("td",{children:r.destination}),e.jsx("td",{children:r.implementation_period}),e.jsx("td",{children:r.partNo}),e.jsx("td",{children:r.suffix}),e.jsx("td",{children:r.partName}),e.jsx("td",{children:r.parentPartNo}),e.jsx("td",{children:r.supplierCode}),e.jsx("td",{children:r.supplierName}),e.jsx("td",{children:he(r.L)}),e.jsx("td",{children:he(r.W)}),e.jsx("td",{children:he(r.H)}),e.jsx("td",{children:he(r.boxM3)}),e.jsx("td",{children:he(($=(D=r.subtotals)==null?void 0:D.inner)==null?void 0:$.prev_year)}),e.jsx("td",{children:he((I=(_=r.subtotals)==null?void 0:_.inner)==null?void 0:I.total)}),e.jsx("td",{children:he((U=(C=r.subtotals)==null?void 0:C.inner)==null?void 0:U.diff)}),e.jsx("td",{children:he((A=(y=r.subtotals)==null?void 0:y.outer)==null?void 0:A.prev_year)}),e.jsx("td",{children:he((W=(L=r.subtotals)==null?void 0:L.outer)==null?void 0:W.total)}),e.jsx("td",{children:he((ae=(se=r.subtotals)==null?void 0:se.outer)==null?void 0:ae.diff)}),e.jsx("td",{children:he((Y=(M=r.subtotals)==null?void 0:M.material)==null?void 0:Y.prev_year)}),e.jsx("td",{children:he((T=(E=r.subtotals)==null?void 0:E.material)==null?void 0:T.total)}),e.jsx("td",{children:he((G=(k=r.subtotals)==null?void 0:k.material)==null?void 0:G.diff)}),e.jsx("td",{children:he((J=(z=r.subtotals)==null?void 0:z.labor)==null?void 0:J.prev_year)}),e.jsx("td",{children:he((Z=(q=r.subtotals)==null?void 0:q.labor)==null?void 0:Z.total)}),e.jsx("td",{children:he((R=(H=r.subtotals)==null?void 0:H.labor)==null?void 0:R.diff)}),e.jsx("td",{children:he((b=(O=r.subtotals)==null?void 0:O.inland)==null?void 0:b.prev_year)}),e.jsx("td",{children:he((B=(V=r.subtotals)==null?void 0:V.inland)==null?void 0:B.total)}),e.jsx("td",{children:he((F=(te=r.subtotals)==null?void 0:te.inland)==null?void 0:F.diff)}),e.jsx("td",{children:he((K=(ee=r.subtotals)==null?void 0:ee.total)==null?void 0:K.prev_year)}),e.jsx("td",{children:he((X=(ne=r.subtotals)==null?void 0:ne.total)==null?void 0:X.total)}),e.jsx("td",{style:{color:P>c?"red":void 0,fontWeight:P>c?"bold":void 0},children:he((ue=(ie=r.subtotals)==null?void 0:ie.total)==null?void 0:ue.diff)}),e.jsx("td",{children:N?e.jsx("textarea",{className:"form-control form-control-sm",style:{minWidth:220,width:"100%"},value:m&&m[i]||"",onChange:de=>h(i,de.target.value),placeholder:"Enter remark",rows:3}):null})]}),j&&e.jsx("tr",{className:"expandable-row",children:e.jsx(qs,{part:r})})]},i)})})]})})}function Bl({page:s,totalPages:a,goToPage:o,perPage:t}){return e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>o(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>o(Math.max(1,s-1)),children:"<"}),[...Array(a).keys()].map(n=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${s===n+1?"btn-primary":"btn-light"}`,onClick:()=>o(n+1),children:n+1},n)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>o(Math.min(a,s+1)),children:">"})]}),e.jsx("div",{className:"form-inline small",children:e.jsxs("span",{className:"mr-3",children:[t," per page"]})})]})}const rs={part:[],partInput:"",period:"All",destCode:"All",modelCfc:[],modelCfcInput:"",type:"PxP"};function Hl({show:s=!1,onClose:a,onSave:o}){const[t,n]=l.useState(rs),[m,h]=l.useState([]),[u,d]=l.useState([]),[c,r]=l.useState(5),[p,i]=l.useState(1),[j,P]=l.useState(!1),[N,w]=l.useState(!1),[x,f]=l.useState({}),[g,v]=l.useState({}),[S,D]=l.useState({}),[$,_]=l.useState([]);if(l.useEffect(()=>(s?(n(rs),h([]),d([]),i(1),D({}),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),l.useEffect(()=>{fetch("/packing-cost-fe/generatedData.json").then(H=>H.json()).then(H=>{_(H.cpsData)}).catch(H=>console.error("Error loading generated data:",H))},[]),!s)return null;function I(Z){const{name:H,value:R}=Z.target;n(O=>({...O,[H]:R}))}function C(Z){if(Z.key===" "&&t.modelCfcInput.trim()){Z.preventDefault();const H=t.modelCfcInput.trim();n(R=>R.modelCfc.includes(H)?{...R,modelCfcInput:""}:{...R,modelCfc:[...R.modelCfc,H],modelCfcInput:""})}}function U(Z){if(Z.key===" "&&t.partInput.trim()){Z.preventDefault();const H=t.partInput.trim();n(R=>R.part.includes(H)?{...R,partInput:""}:{...R,part:[...R.part,H],partInput:""}),d(R=>R.some(b=>b.partNo===H)?R:[...R,{partNo:H}])}}const y=()=>{if(!$||!$.length){console.error("CPS data is not loaded yet.");return}let Z=$;t.modelCfc.length>0&&(Z=Z.filter(R=>R.model_cfc&&t.modelCfc.includes(R.model_cfc)));let H=[];u.length>0?H=u.flatMap(R=>{const O=Z.filter(b=>b&&b.part_no===R.partNo);return O.length===0?[{partNo:R.partNo,description:"NOT FOUND",calculationTime:new Date().toISOString()}]:O.map(b=>{var V,B;return{partNo:R.partNo,description:((V=b.part)==null?void 0:V.description)||"NOT FOUND",partName:b.partName,supplierName:b.supplierName,supplierCode:b.supplierCcode,destination:b.model?`${b.model.destinationCode} - ${b.model.destinationName}`:"N/A",model:(B=b.model)==null?void 0:B.name,parentNo:b.parentNo,cpsNo:b.cpsNo,calculationTime:new Date().toISOString(),subtotals:b.subtotals,total:b.total,cps:b.cps}})}):t.modelCfc.length>0&&(H=Z.map(R=>{var O,b;return{partNo:R.part_no,description:((O=R.part)==null?void 0:O.description)||"NOT FOUND",partName:R.partName,supplierName:R.supplierName,supplierCode:R.supplierCcode,destination:R.model?`${R.model.destinationCode} - ${R.model.destinationName}`:"N/A",model:(b=R.model)==null?void 0:b.name,parentNo:R.parentNo,cpsNo:R.cpsNo,calculationTime:new Date().toISOString(),subtotals:R.subtotals,total:R.total,cps:R.cps}})),h(H)};function A(){n(rs),h([]),d([])}function L(Z){if(Array.isArray(Z)&&Z.length>0){const H=Z.map(R=>R.cfc);n(R=>{const O=R.modelCfc||[],b=H.filter(V=>!O.includes(V));return{...R,modelCfc:[...O,...b],modelCfcInput:""}})}w(!1)}function W(Z){n(H=>({...H,modelCfc:H.modelCfc.filter(R=>R!==Z)}))}function se(){const Z={...t,parts:m};o&&o(Z)}function ae(){a&&a()}function M(Z){if(!Array.isArray(Z)||Z.length===0){P(!1);return}const H=Z.map(O=>({partNo:O.partNo,suffix:"",partName:O.partName,parentPartNo:O.parentPartNo||O.parent||"",supplierId:O.supplierName&&(O.supplierId||O.supplierCode)||"",supplierName:O.supplierName,L:O.L||"",W:O.W||"",H:O.H||"",boxM3:O.boxM3||"",inner:{totalCost:O.innerTotal??0,prevYear:O.prevYear??0,diff:O.diffPerc??"0%",materials:O.innerMaterials||[]},outer:{totalCost:O.outerTotal??0,prevYear:O.prevYear??0,diff:O.diffPerc??"0%",materials:O.outerMaterials||[]},material:{totalCost:O.materialTotal??0,prevYear:O.prevYear??0,diff:O.diffPerc??"0%"},labor:{totalCost:O.laborTotal??20,prevYear:O.prevYear??0,diff:O.diffPerc??"0%",manHour:O.laborManHour??1.5,cost:O.laborCost??25,receiving:.1,inspection:.2,deliveryCourse:.1,supply:.1,binding:.1,sortingSupply:.2,pickPacking:.3,vanning:.2,boxValetReturn:.1,mixVan:.1,lashing:.1,totalTime:1.5,requirement:1,currentDL:1,idl:0,facilityOthers:0},inland:{totalCost:O.inlandTotal??30,prevYear:O.prevYear??0,diff:O.diffPerc??"0%",cost:O.inlandCost??35,packTime:O.inlandPackTime??"10:00",inlandCost:O.inlandInlandCost??40,inlandCostM3:O.inlandInlandCostM3??5,milkrunCost:O.inlandMilkrunCost??15},total:{totalCost:O.totalCost??0,prevYear:O.prevYear??0,diff:O.diffPerc??"0%"}}));d(O=>{const b=O.map(B=>B.partNo),V=H.filter(B=>!b.includes(B.partNo));return[...O,...V]});const R=H.map(O=>O.partNo);n(O=>{const b=O.part||[],V=R.filter(B=>!b.includes(B));return{...O,part:[...b,...V]}}),P(!1)}function Y(Z){n(H=>({...H,part:H.part.filter(R=>R!==Z)})),d(H=>H.filter(R=>R.partNo!==Z))}const E=m.length,T=Math.max(1,Math.ceil(E/c));function k(Z){i(Math.min(Math.max(1,Z),T))}const G=m.slice((p-1)*c,p*c);function z(Z,H){f(R=>({...R,[Z]:H}))}function J(Z){v(Z)}function q(Z){D(H=>({...H,[Z]:!H[Z]}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"np-modal-backdrop",onMouseDown:Z=>{Z.target===Z.currentTarget&&ae()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:"95vw",maxHeight:"90vh",width:"95vw",height:"90vh"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h5",{className:"card-title mb-0",children:e.jsx("strong",{children:"Packing Cost Calculation New"})}),e.jsx("button",{type:"button",className:"close",onClick:ae,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"card-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsx(Rl,{form:t,change:I,setShowPartPicker:P,setShowModelPicker:w,handleCalculate:y,handleClear:A,onModelRemove:W,onPartRemove:Y,onModelCfcKeyDown:C,onPartKeyDown:U}),e.jsx(Wl,{visibleParts:G,selectedRows:g,handleCheckboxChange:J,page:p,perPage:c,remarks:x,handleRemarkChange:z,expandedRows:S,handleToggleExpand:q,threshold_percentage:5}),e.jsx(Bl,{page:p,totalPages:T,goToPage:k,perPage:c})]}),e.jsxs("div",{className:"card-footer d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-success mr-2",onClick:se,children:[e.jsx("i",{className:"fas fa-download mr-1"})," Save"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:ae,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]})}),j&&e.jsx(Ie,{show:j,onClose:()=>P(!1),onSelect:M}),N&&e.jsx(Fe,{show:N,onClose:()=>w(!1),onAdd:L,selectionMode:"multi"})]})}function Ul({calCode:s,setCalCode:a,period:o,setPeriod:t,destCode:n,setDestCode:m,modelCode:h,setModelCode:u,type:d,setType:c,handleFilter:r,handleClear:p}){return e.jsxs("div",{className:"card-body",children:[e.jsx("form",{onSubmit:r,className:"mb-3",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Pack Cost Cal Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:s,onChange:i=>a(i.target.value),placeholder:"Pack Cost Cal Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("select",{className:"form-control form-control-sm",value:n,onChange:i=>m(i.target.value),children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"024W",children:"024W"}),e.jsx("option",{value:"ARG",children:"ARG"})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Type"}),e.jsxs("div",{className:"form-control form-control-sm",style:{minHeight:44},children:[e.jsxs("div",{className:"form-check form-check-inline mr-3",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_all",value:"All",checked:d==="All",onChange:()=>c("All")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_all",children:"All"})]}),e.jsxs("div",{className:"form-check form-check-inline mr-3",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_pxp",value:"PxP",checked:d==="PxP",onChange:()=>c("PxP")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_pxp",children:"PxP"})]}),e.jsxs("div",{className:"form-check form-check-inline",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_lot",value:"Lot",checked:d==="Lot",onChange:()=>c("Lot")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_lot",children:"Lot"})]})]})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Period"}),e.jsxs("select",{className:"form-control form-control-sm",value:o,onChange:i=>t(i.target.value),children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"01.2025"}),e.jsx("option",{children:"02.2025"}),e.jsx("option",{children:"03.2025"})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Model Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:i=>u(i.target.value),placeholder:"Model Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})})]})}),e.jsxs("div",{className:"d-flex justify-content-end mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:r,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:p,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})]})}function ql({rows:s,visibleRows:a,page:o,totalPages:t,goToPage:n,perPage:m,setPerPage:h,total:u}){const[d,c]=l.useState(null),r=i=>{if(i==null||i==="")return"";const j=Number(i);return isNaN(j)?String(i):j.toFixed(2)},p=i=>{c(d===i?null:i)};return e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Pack Cost Cal Code"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Dest Country"}),e.jsx("th",{children:"Model Code"}),e.jsx("th",{children:"# Parts"}),e.jsx("th",{children:"Type"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-4 text-muted",children:"No Data Found"})}):a.map((i,j)=>{const P=(o-1)*m+j;return e.jsxs(ge.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:String(P+1).padStart(2,"0")}),e.jsx("td",{children:i.calCode}),e.jsx("td",{children:i.period}),e.jsx("td",{children:i.destCode}),e.jsx("td",{children:i.destCountry}),e.jsx("td",{children:i.modelCode}),e.jsx("td",{children:r(i.numParts)}),e.jsx("td",{children:i.type}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>p(P),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>alert("Delete placeholder"),children:e.jsx("i",{className:"fas fa-trash"})})]})]}),d===P&&e.jsx("tr",{children:e.jsx("td",{colSpan:"9",children:i.parts&&i.parts.length>0?i.parts.map((N,w)=>e.jsx(qs,{part:N},w)):e.jsx("div",{className:"p-3 text-center text-muted",children:"No part details available for this calculation."})})})]},j)})})]})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>n(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>n(Math.max(1,o-1)),children:"<"}),[...Array(t).keys()].map(i=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${o===i+1?"btn-primary":"btn-light"}`,onClick:()=>n(i+1),children:i+1},i)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>n(Math.min(t,o+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",u]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[m," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{h(3),setPage(1)},children:"3"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{h(10),setPage(1)},children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{h(25),setPage(1)},children:"25"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})}function $l(){const[s,a]=l.useState(""),[o,t]=l.useState("All"),[n,m]=l.useState("All"),[h,u]=l.useState(""),[d,c]=l.useState("All"),[r,p]=l.useState([]),[i,j]=l.useState([]),[P,N]=l.useState(3),[w,x]=l.useState(1),f=r.length,g=Math.max(1,Math.ceil(f/P)),[v,S]=l.useState(!1);l.useEffect(()=>{fetch("/packing-cost-fe/generatedData.json").then(y=>{if(!y.ok)throw new Error("Network response was not ok");return y.json()}).then(y=>{const L=(y.cpsData||[]).map(W=>({id:W.id,calCode:W.pack_cost_cal_code,period:W.implementation_period,destCode:W.destination_code,destCountry:W.destination_country,modelCode:W.model_cfc,numParts:W.parts?W.parts.length:0,type:W.type,parts:W.parts||[]}));j(L),p([])}).catch(y=>{console.error("Error fetching packing cost data:",y)})},[]);function D(U){U&&U.preventDefault&&U.preventDefault();let y=[...i];s&&(y=y.filter(A=>A.calCode.toLowerCase().includes(s.toLowerCase()))),o!=="All"&&(y=y.filter(A=>A.period===o)),n!=="All"&&(y=y.filter(A=>A.destCode===n)),h&&(y=y.filter(A=>A.modelCode.toLowerCase().includes(h.toLowerCase()))),d!=="All"&&(y=y.filter(A=>A.type===d)),p(y),x(1)}function $(){a(""),t("All"),m("All"),u(""),c("All"),p([]),x(1)}function _(U){const y=Math.min(Math.max(1,U),g);x(y)}const I=r.slice((w-1)*P,w*P);function C(U){console.log("Packing cost saved payload:",U);const y={...U,numParts:U.parts.length};p(A=>[...A,y]),S(!1)}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Packing Cost Calculation List"})}),e.jsxs("div",{className:"card-tools ml-auto d-flex align-items-center gap-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",title:"Calculate Packing Cost",onClick:()=>S(!0),children:[e.jsx("i",{className:"fas fa-calculator mr-1"})," Calculate Packing Cost"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(Ul,{calCode:s,setCalCode:a,period:o,setPeriod:t,destCode:n,setDestCode:m,modelCode:h,setModelCode:u,type:d,setType:c,handleFilter:D,handleClear:$}),e.jsx(ql,{rows:r,visibleRows:I,page:w,totalPages:g,goToPage:_,perPage:P,setPerPage:N,total:f})]}),e.jsx(Hl,{show:v,onClose:()=>S(!1),onSave:C})]})}function Ee({title:s,value1:a,value2:o,diff:t,children:n}){const[m,h]=l.useState(!0),u=s.match(/^(.*?)\s*(\([^)]*\))?$/),d=u?u[1].trim():s,c=u&&u[2]?u[2]:"",r=i=>{if(i==null||i==="")return!1;if(typeof i=="number")return!0;let j=String(i).trim();return j.endsWith("%")&&(j=j.slice(0,-1)),j=j.replace(/[^0-9.\-]/g,""),j===""||j==="-"||j==="."||j==="-."?!1:/^-?\d+(\.\d+)?$/.test(j)},p=i=>({textAlign:r(i)?"right":"left",whiteSpace:"nowrap"});return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{style:{backgroundColor:"#f9f9f9",cursor:"pointer"},onClick:()=>h(!m),children:[e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{marginRight:6},children:m?"▼":"▶"}),e.jsx("span",{children:e.jsx("strong",{children:d})})]}),c&&e.jsx("span",{children:c})]})}),e.jsx("td",{style:p(a),children:a}),e.jsx("td",{style:p(o),children:o}),e.jsx("td",{style:p(t),children:t})]}),m&&n]})}const ce=s=>{if(s==null||s==="")return"";const a=Number(s);return isNaN(a)?String(s):a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},Ze=s=>`Rp ${Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,be=(s,a)=>{if(s==null||a==null)return"";const o=Number(s),t=Number(a);return isNaN(o)||isNaN(t)||o===0?"":`${((t-o)/o*100).toFixed(2)}%`},me={textAlign:"right",whiteSpace:"nowrap"};function Kl(){const[s,a]=l.useState(0),[o,t]=l.useState(1),[n,m]=l.useState("2025"),[h,u]=l.useState("2026"),[d,c]=l.useState([]),[r,p]=l.useState([]);if(l.useEffect(()=>{const _="/packing-cost-fe/comparison.json",I="/packing-cost-fe/cpsComparison.json";fetch(_).then(C=>C.json()).then(C=>c(C)),fetch(I).then(C=>C.json()).then(C=>p(C))},[]),d.length===0)return e.jsx("div",{children:"Loading..."});const i=d[s],j=d[o],P=i.materials.inner.reduce((_,I)=>_+I.value,0),N=j.materials.inner.reduce((_,I)=>_+I.value,0),w=i.materials.outer.reduce((_,I)=>_+I.value,0),x=j.materials.outer.reduce((_,I)=>_+I.value,0),f=P+w,g=N+x,v=i.labor.dl+i.labor.idl+i.labor.facility,S=j.labor.dl+j.labor.idl+j.labor.facility,D=i.inland.inlandCost+i.inland.milkrunCost,$=j.inland.inlandCost+j.inland.milkrunCost;return e.jsxs("div",{className:"container mt-3",children:[e.jsx("h5",{children:"Packing Cost Comparison"}),e.jsxs("table",{className:"table table-bordered table-sm",style:{fontSize:"0.85rem"},children:[e.jsxs("thead",{style:{backgroundColor:"#efefef"},children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Part No"}),e.jsx("th",{children:e.jsx("select",{className:"form-control form-control-sm",value:s,onChange:_=>a(Number(_.target.value)),children:d.map((_,I)=>e.jsxs("option",{value:I,children:[_.partNo," - ",_.code]},I))})}),e.jsx("th",{children:e.jsx("select",{className:"form-control form-control-sm",value:o,onChange:_=>t(Number(_.target.value)),children:d.map((_,I)=>e.jsxs("option",{value:I,children:[_.partNo," - ",_.code]},I))})}),e.jsx("th",{children:"Diff"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Periode"}),e.jsx("th",{children:e.jsx("input",{value:n,onChange:_=>m(_.target.value),className:"form-control form-control-sm"})}),e.jsx("th",{children:e.jsx("input",{value:h,onChange:_=>u(_.target.value),className:"form-control form-control-sm"})}),e.jsx("th",{})]})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Part Name"}),e.jsx("td",{children:(i==null?void 0:i.name)||""}),e.jsx("td",{children:(j==null?void 0:j.name)||""}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Supplier"}),e.jsx("td",{children:(i==null?void 0:i.supplier)||""}),e.jsx("td",{children:(j==null?void 0:j.supplier)||""}),e.jsx("td",{})]}),e.jsxs("tr",{style:{fontWeight:"bold"},children:[e.jsx("td",{children:"TOTAL COST (Rp)"}),e.jsx("td",{style:me,children:ce(i==null?void 0:i.totalCost)}),e.jsx("td",{style:me,children:ce(j==null?void 0:j.totalCost)}),e.jsx("td",{style:me,children:be(i==null?void 0:i.totalCost,j==null?void 0:j.totalCost)})]}),e.jsxs(Ee,{title:"Material (Rp)",value1:ce(f),value2:ce(g),diff:be(f,g),children:[e.jsx(Ee,{title:"Inner (Rp)",value1:ce(P),value2:ce(N),diff:be(P,N),children:i.materials.inner.map((_,I)=>{const C=j.materials.inner[I];return e.jsxs(ge.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:_.name}),e.jsx("td",{style:me,children:ce(_.value)}),e.jsx("td",{style:me,children:ce(C==null?void 0:C.value)}),e.jsx("td",{style:me,children:be(_.value,C==null?void 0:C.value)})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Material No: ",_.detail.partNo]}),e.jsxs("div",{children:["- Code: ",_.detail.code]}),e.jsxs("div",{children:["- Qty: ",ce(_.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ze(_.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ce(_.detail.qty*_.detail.price)]})]}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Material No: ",C==null?void 0:C.detail.partNo]}),e.jsxs("div",{children:["- Code: ",C==null?void 0:C.detail.code]}),e.jsxs("div",{children:["- Qty: ",ce(C==null?void 0:C.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ze(C==null?void 0:C.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ce((C==null?void 0:C.detail.qty)*(C==null?void 0:C.detail.price))]})]}),e.jsx("td",{})]})]},`inner-${I}`)})}),e.jsx(Ee,{title:"Outer (Rp)",value1:ce(w),value2:ce(x),diff:be(w,x),children:i.materials.outer.map((_,I)=>{const C=j.materials.outer[I];return e.jsxs(ge.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:_.name}),e.jsx("td",{style:me,children:ce(_.value)}),e.jsx("td",{style:me,children:ce(C==null?void 0:C.value)}),e.jsx("td",{style:me,children:be(_.value,C==null?void 0:C.value)})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",_.detail.partNo]}),e.jsxs("div",{children:["- Code: ",_.detail.code]}),e.jsxs("div",{children:["- Qty: ",ce(_.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ze(_.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ce(_.detail.qty*_.detail.price)]})]}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",C==null?void 0:C.detail.partNo]}),e.jsxs("div",{children:["- Code: ",C==null?void 0:C.detail.code]}),e.jsxs("div",{children:["- Qty: ",ce(C==null?void 0:C.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ze(C==null?void 0:C.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ce((C==null?void 0:C.detail.qty)*(C==null?void 0:C.detail.price))]})]}),e.jsx("td",{})]})]},`outer-${I}`)})})]}),e.jsxs(Ee,{title:"Labor (Rp)",value1:ce(v),value2:ce(S),diff:be(v,S),children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- DL"}),e.jsx("td",{style:me,children:ce(i.labor.dl)}),e.jsx("td",{style:me,children:ce(j.labor.dl)}),e.jsx("td",{style:me,children:be(i.labor.dl,j.labor.dl)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- IDL"}),e.jsx("td",{style:me,children:ce(i.labor.idl)}),e.jsx("td",{style:me,children:ce(j.labor.idl)}),e.jsx("td",{style:me,children:be(i.labor.idl,j.labor.idl)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Facility/Others"}),e.jsx("td",{style:me,children:ce(i.labor.facility)}),e.jsx("td",{style:me,children:ce(j.labor.facility)}),e.jsx("td",{style:me,children:be(i.labor.facility,j.labor.facility)})]})]}),e.jsxs(Ee,{title:"Inland (Rp)",value1:ce(D),value2:ce($),diff:be(D,$),children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Inland Cost"}),e.jsx("td",{style:me,children:ce(i.inland.inlandCost)}),e.jsx("td",{style:me,children:ce(j.inland.inlandCost)}),e.jsx("td",{style:me,children:be(i.inland.inlandCost,j.inland.inlandCost)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Milkrun Cost"}),e.jsx("td",{style:me,children:ce(i.inland.milkrunCost)}),e.jsx("td",{style:me,children:ce(j.inland.milkrunCost)}),e.jsx("td",{style:me,children:be(i.inland.milkrunCost,j.inland.milkrunCost)})]})]})]})]})]})}function Vl({show:s,onClose:a,onSave:o,initialData:t=null,mode:n="new"}){const[m,h]=l.useState(""),[u,d]=l.useState(""),[c,r]=l.useState(""),[p,i]=l.useState(""),[j,P]=l.useState(""),[N,w]=l.useState(""),[x,f]=l.useState(""),[g,v]=l.useState(""),[S,D]=l.useState(""),[$,_]=l.useState(""),[I,C]=l.useState(""),[U,y]=l.useState(""),[A,L]=l.useState(""),[W,se]=l.useState(""),[ae,M]=l.useState(""),[Y,E]=l.useState(""),[T,k]=l.useState(""),[G,z]=l.useState("");l.useEffect(()=>{s&&t?(h(t.materialNo||""),d(t.materialName||""),r(t.price??""),i(t.materialType||""),P(t.supplierCode||""),w(t.supplierName||""),f(t.address||""),v(t.plantCode||""),D(t.eWarehouse||""),_(t.eWarehousePrice||""),C(t.dimLength||""),y(t.dimWeightPc||""),L(t.dimWidth||""),se(t.dimQtyBundling||""),M(t.dimHeight||""),E(t.totalDimWeight||""),k(t.docMSDS||""),z(t.docDrawing||"")):s||q()},[s,t]);function J(){if(!m||!u||!p){alert("Please fill in Material No, Material Name, and Material Type");return}const b={id:t==null?void 0:t.id,materialNo:m,materialName:u,price:c,materialType:p,supplierCode:j,supplierName:N,address:x,plantCode:g,eWarehouse:S,eWarehousePrice:$,dimLength:I,dimWeightPc:U,dimWidth:A,dimQtyBundling:W,dimHeight:ae,totalDimWeight:Y,docMSDS:T,docDrawing:G,createdDate:n==="edit"?(t==null?void 0:t.createdDate)||new Date().toLocaleDateString():new Date().toLocaleDateString()};o(b,n),q()}function q(){h(""),d(""),r(""),i(""),P(""),w(""),f(""),v(""),D(""),_(""),C(""),y(""),L(""),se(""),M(""),E(""),k(""),z("")}function Z(){const b=`EWH-${Math.random().toString(36).substr(2,9).toUpperCase()}`,V=(Math.random()*1e3).toFixed(2);D(b),_(V),r(V)}function H(){q(),a()}if(!s)return null;const R=n==="edit"?"Material - Edit":"Material - New",O=n==="edit"?"Save Changes":"Save Material";return e.jsx("div",{className:"np-modal-backdrop",onMouseDown:b=>{b.target===b.currentTarget&&H()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:800},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:R})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:H,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",style:{fontSize:"0.7rem"},children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Item No ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",value:m,onChange:Q(h),placeholder:"Enter Item No",autoFocus:!0}),e.jsx("div",{className:"input-group-append",children:e.jsxs("button",{className:"btn btn-primary",type:"button",style:{fontSize:"0.8rem"},onClick:Z,disabled:!m,children:[e.jsx("i",{className:"fas fa-search mr-1"}),"Search eWH"]})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Material Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:u,onChange:Q(d),placeholder:"Enter Material Name"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:c,onChange:b=>r(b.target.value),placeholder:"Enter Price",step:"0.01",min:"0"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"eWarehouse Price"}),e.jsx("input",{type:"number",className:"form-control",value:$,onChange:b=>_(b.target.value),placeholder:"eWarehouse Price",step:"0.01",min:"0",readOnly:!0})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Material Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{className:"form-control",value:p,onChange:b=>i(b.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),e.jsx("option",{value:"Inner",children:"Inner"}),e.jsx("option",{value:"Outer",children:"Outer"}),e.jsx("option",{value:"Module",children:"Module"}),e.jsx("option",{value:"Module",children:"Box"})]})]})]})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Supplier"})}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Code"}),e.jsx("input",{type:"text",className:"form-control",value:j,onChange:Q(P),placeholder:"Enter Supplier Code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Address"}),e.jsx("input",{type:"text",className:"form-control",value:x,readOnly:!0,placeholder:"Address"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",value:N,readOnly:!0,placeholder:"Supplier Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Plant Code"}),e.jsx("input",{type:"text",className:"form-control",value:g,readOnly:!0,placeholder:"Plant Code"})]})]})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Dimension"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Length (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:I,onChange:b=>C(b.target.value),placeholder:"Length (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Weight/pc (gr)"}),e.jsx("input",{type:"number",className:"form-control",value:U,onChange:b=>y(b.target.value),placeholder:"Weight/pc (gr)"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Width (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:A,onChange:b=>L(b.target.value),placeholder:" Width (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Qty/Bundling"}),e.jsx("input",{type:"number",className:"form-control",value:W,onChange:b=>se(b.target.value),placeholder:"Qty/Bundling"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Height (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:ae,onChange:b=>M(b.target.value),placeholder:"Height (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Total Weight (gr)"}),e.jsx("input",{type:"number",className:"form-control",value:Y,onChange:b=>E(b.target.value),placeholder:"Total Weight (gr)"})]})})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Documents"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"MSDS"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-image"})})}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:b=>{var V;return k(((V=b.target.files[0])==null?void 0:V.name)||"")}})]})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Drawing"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-image"})})}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:b=>{var V;return z(((V=b.target.files[0])==null?void 0:V.name)||"")}})]})]})})]})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary mr-2",onClick:H,children:[e.jsx("i",{className:"fas fa-times mr-1"}),"Cancel"]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:J,children:[e.jsx("i",{className:"fas fa-save mr-1"}),O]})]})]})})}function Gl({materialNo:s,setMaterialNo:a,materialName:o,setMaterialName:t,parentMaterial:n,setParentMaterial:m,itemNo:h,setItemNo:u,price:d,setPrice:c,materialType:r,setMaterialType:p,onFilter:i,onClearFilters:j}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Item No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s,onChange:Q(a),placeholder:"Material No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Material Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:o,onChange:Q(t),placeholder:"Material Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Parent Material"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:Q(m),placeholder:"Parent Material"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"eWarehouse Item No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:Q(u),placeholder:"Item No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Price"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:P=>c(P.target.value),placeholder:"Price"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Material Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:r,onChange:P=>p(P.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),e.jsx("option",{value:"Inner",children:"Inner"}),e.jsx("option",{value:"Outer",children:"Outer"}),e.jsx("option",{value:"Module",children:"Module"}),e.jsx("option",{value:"Box",children:"Module"})]})]})]})]}),e.jsxs("div",{className:"form-group text-right mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:i,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:j,children:[e.jsx("i",{className:"fas fa-undo mr-1"})," Clear"]})]})]})}function Yl({materials:s,allMaterials:a,totalMaterials:o,currentPage:t,totalPages:n,pageSize:m,onPageChange:h,onDeleteMaterial:u,onEditMaterial:d}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50},className:"text-center",children:"No"}),e.jsx("th",{className:"text-center",children:"Item No"}),e.jsx("th",{className:"text-center",children:"Material Name"}),e.jsx("th",{className:"text-center",children:"Price"}),e.jsx("th",{className:"text-center",children:"eWH Item No"}),e.jsx("th",{className:"text-center",children:"eWH Price"}),e.jsx("th",{className:"text-center",children:"Material Type"}),e.jsx("th",{style:{width:120},className:"text-center",children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-4 text-muted text-center",children:"No Data Found"})}):s.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:(t-1)*m+r+1}),e.jsx("td",{className:"text-center",children:c.materialNo}),e.jsx("td",{children:c.materialName}),e.jsx("td",{className:"text-center",children:c.price}),e.jsx("td",{className:"text-center",children:c.eWarehouse}),e.jsx("td",{className:"text-center",children:c.eWarehousePrice}),e.jsx("td",{className:"text-center",children:c.materialType}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>d&&d(c),title:"Edit Material",children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>u&&u(r),title:"Delete Material",children:e.jsx("i",{className:"fas fa-trash"})})]})]},c.id||r))})]})}),n>1&&e.jsx(Oe,{currentPage:t,totalPages:n,totalItems:o,pageSize:m,onPageChange:h})]})}function Ps(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(!1),[P,N]=l.useState("new"),[w,x]=l.useState(null),[f,g]=l.useState(1),v=10,[S,D]=l.useState([]),[$,_]=l.useState([]);l.useEffect(()=>{fetch("/packing-cost-fe/materials.json").then(T=>{if(!T.ok)throw new Error("Network response was not ok");return T.json()}).then(T=>{D(T),_([])}).catch(T=>{console.error("Error fetching materials:",T)})},[]);const I=Math.ceil($.length/v),C=(f-1)*v,U=C+v,y=$.slice(C,U);function A(){let E=S.filter(k=>{const G=!s||k.materialNo&&k.materialNo.toLowerCase().includes(s.toLowerCase()),z=!o||k.materialName&&k.materialName.toLowerCase().includes(o.toLowerCase()),J=!n||k.parentMaterial&&k.parentMaterial.toLowerCase().includes(n.toLowerCase()),q=!h||k.itemNo&&k.itemNo.toLowerCase().includes(h.toLowerCase()),Z=!d||k.price&&k.price.toString().includes(d),H=!r||k.materialType===r;return G&&z&&J&&q&&Z&&H});_(!s&&!o&&!n&&!h&&!d&&!r?[...S].reverse():E),g(1),console.log(`Filtered ${E.length} materials from ${S.length} total`)}function L(){a(""),t(""),m(""),u(""),c(""),p(""),_([]),g(1)}function W(){x(null),N("new"),j(!0)}function se(){j(!1),x(null),N("new")}function ae(E,T="new"){if(T==="edit"&&w){const k=w.materialNo,G=S.map(J=>J.materialNo===k?{...J,...E}:J),z=$.map(J=>J.materialNo===k?{...J,...E}:J);D(G),_(z)}else D(k=>[E,...k]),_(k=>[E,...k]);j(!1),x(null),N("new")}function M(E){if(!confirm("Delete this material?"))return;const T=(f-1)*v+E,k=$[T];if(!k)return;const G=$.filter((q,Z)=>Z!==T),z=S.filter(q=>q.materialNo!==k.materialNo);_(G),D(z);const J=Math.ceil(G.length/v);f>J&&J>0&&g(J)}function Y(E){x(E),N("edit"),j(!0)}return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Material List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:W,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Material"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Upload placeholder"),children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Download template placeholder"),children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsx(Gl,{materialNo:s,setMaterialNo:a,materialName:o,setMaterialName:t,parentMaterial:n,setParentMaterial:m,itemNo:h,setItemNo:u,price:d,setPrice:c,materialType:r,setMaterialType:p,onFilter:A,onClearFilters:L}),e.jsx(Yl,{materials:y,allMaterials:S,totalMaterials:$.length,currentPage:f,totalPages:I,pageSize:v,onPageChange:g,onDeleteMaterial:M,onEditMaterial:Y})]}),e.jsx(Vl,{show:i,onClose:se,onSave:ae,initialData:w,mode:P})]})})}function zl(){const s=ke(),[a,o]=l.useState(!1),[t,n]=l.useState(!1),m=ks(),h=Re();l.useEffect(()=>{const c=(m.pathname||"").toLowerCase();c.startsWith("/projects")||c.startsWith("/models")||c.startsWith("/parts")||c.startsWith("/suppliers")||c.startsWith("/material")||c.startsWith("/module-type")||c.startsWith("/params")?o(!0):o(!1),c.startsWith("/packing")||c.startsWith("/cps")||c.startsWith("/dpi")||c.startsWith("/calculate-packing-cost")||c.startsWith("/calculate")?n(!0):n(!1)},[m.pathname]);const u=({isActive:c})=>"nav-link"+(c?" active":"");function d(c){c&&c.preventDefault&&c.preventDefault();try{s&&typeof s.logout=="function"&&s.logout()}catch{}h("/login")}return e.jsxs("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",style:{minHeight:"100vh"},children:[e.jsx("div",{className:"brand-link",children:e.jsx(Ne,{to:"/",className:"d-block text-decoration-none",children:e.jsx("span",{className:"brand-text font-weight-light",children:"My App"})})}),e.jsx("div",{className:"sidebar d-flex flex-column",style:{minHeight:"calc(100vh - 56px)"},children:e.jsx("nav",{className:"mt-2 flex-grow-1",children:e.jsxs("ul",{className:"nav nav-pills nav-sidebar flex-column",role:"menu","aria-orientation":"vertical",style:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/",className:u,end:!0,children:[e.jsx("i",{className:"nav-icon fas fa-tachometer-alt"}),e.jsx("p",{children:"Dashboard"})]})}),e.jsxs("li",{className:`nav-item has-treeview ${a?"menu-open":""}`,children:[e.jsxs("div",{role:"button",onClick:()=>o(c=>!c),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&o(r=>!r)},tabIndex:0,"aria-expanded":a,className:`nav-link d-flex align-items-center ${a?"active":""}`,style:{cursor:"pointer",userSelect:"none"},children:[e.jsx("i",{className:"nav-icon fas fa-database"}),e.jsx("p",{className:"flex-grow-1 mb-0 ml-2",children:"Master"}),e.jsx("i",{className:`right fas ${a?"fa-angle-down":"fa-angle-left"}`})]}),e.jsxs("ul",{className:"nav nav-treeview",style:{display:a?"block":"none"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/projects",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Projects"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/models",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Models"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/material",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Material"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/parts",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Parts"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/suppliers",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Suppliers"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/params",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Parameters"})]})})]})]}),e.jsxs("li",{className:`nav-item has-treeview ${t?"menu-open":""}`,children:[e.jsxs("div",{role:"button",onClick:()=>n(c=>!c),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&n(r=>!r)},tabIndex:0,"aria-expanded":t,className:`nav-link d-flex align-items-center ${t?"active":""}`,style:{cursor:"pointer",userSelect:"none"},children:[e.jsx("i",{className:"nav-icon fas fa-box-open"}),e.jsx("p",{className:"flex-grow-1 mb-0 ml-2",children:"Packing Spec"}),e.jsx("i",{className:`right fas ${t?"fa-angle-down":"fa-angle-left"}`})]}),e.jsxs("ul",{className:"nav nav-treeview",style:{display:t?"block":"none"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/packing/cps",className:({isActive:c})=>"nav-link"+(c?" active":""),children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"CPS"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/packing/DPI",className:({isActive:c})=>"nav-link"+(c?" active":""),children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"DPI"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/packing/CalculatePackingCost",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Calculate Packing Cost"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ne,{to:"/packing/ComparisonPage",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Comparison"})]})})]})]}),e.jsx("li",{style:{marginTop:"auto"}}),e.jsx("li",{className:"nav-item",style:{padding:"0.5rem 0"},children:e.jsxs(Ne,{to:"/settings",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Settings"})]})}),e.jsx("li",{className:"nav-item",style:{padding:"0.5rem 0"},children:e.jsxs("button",{type:"button",onClick:d,className:"btn btn-block btn-outline-danger d-flex align-items-center",style:{justifyContent:"flex-start"},children:[e.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),e.jsx("span",{children:"Logout"})]})})]})})})]})}function Jl(){const s=ke(),a=Re(),o=()=>{a("/notification-detail")};return e.jsxs("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[e.jsxs("ul",{className:"navbar-nav",children:[e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:e.jsx("i",{className:"fas fa-bars"})})}),e.jsx("li",{className:"nav-item d-none d-sm-inline-block",children:e.jsx("a",{href:"#",className:"nav-link",children:"Home"})})]}),e.jsxs("ul",{className:"navbar-nav ml-auto",children:[e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs("a",{className:"nav-link","data-toggle":"dropdown",href:"#",children:[e.jsx("i",{className:"far fa-bell"}),e.jsx("span",{className:"badge badge-warning navbar-badge",children:"2"})]}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[e.jsx("span",{className:"dropdown-item dropdown-header",children:"2 Notifications"}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-item",children:[e.jsx("p",{style:{fontWeight:"bold"},children:"Date : 20 Feb 2025 13:15"}),e.jsx("p",{className:"text-sm",children:"You have new form request to review."}),e.jsx("p",{className:"text-sm text-muted",children:"From : Jonathan Hairi at 20 Feb 2025 13:10"}),e.jsx("p",{className:"text-sm text-muted",children:"Dept : PPMD"}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"See Detail"})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-item",children:[e.jsx("p",{style:{fontWeight:"bold"},children:"Date : 19 Feb 2025 12:15"}),e.jsx("p",{className:"text-sm",children:"Your form submission has been rejected by :"}),e.jsx("p",{className:"text-sm text-muted",children:"By : Jonathan Hairi at 19 Feb 2025 13:10"}),e.jsx("p",{className:"text-sm text-muted",children:"Dept : PPMD"}),e.jsx("p",{className:"text-sm text-muted",children:"Comment: Sheet tersebut sudah tidak ada di pasaran dan akan diganti sheet yg sama dari supplier lain."}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"See Detail"})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsx("a",{href:"#",className:"dropdown-item dropdown-footer",children:"See All Notifications"})]})]}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:e.jsx("i",{className:"fas fa-expand-arrows-alt"})})}),s.user&&e.jsx("li",{className:"nav-item d-none d-sm-inline-block",children:e.jsx("span",{className:"nav-link",children:s.user.username})})]})]})}kt.register(_t,It,At,Mt,Dt,Lt);const Ql={labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Orders",data:[12,19,7,14,10],backgroundColor:"#007bff"}]};function Zl(){return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Sales"})}),e.jsx("div",{className:"card-body",children:e.jsx(Pt,{data:Ql})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Quick Stats"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"info-box mb-3 bg-info",children:[e.jsx("span",{className:"info-box-icon",children:e.jsx("i",{className:"fas fa-shopping-cart"})}),e.jsxs("div",{className:"info-box-content",children:[e.jsx("span",{className:"info-box-text",children:"Orders"}),e.jsx("span",{className:"info-box-number",children:"1,250"})]})]})})]})}),e.jsx("div",{className:"col-12 mt-3",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Recent Items"})}),e.jsx("div",{className:"card-body p-0",children:e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Qty"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"1"}),e.jsx("td",{children:"33504-BZ292-C1"}),e.jsx("td",{children:"Hose"}),e.jsx("td",{children:"10"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"2"}),e.jsx("td",{children:"122810Y110"}),e.jsx("td",{children:"Hanger"}),e.jsx("td",{children:"2"})]})]})]})})]})})]})}function Xl(){const s=ke(),[a,o]=l.useState(""),[t,n]=l.useState(""),[m,h]=l.useState(""),u=d=>{d.preventDefault(),s.login(a,t)||h("Invalid username or password")};return e.jsx("div",{className:"login-page bg-light min-vh-100 d-flex align-items-center justify-content-center",children:e.jsx("div",{className:"card shadow-sm",style:{width:"360px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Sign In"}),m&&e.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:m}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),e.jsx("input",{type:"text",id:"username",className:"form-control",value:a,onChange:d=>o(d.target.value),placeholder:"Enter username",required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",id:"password",className:"form-control",value:t,onChange:d=>n(d.target.value),placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]})]})})})}function ea({visible:s,onClose:a,onSave:o,initialData:t}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState("Draft"),[r,p]=l.useState(""),[i,j]=l.useState(""),[P,N]=l.useState(""),[w,x]=l.useState([]),[f,g]=l.useState(!1);l.useEffect(()=>{t?(m(t.project_code||""),u(t.project_name||""),c(t.project_status||"Draft"),p(t.project_manager||""),j(t.description||""),N(t.note||""),x(t.models||[])):(m(""),u(""),c("Draft"),p(""),j(""),N(""),x([]))},[t,s]);const v=()=>{g(!0)},S=I=>{x(C=>[...C,...I]),g(!1)},D=(I,C,U)=>{x(y=>y.map((A,L)=>L===I?{...A,[C]:U}:A))},$=I=>{x(C=>C.filter((U,y)=>y!==I))},_=()=>{o&&o({code:n,name:h,status:d,manager:r,description:i,note:P,models:w})};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"np-modal-backdrop",style:{position:"fixed",inset:0,zIndex:1040},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1e3,margin:"40px auto",zIndex:1041},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:t?"Project - Edit":"Project - New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool","aria-label":"Close",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"small",children:["Project Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:n,onChange:Q(m),placeholder:"Project Code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Project Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:h,onChange:Q(u),placeholder:"Project Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"small",children:["Status ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("select",{className:"form-control form-control-sm mb-2",value:d,onChange:I=>c(I.target.value),children:[e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"On Hold"}),e.jsx("option",{children:"Completed"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Project Manager"}),e.jsxs("div",{className:"input-group input-group-sm mb-2",children:[e.jsx("input",{className:"form-control form-control-sm",value:r,onChange:Q(p),placeholder:"Project Manager"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Description"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:i,onChange:I=>j(I.target.value),placeholder:"Description"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Note"}),e.jsx("textarea",{className:"form-control form-control-sm mb-2",value:P,onChange:I=>N(I.target.value),rows:2,placeholder:"Note"})]})]})]}),e.jsx("div",{className:"card mt-3",children:e.jsxs("div",{className:"card-body p-2",children:[e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:v,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Add Model"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",children:[e.jsx("i",{className:"fas fa-cloud-download-alt"})," Template"]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40,textAlign:"center"},children:"No"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Code"}),e.jsx("th",{style:{textAlign:"center"},children:"CFC"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Impl. Period"}),e.jsx("th",{style:{textAlign:"center"},children:"Dest. Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Type"}),e.jsx("th",{style:{textAlign:"center"},children:"Remark"}),e.jsx("th",{style:{width:90,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center text-muted py-4",children:"No Data Found"})}):w.map((I,C)=>e.jsxs("tr",{children:[e.jsx("td",{children:C+1}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_code,onChange:U=>D(C,"model_code",U.target.value),placeholder:"Model Code"})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_cfc,onChange:U=>D(C,"model_cfc",U.target.value),placeholder:"CFC",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_name,onChange:U=>D(C,"model_name",U.target.value),placeholder:"Model Name",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_implementation_period,onChange:U=>D(C,"model_implementation_period",U.target.value),placeholder:"Implementation Period",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_destination_code,onChange:U=>D(C,"model_destination_code",U.target.value),placeholder:"Destination Code",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_type,onChange:U=>D(C,"model_type",U.target.value),placeholder:"Type",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:I.model_remark,onChange:U=>D(C,"model_remark",U.target.value),placeholder:"Remark",readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>$(C),children:e.jsx("i",{className:"fas fa-trash"})})})]},C))})]})})]})})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{type:"button",className:"btn btn-primary mr-2",onClick:_,children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"})]})]})}),e.jsx(Fe,{show:f,onClose:()=>g(!1),onAdd:S})]}):null}const sa=({show:s,onHide:a,onSelect:o})=>{const[t,n]=l.useState(""),[m,h]=l.useState(""),[u,d]=l.useState("All"),[c,r]=l.useState(""),[p,i]=l.useState([]),j=[{code:"024J",name:"Front Bumper Model",status:"Active",manager:"Prototype 2025"},{code:"286W",name:"Rear Bumper Model",status:"Draft",manager:"Production 2024"},{code:"332W",name:"Hood Model",status:"Inactive",manager:"Prototype 2023"},{code:"385W",name:"Fender Model",status:"Active",manager:"Production 2022"},{code:"388W",name:"Grille Model",status:"Active",manager:"Prototype 2021"}],[P,N]=l.useState(j);if(l.useEffect(()=>{s&&x()},[s]),!s)return null;const w=()=>{let S=j;t&&(S=S.filter(D=>D.code.toLowerCase().includes(t.toLowerCase()))),m&&(S=S.filter(D=>D.name.toLowerCase().includes(m.toLowerCase()))),u&&u!=="All"&&(S=S.filter(D=>D.status.toLowerCase()===u.toLowerCase())),c&&(S=S.filter(D=>D.manager.toLowerCase().includes(c.toLowerCase()))),N(S)},x=()=>{n(""),h(""),d("All"),r(""),N(j),i([])},f=(S,D)=>{i(D?$=>[...$,S]:$=>$.filter(_=>_.code!==S.code))},g=()=>{o&&o(p),a()},v={maxHeight:"calc(100vh - 200px)",overflowY:"auto"};return e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("b",{children:"Select Project"})}),e.jsx("button",{type:"button",className:"close",onClick:a,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:v,children:[e.jsx("div",{className:"card card-outline card-secondary mb-3",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:t,onChange:S=>n(S.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Project Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:m,onChange:S=>h(S.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Status"}),e.jsxs("select",{className:"form-control form-control-sm",value:u,onChange:S=>d(S.target.value),children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Project Manager"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:c,onChange:S=>r(S.target.value)})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{className:"btn btn-primary btn-sm mr-2",onClick:w,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:x,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"30px"},children:e.jsx("input",{type:"checkbox"})}),e.jsx("th",{children:"Project Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Project Mgr"})]})}),e.jsx("tbody",{children:P.length>0?P.map((S,D)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("input",{type:"checkbox",onChange:$=>f(S,$.target.checked),checked:p.some($=>$.code===S.code)})}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.status}),e.jsx("td",{children:S.manager})]},D)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No projects found"})})})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:g,children:"Add"}),e.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:a,children:"Close"})]})]})})})};function ta({code:s,setCode:a,name:o,setName:t,models:n,setModels:m,manager:h,setManager:u,statuses:d,setStatuses:c,handleSearch:r,clearFilters:p,handleOpenNew:i}){const[j,P]=l.useState(!1);function N(x){if(x==="all"){const f=!d.all;c({all:f,draft:!1,active:!1,onhold:!1,completed:!1})}else c(f=>({...f,[x]:!f[x],all:!1}))}function w(x){x.length>0&&a(x.map(f=>f.code).join(", ")),P(!1)}return e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:s,onChange:Q(a),className:"form-control form-control-sm",placeholder:"Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search code",onClick:()=>P(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:o,onChange:Q(t),className:"form-control form-control-sm",placeholder:"Project name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search name",onClick:()=>P(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Related Models"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:n,onChange:Q(m),className:"form-control form-control-sm",placeholder:"Model code / name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Select Model",children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Manager"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:h,onChange:Q(u),className:"form-control form-control-sm",placeholder:"Manager name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user"})})})]})]})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1 d-block",children:"Status"}),e.jsx("div",{className:"form-inline flex-wrap",children:["all","draft","active","onhold","completed"].map(x=>{const f=`status-${x}`;return e.jsxs("div",{className:"form-check mr-3",children:[e.jsx("input",{id:f,type:"checkbox",className:"form-check-input",checked:d[x],onChange:()=>N(x)}),e.jsx("label",{className:"form-check-label small ml-1",htmlFor:f,children:x==="onhold"?"On Hold":x.charAt(0).toUpperCase()+x.slice(1)})]},x)})})]})}),e.jsx("div",{className:"row mt-2",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mr-2",onClick:r,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:p,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx(sa,{show:j,onHide:()=>P(!1),onSelect:w})]})}function la({results:s,handleEdit:a,handleDelete:o,currentPage:t,setCurrentPage:n,pageSize:m}){const h=Math.ceil(s.length/m),u=s.slice((t-1)*m,t*m),d=c=>{var i;const r=((i=u[c%m])==null?void 0:i.project_name)||"this project";window.confirm(`Apakah Anda yakin ingin menghapus project "${r}"?`)&&o((t-1)*m+c)};return e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{className:"thead-light",style:{position:"sticky",top:0,zIndex:5},children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50},children:"No"}),e.jsx("th",{children:"Project Code"}),e.jsx("th",{children:"Project Name"}),e.jsx("th",{children:"Project Manager"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Models"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsxs("tbody",{children:[u.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:"No Data Found"})}),u.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:(t-1)*m+r+1}),e.jsx("td",{children:c.project_code}),e.jsx("td",{children:c.project_name}),e.jsx("td",{children:c.project_manager}),e.jsx("td",{children:c.project_status}),e.jsx("td",{children:Array.isArray(c.models)?c.models.map(p=>typeof p=="string"?p:p.model_code).join(", "):c.models}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>a((t-1)*m+r),children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>d(r),children:e.jsx("i",{className:"fas fa-trash"})})]})]},r))]})]})}),e.jsx(Oe,{currentPage:t,totalPages:h,totalItems:s.length,pageSize:m,onPageChange:n})]})}function aa(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState({all:!0,draft:!1,active:!1,onhold:!1,completed:!1}),[r,p]=l.useState(!1),[i,j]=l.useState(null),[P,N]=l.useState([]),[w,x]=l.useState([]),[f,g]=l.useState(1),v=10;l.useEffect(()=>{fetch("/packing-cost-fe/projects.json").then(A=>{if(!A.ok)throw new Error("Network response was not ok");return A.json()}).then(A=>{x(A)}).catch(A=>{console.error("Error fetching projects:",A)})},[]);function S(){a(""),t(""),m(""),u(""),c({all:!0,draft:!1,active:!1,onhold:!1,completed:!1}),N([]),g(1)}function D(){const y=!s&&!o&&!n&&!h&&d.all;let A=w.filter(L=>{var W,se,ae;return(!s||((W=L.project_code)==null?void 0:W.toLowerCase().includes(s.toLowerCase())))&&(!o||((se=L.project_name)==null?void 0:se.toLowerCase().includes(o.toLowerCase())))&&(!n||(Array.isArray(L.models)?L.models.join(", ").toLowerCase().includes(n.toLowerCase()):(L.models||"").toLowerCase().includes(n.toLowerCase())))&&(!h||((ae=L.project_manager)==null?void 0:ae.toLowerCase().includes(h.toLowerCase())))});if(!d.all){const L=[];d.draft&&L.push("Draft"),d.active&&L.push("Active"),d.onhold&&L.push("On Hold"),d.completed&&L.push("Completed"),L.length>0&&(A=A.filter(W=>L.includes(W.status)))}N(y?[...A].reverse():A),g(1)}function $(){j(null),p(!0)}function _(){p(!1)}function I(y){if(i!==null)N(A=>A.map((L,W)=>W!==i?L:{...L,project_code:y.code,project_name:y.name,project_manager:y.manager,project_status:y.status,description:y.description,note:y.note,models:y.models}));else{const A={project_code:y.code||`CFC-${((P||[]).length+1).toString().padStart(3,"0")}`,project_name:y.name||"(No name)",project_manager:y.manager||"",project_status:y.status||"Draft",description:y.description,note:y.note,models:y.models};N(L=>[A,...L||[]])}p(!1),j(null)}function C(y){j(y),p(!0)}function U(y){N(A=>A.filter((L,W)=>W!==y))}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-secondary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Project List"})}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:$,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," New Project"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Download Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(ta,{code:s,setCode:a,name:o,setName:t,models:n,setModels:m,manager:h,setManager:u,statuses:d,setStatuses:c,handleSearch:D,clearFilters:S,handleOpenNew:$}),e.jsx(la,{results:P,handleEdit:C,handleDelete:U,currentPage:f,setCurrentPage:g,pageSize:v})]}),e.jsx(ea,{visible:r,onClose:_,onSave:I,initialData:i!==null&&P&&P[i]?{...P[i],models:Array.isArray(P[i].models)?P[i].models.map(y=>typeof y=="string"?{code:y,name:"",remark:""}:y):(P[i].models||"").split(",").map(y=>({code:y.trim(),name:"",remark:""}))}:null})]})}function na({show:s,onClose:a,onSave:o,initialData:t}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(""),[P,N]=l.useState(""),[w,x]=l.useState(""),[f,g]=l.useState(""),[v,S]=l.useState(""),[D,$]=l.useState(""),[_,I]=l.useState(""),[C,U]=l.useState([]),[y,A]=l.useState(!1),[L,W]=l.useState([]);l.useEffect(()=>{var k,G;s&&(t?(m(((k=t.project)==null?void 0:k.project_code)||""),u(((G=t.project)==null?void 0:G.project_name)||""),c(t.model_code||""),p(t.model_name||""),j(t.model_remark||""),g(t.model_implementation_period||""),S(t.model_destination_code||""),$(t.destinationCountryCode||""),I(t.country||""),U(t.parts||[]),N(t.model_cfc||""),x(t.model_type||"")):(m(""),u(""),c(""),p(""),j(""),g(""),S(""),$(""),I(""),U([]),N(""),x("")),A(!1))},[s,t]),l.useEffect(()=>{fetch("/packing-cost-fe/projects.json").then(G=>G.json()).then(G=>W(G))},[]),l.useEffect(()=>{if(n){const k=L.find(G=>G.project_code===n);u(k?k.project_name:"")}else u("")},[n]);function se(){A(!0)}function ae(k){const G=k.map(z=>({partNo:z.partNo||"",suffix:"",name:z.partName||"",parent:z.parentPartNo||"",supplierId:z.supplierId||"",supplierName:z.supplierName||"",L:z.L||0,W:z.W||0,H:z.H||0,wtPerPc:z.wtPerPc||0,qty:1,totalWt:z.wtPerPc?(1*z.wtPerPc).toFixed(2):0}));U(z=>[...z,...G]),A(!1)}function M(k){U(G=>G.filter((z,J)=>J!==k))}function Y(k,G,z){const J=[...C],q={...J[k]};if(q[G]=z,G==="qty"||G==="wtPerPc"){const Z=G==="qty"?z:q.qty,H=G==="wtPerPc"?z:q.wtPerPc;q.totalWt=(Number(Z)*Number(H)).toFixed(2)}J[k]=q,U(J)}function E(k){S(k);const G=is.find(z=>z.destCode===k);G?($(G.code),I(G.country)):($(""),I(""))}function T(){if(!d.trim()){alert("Please enter Model Code");return}const k={...t||{},model_code:d,model_name:r,model_remark:i,model_implementation_period:f,model_destination_code:v,destinationCountryCode:D,country:_,parts:C.slice(),model_cfc:P,model_type:w,project:{...(t==null?void 0:t.project)||{},project_code:n,project_name:h}};console.log("Saving model:",k),o(k)}return s?e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:k=>{k.target===k.currentTarget&&a()},children:[e.jsxs("div",{className:"np-modal card card-outline card-success",style:{maxWidth:1200},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsxs("b",{children:["Model - ",t?"Edit":"New"]})}),e.jsx("div",{className:"ml-2 text-muted small",style:{marginLeft:8},children:"|"}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Model Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:d,onChange:k=>c(k.target.value),placeholder:"Model Code"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Model Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:r,onChange:k=>p(k.target.value),placeholder:"Model Name"})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"CFC"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:P,onChange:k=>N(k.target.value),placeholder:"CFC"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsxs("select",{className:"form-control form-control-sm mb-2",value:w,onChange:k=>x(k.target.value),children:[e.jsx("option",{value:"",children:"-- Select Type --"}),e.jsx("option",{value:"PxP",children:"PxP"}),e.jsx("option",{value:"Lot",children:"Lot"}),e.jsx("option",{value:"Engine",children:"Engine"})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Project Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:n,onChange:k=>m(k.target.value),placeholder:"Project Code"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Project Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:h,placeholder:"Project Name",readOnly:!0,style:{backgroundColor:"#f8f9fa"}})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Implementation Period ",e.jsx("span",{style:{color:"red"},children:"*"})," ",e.jsx("span",{className:"text-muted ml-2",children:e.jsx("i",{children:"e.g., 02.2025"})})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:f,onChange:k=>g(k.target.value),placeholder:"Implementation Period"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Destination Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("div",{className:"input-group input-group-sm mb-2",children:[e.jsx("input",{className:"form-control form-control-sm",value:v,onChange:k=>E(k.target.value),placeholder:"Destination Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-map-marker-alt"})})})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Destination Country Code"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:D,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Country"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:_,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"small",children:"Remark"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:i,onChange:k=>j(k.target.value),placeholder:"Remark"})]})}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-2",onClick:se,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Part"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-2",onClick:()=>alert("Upload placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-upload-alt mr-1"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Download template placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-download-alt mr-1"})," Template"]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",style:{fontSize:"0.8rem"},children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:130,textAlign:"center"},children:"Part No"}),e.jsx("th",{style:{width:50,textAlign:"center"},children:"Suffix"}),e.jsx("th",{style:{textAlign:"center"},children:"Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Parent"}),e.jsx("th",{style:{width:50,textAlign:"center"},children:"Supplier ID"}),e.jsx("th",{style:{textAlign:"center"},children:"Supplier Name"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"L"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"W"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"H"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"Wt/pc"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"Qty"}),e.jsx("th",{style:{width:70,textAlign:"center"},children:"Total Wt"}),e.jsx("th",{style:{width:70,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"13",className:"text-center text-muted",children:"- No parts added yet -"})}):C.map((k,G)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.partNo,onChange:z=>Y(G,"partNo",z.target.value)})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.suffix,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.name,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.parent,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.supplierId,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.supplierName,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:k.L,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:k.W,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:k.H,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:k.wtPerPc,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-control form-control-sm",style:{textAlign:"right"},value:k.qty,onChange:z=>Y(G,"qty",z.target.value)})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k.totalWt,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>M(G),children:e.jsx("i",{className:"fas fa-trash"})})})]},G))})]})})]}),e.jsxs("div",{className:"card-footer text-right",style:{marginTop:8},children:[e.jsxs("button",{type:"button",className:"btn btn-primary mr-2",onClick:T,children:[e.jsx("i",{className:"fas fa-save mr-1"})," Save"]}),e.jsxs("button",{type:"button",className:"btn btn-outline-secondary",onClick:a,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]}),y&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(Ie,{show:y,onClose:()=>A(!1),onSelect:ae})}),e.jsx("style",{children:`
        /* Modal Backdrop Styling */
        .np-modal-backdrop {
          position: fixed;                    /* Fixed position overlay */
          inset: 0;                          /* Cover entire viewport */
          background: rgba(0,0,0,0.35);      /* Semi-transparent dark background */
          z-index: 2000;                     /* High z-index for overlay */
          display: flex;                     /* Flexbox for centering */
          align-items: center;               /* Vertical centering */
          justify-content: center;           /* Horizontal centering */
          padding: 1rem;                     /* Padding around modal */
        }
        
        /* Modal Container Styling */
        .np-modal { 
          width: 100%;                       /* Full width within constraints */
          z-index: 2001;                     /* Higher z-index than backdrop */
        }
        
        /* Table Cell Alignment */
        .table-sm td, .table-sm th { 
          vertical-align: middle;            /* Middle vertical alignment for table cells */
        }
      `})]}):null}function ra({filterName:s,setFilterName:a,filterCfc:o,setFilterCfc:t,filterType:n,setFilterType:m,filterRemark:h,setFilterRemark:u,implementationPeriod:d,setImplementationPeriod:c,destinationCode:r,setDestinationCode:p,destinationCountryCode:i,setDestinationCountryCode:j,country:P,setCountry:N,handleFilter:w,handleClearFilters:x,onSearchCfc:f,onSearchDestination:g}){return e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"form-row mb-3",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:o,onChange:Q(t),placeholder:"CFC"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:f,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Model Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s,onChange:Q(a),placeholder:"Name"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Implementation Period"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:Q(c),placeholder:"Implementation Period"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:n,onChange:v=>m(v.target.value),children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"pxp",children:"PxP"}),e.jsx("option",{value:"lot",children:"Lot"}),e.jsx("option",{value:"eng",children:"Engine"})]})]}),e.jsx("div",{className:"form-group col-md-6",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:"small mb-1",children:"Destination Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:Q(p),placeholder:"Destination Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:g,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:"small mb-1",children:"Destination Country Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]})]})}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Country"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:P,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"form-group col-md-12",children:[e.jsx("label",{className:"small mb-1",children:"Remark"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:v=>u(v.target.value),placeholder:"Remark"})]}),e.jsxs("div",{className:"form-group col-md-12 text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:w,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:x,children:[e.jsx("i",{className:"fas fa-undo mr-1"})," Reset"]})]})]})})}function oa({models:s,handleDeleteModel:a,handleEditModel:o,currentPage:t,setCurrentPage:n,pageSize:m}){const h=Math.ceil(s.length/m),u=s.slice((t-1)*m,t*m);return e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{className:"thead-light",style:{position:"sticky",top:0,zIndex:5,fontSize:"0.8rem"},children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50,textAlign:"center"},children:"No"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Name"}),e.jsx("th",{style:{textAlign:"center"},children:"CFC"}),e.jsx("th",{style:{textAlign:"center"},children:"Type"}),e.jsx("th",{style:{textAlign:"center"},children:"Project Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Impl Period"}),e.jsx("th",{style:{textAlign:"center"},children:"Dest Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country"}),e.jsx("th",{style:{textAlign:"center"},children:"Remark"}),e.jsx("th",{style:{textAlign:"center"},children:"Parts"}),e.jsx("th",{style:{width:120,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{style:{fontSize:"0.8rem"},children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"13",className:"text-center",children:"No models found"})}):u.map((d,c)=>{var p;const r=is.find(i=>i.destCode===d.model_destination_code);return e.jsxs("tr",{children:[e.jsx("td",{children:(t-1)*m+c+1}),e.jsx("td",{style:{textAlign:"center"},children:d.model_code}),e.jsx("td",{style:{textAlign:"center"},children:d.model_name}),e.jsx("td",{style:{textAlign:"center"},children:d.model_cfc}),e.jsx("td",{style:{textAlign:"center"},children:d.model_type}),e.jsx("td",{style:{textAlign:"center"},children:(p=d.project)==null?void 0:p.project_code}),e.jsx("td",{style:{textAlign:"center"},children:d.model_implementation_period}),e.jsx("td",{style:{textAlign:"center"},children:d.model_destination_code}),e.jsx("td",{style:{textAlign:"center"},children:r?r.code:""}),e.jsx("td",{style:{textAlign:"center"},children:r?r.country:""}),e.jsx("td",{style:{textAlign:"center"},children:d.model_remark}),e.jsx("td",{style:{textAlign:"right"},children:Array.isArray(d.parts)?d.parts.length:0}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>o((t-1)*m+c),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>a((t-1)*m+c),children:e.jsx("i",{className:"fas fa-trash"})})]})]},c)})})]})}),e.jsx(Oe,{currentPage:t,totalPages:h,totalItems:s.length,pageSize:m,onPageChange:n})]})}function ia(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(""),[P,N]=l.useState(""),[w,x]=l.useState(""),[f,g]=l.useState(!1),[v,S]=l.useState(!1),[D,$]=l.useState(!1),[_,I]=l.useState(null),[C,U]=l.useState(null),[y,A]=l.useState([]),[L,W]=l.useState([]),[se,ae]=l.useState(1),M=10;l.useEffect(()=>{fetch("/packing-cost-fe/models.json").then(R=>{if(!R.ok)throw new Error("Network response was not ok");return R.json()}).then(R=>{const O=R.sort((b,V)=>new Date(V.model_implementation_period)-new Date(b.model_implementation_period));A(O),W([])}).catch(R=>{console.error("Error fetching models:",R)})},[]);function Y(){if(!s&&!o&&!n&&!h&&!d&&!r&&!i){W([...y].reverse()),ae(1);return}let R=y.filter(O=>{var b,V,B,te,F,ee,K;return(!s||((b=O.project.project_code)==null?void 0:b.toLowerCase().includes(s.toLowerCase())))&&(!o||((V=O.model_name)==null?void 0:V.toLowerCase().includes(o.toLowerCase())))&&(!n||((B=O.model_cfc)==null?void 0:B.toLowerCase().includes(n.toLowerCase())))&&(!h||((te=O.model_type)==null?void 0:te.toLowerCase().includes(h.toLowerCase())))&&(!d||((F=O.model_remark)==null?void 0:F.toLowerCase().includes(d.toLowerCase())))&&(!r||((ee=O.model_implementation_period)==null?void 0:ee.toLowerCase().includes(r.toLowerCase())))&&(!i||((K=O.model_destination_code)==null?void 0:K.toLowerCase().includes(i.toLowerCase())))});W(R),ae(1)}function E(){a(""),t(""),m(""),u(""),c(""),p(""),j(""),N(""),x(""),W([]),ae(1)}function T(){I(null),U(null),g(!0)}function k(){g(!1),I(null),U(null)}const G=H=>{H&&(m(H.model_cfc),t(H.model_name)),S(!1)},z=H=>{H&&(j(H.destCode),N(H.code),x(H.country)),$(!1)};function J(H){var R,O,b,V,B,te,F;if(_!==null){const ee=y.map((ne,X)=>X===_?H:ne);A(ee);const K=L.map(ne=>ne.model_code===C.model_code&&ne.model_name===C.model_name&&ne.model_remark===C.model_remark?H:ne);W(K)}else{const ee=[H,...y];A(ee),(!s||((R=H.project.project_code)==null?void 0:R.toLowerCase().includes(s.toLowerCase())))&&(!o||((O=H.model_name)==null?void 0:O.toLowerCase().includes(o.toLowerCase())))&&(!n||((b=H.model_cfc)==null?void 0:b.toLowerCase().includes(n.toLowerCase())))&&(!h||((V=H.model_type)==null?void 0:V.toLowerCase().includes(h.toLowerCase())))&&(!d||((B=H.model_remark)==null?void 0:B.toLowerCase().includes(d.toLowerCase())))&&(!r||((te=H.model_implementation_period)==null?void 0:te.toLowerCase().includes(r.toLowerCase())))&&(!i||((F=H.model_destination_code)==null?void 0:F.toLowerCase().includes(i.toLowerCase())))&&W([H,...L])}console.log("Model saved:",H),g(!1),I(null),U(null)}function q(H){const R=L[H],O=y.findIndex(b=>b.model_code===R.model_code&&b.model_name===R.model_name&&b.model_remark===R.model_remark);console.log("Editing model:",R),console.log("Original index:",O),I(O),U(R),g(!0)}function Z(H){if(!confirm("Delete this model?"))return;const R=L[H],O=y.findIndex(b=>b.model_code===R.model_code&&b.model_name===R.model_name&&b.model_remark===R.model_remark);if(O!==-1){const b=y.filter((B,te)=>te!==O);A(b);const V=L.filter((B,te)=>te!==H);W(V)}}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Model List"})}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:T,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Model"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",onClick:()=>alert("Upload placeholder"),children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Template",onClick:()=>alert("Download template placeholder"),children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(ra,{projectCode:s,setProjectCode:a,filterName:o,setFilterName:t,filterCfc:n,setFilterCfc:m,filterType:h,setFilterType:u,filterRemark:d,setFilterRemark:c,implementationPeriod:r,setImplementationPeriod:p,destinationCode:i,setDestinationCode:j,destinationCountryCode:P,setDestinationCountryCode:N,country:w,setCountry:x,handleFilter:Y,handleClearFilters:E,handleOpenNew:T,onSearchCfc:()=>S(!0),onSearchDestination:()=>$(!0)}),e.jsx(oa,{models:L,handleDeleteModel:Z,handleEditModel:q,currentPage:se,setCurrentPage:ae,pageSize:M})]}),e.jsx(na,{show:f,onClose:k,onSave:J,initialData:C}),e.jsx(Fe,{show:v,onClose:()=>S(!1),onAdd:G,selectionMode:"single"}),e.jsx(Bs,{show:D,onClose:()=>$(!1),onAdd:z,selectionMode:"single"})]})}function $s({show:s=!1,onClose:a,onSelect:o,zIndex:t=4e3,mode:n="single"}){const[m,h]=l.useState([]),[u,d]=l.useState(""),[c,r]=l.useState(""),[p,i]=l.useState({code:"",name:""}),[j,P]=l.useState(!1),[N,w]=l.useState(null),[x,f]=l.useState(1),[g,v]=l.useState(10);if(l.useEffect(()=>{fetch("/suppliers.json").then(M=>M.json()).then(M=>h(M)).catch(M=>console.error("Failed to load suppliers:",M))},[]),l.useEffect(()=>(s?(d(""),r(""),i({code:"",name:""}),P(!1),w(null),f(1),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),!s)return null;function S(){f(1),P(!0),i({code:u,name:c})}function D(){f(1),d(""),r(""),i({code:"",name:""}),P(!1)}function $(){if(!j)return[];const M=p.code.trim().toLowerCase(),Y=p.name.trim().toLowerCase();return m.filter(E=>!(M&&!E.code.toLowerCase().includes(M)||Y&&!E.name.toLowerCase().includes(Y)))}const _=$(),I=_.length,C=Math.max(1,Math.ceil(I/g)),U=_.slice((x-1)*g,x*g);function y(M){w(n==="multi"?Y=>({...Y,[M]:!Y[M]}):M)}function A(){if(N!==null){const M=_[N];o&&o(M),a&&a()}else a&&a()}function L(M){f(Math.min(Math.max(1,M),C))}const W={flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},se={position:"sticky",top:0,zIndex:5,background:"white",padding:"1rem 1rem 0.5rem 1rem",borderBottom:"1px solid #e9ecef"},ae={overflow:"auto",padding:"0 1rem 1rem 1rem"};return e.jsx("div",{className:"supplier-picker-modal-backdrop",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:t,display:"flex",alignItems:"center",justifyContent:"center"},onMouseDown:M=>{M.target===M.currentTarget&&a()},children:e.jsxs("div",{className:"supplier-picker-modal",style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.2)",zIndex:t+1,width:"100%",maxWidth:800,minHeight:400,display:"flex",flexDirection:"column",height:"min(90vh, 700px)"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"Select Supplier"})}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:W,children:[e.jsxs("div",{style:se,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsx("input",{value:u,onChange:Q(d),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{value:c,onChange:Q(r),className:"form-control form-control-sm"})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"col-12 text-right mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:S,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:D,children:[e.jsx("i",{className:"fas fa-eraser mr-1"})," Clear"]})]})})]}),e.jsx("div",{style:ae,children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-striped table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:36}}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Address"})]})}),e.jsx("tbody",{children:U.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-muted py-4",children:j?"No Data Found":"Please click Search to begin"})}):U.map((M,Y)=>{const E=(x-1)*g+Y;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("input",{type:"radio",name:"supplier-picker-radio",checked:N===E,onChange:()=>y(E)})}),e.jsx("td",{children:M.code}),e.jsx("td",{children:M.name}),e.jsx("td",{children:M.address})]},E)})})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>L(1),disabled:x<=1,children:"<<"}),e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>L(x-1),disabled:x<=1,children:"<"}),e.jsxs("span",{className:"mr-1",children:["Page ",x," of ",C]}),e.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>L(x+1),disabled:x>=C,children:">"}),e.jsx("button",{className:"btn btn-sm btn-light ml-1",onClick:()=>L(C),disabled:x>=C,children:">>"}),e.jsxs("span",{className:"ml-2 small text-muted",children:["Total: ",I]})]}),e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:A,disabled:N===null,children:"Add Selected"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:a,children:"Cancel"})]})]})]})})}function ca({show:s=!1,onClose:a=()=>{},onSave:o=()=>{},initialData:t=null}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState(""),[P,N]=l.useState(""),[w,x]=l.useState(""),[f,g]=l.useState(""),[v,S]=l.useState(""),[D,$]=l.useState(""),[_,I]=l.useState(""),[C,U]=l.useState(""),[y,A]=l.useState(""),[L,W]=l.useState(""),[se,ae]=l.useState(""),[M,Y]=l.useState([]),[E,T]=l.useState(!1),[k,G]=l.useState({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),[z,J]=l.useState(!1),[q,Z]=l.useState("parent"),[H,R]=l.useState(!1);l.useEffect(()=>{var K,ne,X;s&&(t?(m(t.partNo||""),u(t.uniqueNo||""),c(t.suffixCode||""),p(t.partName||""),j(t.parentPartNo||""),N(t.suppCode||""),x(t.supplierName||""),g(t.supplierAddress||""),S(t.plantCode||""),$(t.uniqueNo2||""),I(((K=t.dimensions)==null?void 0:K.L)||""),U(((ne=t.dimensions)==null?void 0:ne.W)||""),A(((X=t.dimensions)==null?void 0:X.H)||""),W(t.weightPerPc||""),ae(t.qtyBox||""),Y(t.childParts||[]),T(!1),G({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})):(m(""),u(""),c(""),p(""),j(""),N(""),x(""),g(""),S(""),$(""),I(""),U(""),A(""),W(""),ae(""),Y([]),T(!1),G({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})))},[s,t]);function O(K,ne,X){const ie=Number(K)||0,ue=Number(ne)||0,de=Number(X)||0;return!ie||!ue||!de?"":(ie*ue*de/1e6).toFixed(3)}function b(K,ne){const X=Number(K)||0,ie=Number(ne)||0;return!X||!ie?"":(X*ie).toFixed(3)}function V(K){Y(ne=>ne.filter((X,ie)=>ie!==K))}function B(){if(!n.trim()){alert("Please enter Part No");return}const K={partNo:n,uniqueNo:h,suffixCode:d,partName:r,parentPartNo:i,suppCode:P,supplierName:w,supplierAddress:f,plantCode:v,uniqueNo2:D,dimensions:{L:_,W:C,H:y},weightPerPc:Number(L)||0,qtyBox:Number(se)||0,totalWeight:Number(b(L,se))||0,childParts:M.slice()};o(K)}function te(K){K&&j(K.partNo),J(!1)}function F(K){K&&(N(K.code),x(K.name),g(K.address)),R(!1)}function ee(K){if(K&&K.length>0){const ne=K.map(X=>({partNo:X.partNo||X[0]||"",suffix:X.suffix||X[1]||"",uniqueNo:X.uniqueNo||"",name:X.name||X[2]||"",parent:X.parent||"",supplierId:X.supplierId||"",supplierName:X.supplierName||X[3]||"",L:X.L||"",W:X.W||"",H:X.H||"",wtPerPc:X.wtPerPc||"",qty:X.qty||"",totalWt:X.totalWt||""}));Y(X=>[...X,...ne])}J(!1)}return s?e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:K=>{K.target===K.currentTarget&&a()},children:[e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:980},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Part New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6 d-flex",children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{className:"form-control form-control-sm mb-1",value:n,onChange:Q(m)})]}),e.jsxs("div",{style:{width:"30%",marginLeft:8},children:[e.jsx("label",{className:"small mb-1",children:"Suffix Code"}),e.jsx("input",{className:"form-control form-control-sm mb-1",value:d,onChange:Q(c)})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Parent Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:i,onChange:Q(j)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>{Z("parent"),J(!0)},children:e.jsx("i",{className:"fas fa-search"})})})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Unique No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:Q(u)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>alert("Flash/Generate Unique No"),children:e.jsx("i",{className:"fas fa-bolt"})})})]})]}),e.jsx("div",{className:"form-group col-md-6"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:P,onChange:Q(N)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>R(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",value:w,readOnly:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Address"}),e.jsx("input",{className:"form-control form-control-sm",value:f,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Plant Code"}),e.jsx("input",{className:"form-control form-control-sm",value:v,readOnly:!0})]})]}),e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-md-6 mb-0",children:[e.jsx("label",{className:"small",children:"Dimension (mm)"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4 mb-0",children:[e.jsx("label",{className:"small mb-1",children:"Length"}),e.jsx("input",{className:"form-control form-control-sm",value:_,onChange:K=>I(K.target.value)})]}),e.jsxs("div",{className:"form-group col-md-4 mb-0",children:[e.jsx("label",{className:"small mb-1",children:"Width"}),e.jsx("input",{className:"form-control form-control-sm",value:C,onChange:K=>U(K.target.value)})]}),e.jsxs("div",{className:"form-group col-md-4 mb-0",children:[e.jsx("label",{className:"small mb-1",children:"Height"}),e.jsx("input",{className:"form-control form-control-sm",value:y,onChange:K=>A(K.target.value)})]})]})]}),e.jsx("div",{className:"form-group col-md-6 mb-0 d-flex align-items-end",children:e.jsxs("div",{style:{width:"100%"},children:[e.jsx("label",{className:"small mb-1",children:"Volume (m³)"}),e.jsx("input",{className:"form-control form-control-sm",value:O(_,C,y),readOnly:!0})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6 d-flex",children:[e.jsxs("div",{style:{flex:1,marginRight:8},children:[e.jsx("label",{className:"small mb-1",children:"Weight/PC (gr)"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:L,onChange:K=>W(K.target.value)})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"small mb-1",children:"Qty/Box"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:se,onChange:K=>ae(K.target.value)})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Total Weight (gr)"}),e.jsx("input",{className:"form-control form-control-sm",value:b(L,se),readOnly:!0})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{Z("child"),J(!0)},children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Child Part"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Unique No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Supplier ID"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Wt/PC"}),e.jsx("th",{children:"Qty"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:90},children:"Action"})]})}),e.jsx("tbody",{children:M.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"15",className:"text-center py-4 text-muted",children:"No Data Found"})}):M.map((K,ne)=>e.jsxs("tr",{children:[e.jsx("td",{children:ne+1}),e.jsx("td",{children:K.partNo}),e.jsx("td",{children:K.suffix}),e.jsx("td",{children:K.uniqueNo}),e.jsx("td",{children:K.name}),e.jsx("td",{children:K.parent}),e.jsx("td",{children:K.supplierId}),e.jsx("td",{children:K.supplierName}),e.jsx("td",{children:K.L}),e.jsx("td",{children:K.W}),e.jsx("td",{children:K.H}),e.jsx("td",{children:K.wtPerPc}),e.jsx("td",{children:K.qty}),e.jsx("td",{children:K.totalWt}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>V(ne),children:e.jsx("i",{className:"fas fa-trash"})})})]},ne))})]})})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:B,children:[e.jsx("i",{className:"fas fa-save mr-1"})," Save"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:a,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]}),z&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(Ie,{show:z,mode:q==="parent"?"single":"multi",onClose:()=>J(!1),onSelect:q==="parent"?te:ee})}),H&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx($s,{show:H,onClose:()=>R(!1),onSelect:F})}),e.jsx("style",{children:`
        .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 2000; display:flex; align-items:center; justify-content:center; padding:1rem; }
        .np-modal { width: 100%; max-height: 95vh; overflow: auto; z-index: 2001; }
        .table-sm td, .table-sm th { vertical-align: middle; }
      `})]}):null}function Ks({show:s=!1,onClose:a=()=>{},onConfirm:o=()=>{},title:t="Confirmation",message:n="Are you sure?"}){return s?e.jsxs("div",{className:"modal-backdrop",children:[e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t}),e.jsx("button",{type:"button",className:"close",onClick:a,children:e.jsx("span",{children:"×"})})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:n})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:o,children:"Delete"})]})]})}),e.jsx("style",{jsx:!0,children:`
        .modal-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1050;
        }
        .modal-dialog {
          width: 500px;
        }
      `})]}):null}const da=Is.map((s,a)=>({id:a,partNo:s[0],name:s[1],supplierName:s[2],suffix:"A",uniqueNo:`UN-00${a+1}`,parentPartNo:null,childParts:[],dimensions:{L:10,W:10,H:10},qtyBox:1,totalWeight:1}));function ma(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,j]=l.useState([]),[P,N]=l.useState([]),[w,x]=l.useState(!1),[f,g]=l.useState(null),[v,S]=l.useState(!1),[D,$]=l.useState(null),[_,I]=l.useState(!1),[C,U]=l.useState(null),[y,A]=l.useState(!1),[L,W]=l.useState(10),[se,ae]=l.useState(1),M=P.length;l.useEffect(()=>{j(da),N([])},[]);function Y(){if(!s&&!o&&!n&&!h&&!d&&!r){N([...i].reverse()),ae(1);return}let te=i.filter(F=>{const ee=!s||F.partNo.toLowerCase().includes(s.toLowerCase()),K=!o||F.uniqueNo&&F.uniqueNo.toLowerCase().includes(o.toLowerCase()),ne=!n||F.supplierId&&F.supplierId.toLowerCase().includes(n.toLowerCase()),X=!h||F.supplierName.toLowerCase().includes(h.toLowerCase()),ie=!d||F.parentPartNo&&F.parentPartNo.toLowerCase().includes(d.toLowerCase()),ue=!r||r==="Yes"&&F.childParts&&F.childParts.length>0||r==="No"&&(!F.childParts||F.childParts.length===0);return ee&&K&&ne&&X&&ie&&ue});N(te),ae(1)}function E(){a(""),t(""),m(""),u(""),c(""),p(""),N([]),ae(1)}function T(){g(null),x(!0)}function k(){g(null),x(!1)}function G(B){if(f){const te=i.map(ee=>ee.id===f.id?{...ee,...B}:ee);j(te);const F=P.map(ee=>ee.id===f.id?{...ee,...B}:ee);N(F)}else{const te={...B,id:i.length};j(F=>[te,...F])}x(!1),g(null)}function z(B){g(B),x(!0)}function J(){alert("Upload placeholder")}function q(){alert("Template placeholder")}function Z(B){$(B),S(!0)}function H(){if(D){const B=i.filter(F=>F.id!==D.id);j(B);const te=P.filter(F=>F.id!==D.id);N(te),$(null)}S(!1)}function R(B){ae(B)}function O(B){U(B),I(!0)}function b(B){if(!B){I(!1),U(null);return}const te=Array.isArray(B)?B[0]:B;if(!te){I(!1),U(null);return}const F=te.partNo??te.part_number??te.code??"",ee=te.partNo??te.partNoParent??te.parentPartNo??"";C==="partNo"?a(F):C==="parentPart"&&c(ee||F),I(!1),U(null)}function V(B){B&&(m(B.code),u(B.name)),A(!1)}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Part List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:T,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Part"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:J,title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:q,title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:s,onChange:Q(a),placeholder:"Part No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Pick Part",onClick:()=>O("partNo"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Unique No"}),e.jsx("input",{className:"form-control form-control-sm",value:o,onChange:Q(t),placeholder:"Unique No"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:n,onChange:Q(m),placeholder:"Supplier ID"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Supplier",onClick:()=>A(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:Q(u),placeholder:"Supplier Name"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Parent Part"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:d,onChange:Q(c),placeholder:"Parent Part"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Pick Parent Part",onClick:()=>O("parentPart"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Has Subparts?"}),e.jsxs("select",{className:"form-control form-control-sm",value:r,onChange:B=>p(B.target.value),children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})})]}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:Y,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:E,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx("div",{className:"table-responsive mb-3",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Unique No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Parent Part No"}),e.jsx("th",{children:"Subparts"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Qty/Box"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:110},children:"Action"})]})}),e.jsx("tbody",{children:P.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center py-4 text-muted",children:"No Data Found"})}):P.slice((se-1)*L,se*L).map((B,te)=>{var F,ee,K;return e.jsxs("tr",{children:[e.jsx("td",{children:(se-1)*L+te+1}),e.jsx("td",{children:B.partNo}),e.jsx("td",{children:B.suffixCode??B.suffix}),e.jsx("td",{children:B.uniqueNo}),e.jsx("td",{children:B.partName??B.name}),e.jsx("td",{children:B.supplierName}),e.jsx("td",{children:B.parentPartNo??B.parent}),e.jsx("td",{children:B.childParts?B.childParts.length:B.subparts?B.subparts.length:0}),e.jsx("td",{children:((F=B.dimensions)==null?void 0:F.L)??B.L}),e.jsx("td",{children:((ee=B.dimensions)==null?void 0:ee.W)??B.W}),e.jsx("td",{children:((K=B.dimensions)==null?void 0:K.H)??B.H}),e.jsx("td",{children:B.qtyBox??B.qty}),e.jsx("td",{children:B.totalWeight??B.totalWt}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>z(B),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Z(B),children:e.jsx("i",{className:"fas fa-trash"})})]})]},te)})})]})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>R(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>R(Math.max(1,se-1)),children:"<"}),[...Array(Math.max(1,Math.ceil(M/L))).keys()].map(B=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${se===B+1?"btn-primary":"btn-light"}`,onClick:()=>R(B+1),children:B+1},B)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>R(Math.min(Math.ceil(M/L)||1,se+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",M]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[L," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>W(10),children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>W(25),children:"25"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>W(50),children:"50"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})]}),e.jsx(ca,{show:w,onClose:k,onSave:G,initialData:f}),e.jsx(Ks,{show:v,onClose:()=>S(!1),onConfirm:H,title:"Deletion Confirmation",message:"Do you want to delete this data?"}),e.jsx(Ie,{show:_,onClose:()=>{I(!1),U(null)},onSelect:b}),e.jsx($s,{show:y,onClose:()=>A(!1),onSelect:V})]})}const ua=[{code:"5062",name:"MENARA TERUS MAKMUR",address:"Jl. Jababeka XI Blok H-3 No.12, Kawasan Industri Jababeka, Cikarang, Bekasi"},{code:"722E",name:"TOYOTA MOTOR THAILAND",address:"186/1 Moo 1, Old Railway Road, Samrong Tai, Phra Pradaeng, Samut Prakan 10130, Thailand"},{code:"5453",name:"VELASTO INDONESIA",address:"Kp. Nagrog RT04 / RW02 Desa Kertamukti, Kecamatan Campaka, Purwakarta, Jawa Barat"},{code:"5365",name:"TOKAI RUBBER INDONESIA",address:"Jl. Mitra Timur II Blok E No. 13-14, Parungmulya, Ciampel, Karawang, Jawa Barat"},{code:"5150",name:"NAMICOH INDONESIA",address:"EJIP Industrial Park, Plot 6B-1, Cikarang Selatan, Bekasi, Jawa Barat"},{code:"5028",name:"GARUDA METAL UTAMA",address:"Jl. Kapuk Kamal Raya No.28, RT.6/RW.2, Kamal Muara, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14470"},{code:"5335",name:"DINAR MAKMUR",address:"Jl. Raya Serang No.KM. 78, RW.3, Cijeruk, Kec. Kibin, Kabupaten Serang, Banten 42185"},{code:"5006",name:"NUSAHADI CITRAHARMONIS",address:"Jl. Raya Bekasi No.KM. 28, RT.005/RW.004, Medan Satria, Kecamatan Medan Satria, Kota Bks, Jawa Barat 17132"},{code:"5151",name:"SAKURA JAVA INDONESIA",address:"Kawasan Industri EJIP, Plot 8C/D, Cikarang Selatan, Bekasi, Jawa Barat 17530"},{code:"5010",name:"3 M INDONESIA",address:"Perkantoran Hijau Arkadia, Tower F, 8th Floor, Jl. TB Simatupang No.Kav. 88, RT.1/RW.1, Kebagusan, Ps. Minggu, Kota Jakarta Selatan, Daerah Khusus Ibukota Jakarta 12520"},{code:"5002",name:"ASALTA MANDIRI AGUNG",address:"Jl. Pulo Buaran Raya No.1A, RT.1/RW.8, Pulo Gadung, Kota Jakarta Timur, Daerah Khusus Ibukota Jakarta 13930"}];function ha({show:s=!1,onClose:a=()=>{},onSave:o=()=>{},initialData:t=null}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState("");l.useEffect(()=>{s&&(t?(m(t.code||""),u(t.name||""),c(t.address||"")):(m(""),u(""),c("")))},[s,t]);function r(){if(!n.trim()||!h.trim()){alert("Please enter Supplier Code and Name");return}o({code:n,name:h,address:d})}return s?e.jsxs("div",{className:"modal-backdrop",children:[e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t?"Edit Supplier":"Add Supplier"}),e.jsx("button",{type:"button",className:"close",onClick:a,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control",value:n,onChange:Q(m),readOnly:!!t})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier Name"}),e.jsx("input",{type:"text",className:"form-control",value:h,onChange:Q(u)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("textarea",{className:"form-control",rows:"3",value:d,onChange:p=>c(p.target.value)})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Save"})]})]})}),e.jsx("style",{jsx:!0,children:`
        .modal-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1050;
        }
        .modal-dialog {
          width: 500px;
        }
      `})]}):null}function xa(){const[s,a]=l.useState([]),[o,t]=l.useState([]),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(!1),[i,j]=l.useState(null),[P,N]=l.useState(!1),[w,x]=l.useState(null),[f,g]=l.useState(1),[v,S]=l.useState(5);l.useEffect(()=>{const L=ua.map((W,se)=>({...W,id:se}));a(L),t([])},[]);function D(){let L=s.filter(W=>(!n||W.code.toLowerCase().includes(n.toLowerCase()))&&(!h||W.name.toLowerCase().includes(h.toLowerCase()))&&(!d||W.address.toLowerCase().includes(d.toLowerCase())));t(L),g(1)}function $(){m(""),u(""),c(""),t([]),g(1)}function _(){j(null),p(!0)}function I(L){j(L),p(!0)}function C(L){if(i){const W=s.map(se=>se.id===i.id?{...i,...L}:se);a(W),t(W)}else{const se=[{...L,id:s.length},...s];a(se),t(se)}p(!1),j(null)}function U(L){x(L),N(!0)}function y(){if(w){const L=s.filter(W=>W.id!==w.id);a(L),t(L),x(null)}N(!1)}const A=o.slice((f-1)*v,f*v);return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Supplier List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{className:"btn btn-sm btn-success mr-2",onClick:_,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Add Supplier"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Upload placeholder"),title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Template placeholder"),title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:Q(m),placeholder:"Supplier Code"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:Q(u),placeholder:"Supplier Name"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Address"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:L=>c(L.target.value),placeholder:"Address"})]})})}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-right",children:[e.jsxs("button",{className:"btn btn-sm btn-primary mr-2",onClick:D,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{className:"btn btn-sm btn-outline-secondary",onClick:$,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Address"}),e.jsx("th",{style:{width:110},children:"Action"})]})}),e.jsx("tbody",{children:A.length>0?A.map((L,W)=>e.jsxs("tr",{children:[e.jsx("td",{children:(f-1)*v+W+1}),e.jsx("td",{children:L.code}),e.jsx("td",{children:L.name}),e.jsx("td",{children:L.address}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>I(L),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>U(L),children:e.jsx("i",{className:"fas fa-trash"})})]})]},L.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-muted",children:"No Data Found"})})})]})}),e.jsx(Oe,{currentPage:f,totalItems:o.length,itemsPerPage:v,onPageChange:g,onItemsPerPageChange:S})]})]}),e.jsx(ha,{show:r,onClose:()=>p(!1),onSave:C,initialData:i}),e.jsx(Ks,{show:P,onClose:()=>N(!1),onConfirm:y,title:"Deletion Confirmation",message:"Do you want to delete this data?"})]})}function pa(){const s=Re(),a=()=>{window.confirm("Are you sure you want to clear all saved data?")&&(localStorage.clear(),alert("All data cleared!"),s("/"))};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Settings"})})}),e.jsx("div",{className:"card-body",children:e.jsx("button",{className:"btn btn-danger",onClick:a,children:"Clear All Data"})})]})})}function ja({onSave:s}){const[a,o]=l.useState("inland"),[t,n]=l.useState("02.2025"),[m,h]=l.useState("47.7"),[u,d]=l.useState("86.177"),[c,r]=l.useState("86.177"),[p,i]=l.useState("60.577"),[j,P]=l.useState("64"),[N,w]=l.useState("86.177"),[x,f]=l.useState("106.835"),[g,v]=l.useState("63.249"),[S,D]=l.useState("1"),[$,_]=l.useState("0,31"),[I,C]=l.useState("6"),[U,y]=l.useState("0,31"),[A,L]=l.useState("5,83"),[W,se]=l.useState(""),[ae,M]=l.useState("0,60"),[Y,E]=l.useState("5"),[T,k]=l.useState(!1),G=()=>{const q={tab:a,inland:{period:t,containerM3:m,rent40ft:u,rent20ft:c,milkrunRate:p,milkrunEff:j},labor:{period:t,dlRate:N,idlRate:x,facilityRate:g},manHour:{period:t,receiving:S,inspection:$,deliveryCourse:I,supplyPallet:U,sortingSupply:A,pickPacking:W,vanning:ae,emptyBox:Y}};k(!0),typeof s=="function"&&s(q),setTimeout(()=>k(!1),1500)},z=()=>{n("02.2025"),h("47.7"),d("86.177"),r("86.177"),i("60.577"),P("64"),w("86.177"),f("106.835"),v("63.249"),D("1"),_("0,31"),C("6"),y("0,31"),L("5,83"),se(""),M("0,60"),E("5")},J="form-control form-control-sm";return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Parameters"})}),e.jsx("div",{className:"ml-auto btn-group btn-group-sm",children:["inland","labor","manHour","history"].map(q=>e.jsxs("button",{className:`btn btn-sm ${a===q?"btn-primary":"btn-outline-secondary"}`,onClick:()=>o(q),children:[q==="inland"&&"Inland",q==="labor"&&"Labor Cost",q==="manHour"&&"Man Hour",q==="history"&&"History"]},q))})]}),e.jsxs("div",{className:"card-body",children:[a==="inland"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:J,value:t,onChange:q=>n(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Container Volume M3"}),e.jsx("input",{className:J,value:m,onChange:q=>h(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"40 feet container rent rate"}),e.jsx("input",{className:J,value:u,onChange:q=>d(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"20 feet container rent rate"}),e.jsx("input",{className:J,value:c,onChange:q=>r(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Milkrun rate (per m3)"}),e.jsx("input",{className:J,value:p,onChange:q=>i(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Milkrun efficiency rate (%)"}),e.jsx("input",{className:J,value:j,onChange:q=>P(q.target.value)})]})]}),a==="labor"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:J,value:t,onChange:q=>n(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Direct Labor Rate (DL) Rp/Hour"}),e.jsx("input",{className:J,value:N,onChange:q=>w(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Indirect Labor Rate (IDL) Rp/M3"}),e.jsx("input",{className:J,value:x,onChange:q=>f(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Facility Others Rate"}),e.jsx("input",{className:J,value:g,onChange:q=>v(q.target.value)})]})]}),a==="manHour"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:J,value:t,onChange:q=>n(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Receiving"}),e.jsx("input",{className:J,value:S,onChange:q=>D(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Inspection"}),e.jsx("input",{className:J,value:$,onChange:q=>_(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Delivery Course"}),e.jsx("input",{className:J,value:I,onChange:q=>C(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Supply (Pallet)"}),e.jsx("input",{className:J,value:U,onChange:q=>y(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Sorting & Supply (Non Pallet)"}),e.jsx("input",{className:J,value:A,onChange:q=>L(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Pick & Packing"}),e.jsx("input",{className:J,value:W,onChange:q=>se(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Vanning"}),e.jsx("input",{className:J,value:ae,onChange:q=>M(q.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Empty Box/Pallet Return"}),e.jsx("input",{className:J,value:Y,onChange:q=>E(q.target.value)})]})]}),a==="history"&&e.jsx("div",{className:"text-center text-muted py-4",children:"History tab content will appear here."})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-primary mr-2",onClick:G,children:"Save"}),e.jsx("button",{className:"btn btn-secondary",onClick:z,children:"Cancel"}),T&&e.jsx("span",{className:"ml-3 text-success",children:"Parameters saved"})]})]})})}function fa(){const s=Re(),a=()=>{s(-1)};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Notification Detail"}),e.jsx("div",{className:"card-tools",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date :"})," 20 Feb 2025 13:10"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"From :"})," Jonathan Hairi"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dept :"})," PPMD"]}),e.jsx("hr",{}),e.jsx("p",{children:"Harus diganti Qty menjadi 2"}),e.jsx("p",{children:"Agar lebih aman ketika dikirim ke supplier lain"}),e.jsx("p",{children:"dan diganti Material No nya dengan Mat No : #12312312 00"}),e.jsx("p",{children:"dari supplier Materindo Indigo"})]})]})})}function we({children:s}){return ke().user?s:e.jsx(Nt,{to:"/login",replace:!0})}function Na(){const s=ke(),o=ks().pathname==="/login",t=!!s.user&&!o;return e.jsxs("div",{className:"wrapper",children:[t&&e.jsx(Jl,{}),t&&e.jsx(zl,{}),e.jsx("div",{className:t?"content-wrapper":"",children:e.jsxs(ft,{children:[e.jsx(fe,{path:"/login",element:e.jsx(Xl,{})}),e.jsx(fe,{path:"/",element:e.jsx(we,{children:e.jsx(ba,{})})}),e.jsx(fe,{path:"/projects",element:e.jsx(we,{children:e.jsx(aa,{})})}),e.jsx(fe,{path:"/models",element:e.jsx(we,{children:e.jsx(ia,{})})}),e.jsx(fe,{path:"/parts",element:e.jsx(we,{children:e.jsx(ma,{})})}),e.jsx(fe,{path:"/suppliers",element:e.jsx(we,{children:e.jsx(xa,{})})}),e.jsx(fe,{path:"/packing/cps",element:e.jsx(ml,{})}),e.jsx(fe,{path:"/packing/dpi",element:e.jsx(El,{})}),e.jsx(fe,{path:"/packing/CalculatePackingCost",element:e.jsx($l,{})}),e.jsx(fe,{path:"/packing/ComparisonPage",element:e.jsx(Kl,{})}),e.jsx(fe,{path:"/module-type",element:e.jsx(Ps,{})}),e.jsx(fe,{path:"/material",element:e.jsx(Ps,{})}),e.jsx(fe,{path:"/settings",element:e.jsx(we,{children:e.jsx(pa,{})})}),e.jsx(fe,{path:"/params",element:e.jsx(we,{children:e.jsx(ja,{})})}),e.jsx(fe,{path:"/notification-detail",element:e.jsx(we,{children:e.jsx(fa,{})})})]})}),t&&e.jsxs("footer",{className:"main-footer",children:[e.jsxs("div",{className:"float-right d-none d-sm-block",children:[e.jsx("b",{children:"Version"})," 0.1.0"]}),e.jsxs("strong",{children:["© ",new Date().getFullYear()," My Company."]})]})]})}function ba(){var a,o,t;const s=ke();return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-sm-6",children:[e.jsx("h1",{children:"Dashboard"}),e.jsxs("small",{children:["User: ",(a=s.user)==null?void 0:a.username," | Dept: ",(o=s.user)==null?void 0:o.department," | Role: ",(t=s.user)==null?void 0:t.role]})]})})})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"container-fluid",children:e.jsx(Zl,{})})})]})}const ga="/packing-cost-fe/";pt(document.getElementById("root")).render(e.jsx(ge.StrictMode,{children:e.jsx(jt,{basename:ga,children:e.jsx(Et,{children:e.jsx(Na,{})})})}));
