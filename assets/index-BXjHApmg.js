import{r as l,j as e,R as Se}from"./react-JHr-MqlU.js";import{R as cs,c as xt}from"./react-dom-ByPjVLjt.js";import{N as Ce,B as pt}from"./react-router-dom-C8MBRXQb.js";import{c as Oe,a as As,d as jt,e as fe,f as ft}from"./react-router-CrFtL5GL.js";import{M as Nt,a as bt,b as gt,c as vt,B as Ps,F as Ct,L as yt,I as St}from"./reactstrap-Sv9f_Q5O.js";import{B as wt}from"./react-chartjs-2-B_DtYEyI.js";import{C as Pt,a as kt,L as _t,b as It,p as At,c as Mt,d as Dt}from"./chart.js-zNwYC2Re.js";import"./classnames-C9FZUsQl.js";import"./scheduler-DYLXRpC5.js";import"./@remix-run-TLZCGUFM.js";import"./prop-types-ZMHxiqrO.js";import"./react-transition-group-Bm7DLXUO.js";import"./@babel-G6YR9G09.js";import"./@kurkle-D8fDXNIl.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const m of n)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&t(h)}).observe(document,{childList:!0,subtree:!0});function o(n){const m={};return n.integrity&&(m.integrity=n.integrity),n.referrerPolicy&&(m.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?m.credentials="include":n.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function t(n){if(n.ep)return;n.ep=!0;const m=o(n);fetch(n.href,m)}})();const Pe={ADMIN:"admin",ENGINEER:"engineer",PROCUREMENT:"procurement",VIEWER:"viewer"},_e={PSE:"PSE",PCD:"PCD"},ks={[_e.PSE]:{[Pe.ADMIN]:{general:{visible:!0,editable:!0},pse:{visible:!0,editable:!0},packing:{visible:!0,editable:!0},images:{visible:!0,editable:!0},logistic:{visible:!0,editable:!0}},[Pe.ENGINEER]:{general:{visible:!0,editable:!0},pse:{visible:!0,editable:!0},packing:{visible:!0,editable:!0},images:{visible:!0,editable:!0},logistic:{visible:!1,editable:!1}},[Pe.VIEWER]:{general:{visible:!0,editable:!1},pse:{visible:!0,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!1,editable:!1}}},[_e.PCD]:{[Pe.PROCUREMENT]:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!0,editable:!0}},[Pe.VIEWER]:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!0,editable:!1}}},default:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!1,editable:!1}}},Ms=l.createContext(null),Lt=[{username:"khedi.asmoro",password:"1",department:_e.PSE,role:Pe.ADMIN},{username:"ujang.jayadi",password:"1",department:_e.PSE,role:Pe.ENGINEER},{username:"anton",password:"1",department:_e.PSE,role:Pe.ENGINEER},{username:"hanifa",password:"2",department:_e.PCD,role:Pe.PROCUREMENT},{username:"viewer.pse",password:"1",department:_e.PSE,role:Pe.VIEWER},{username:"viewer.pcd",password:"1",department:_e.PCD,role:Pe.VIEWER}];function Tt({children:s}){const[a,o]=l.useState(null),t=Oe(),n=(h,u)=>{const d=Lt.find(c=>c.username===h&&c.password===u);if(d){const{password:c,...r}=d;return o(r),t("/"),!0}else return!1},m=()=>{o(null),t("/login")};return e.jsx(Ms.Provider,{value:{user:a,login:n,logout:m},children:s})}function Ie(){return l.useContext(Ms)}const Et=[["848400K010","SWITCH ASSY, BACK DOOR OPENER","TRI"],["848400K030","SWITCH ASSY, BACK DOOR OPENER","TRI"],["893400K010","COMPUTER ASSY, CLEARANCE WARNING","DSI"],["131110E010","RING, COMPRESSION, NO.1","PT.NTPRI"],["131110E020","RING, COMPRESSION, NO.1","PT.NTPRI"],["256300E010","VALVE ASSY, EGR, NO.2","AISAN NASMOCO INDUSTRI"],["261000E020","BODY ASSY, DIESEL THROTTLE","AISAN NASMOCO INDUSTRI"],["122810Y11000","HANGER, ENGINE, NO.1","SETIA GUNA SEJATI"],["130500Y02000","GEAR ASSY, CAMSHAFT TIMING","DENSO INDONESIA CORPORATION (FAJAR)"],["25051BZ15000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["25051BZ26000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["22030BZ15000","BODY ASSY, THROTTLE W/MOTOR","AISAN NASMOCO INDUSTRI"],["90210T000200","WASHER, SEAL","ARAI RUBBER SEAL INDONESIA"],["90430T002300","GASKET","ARAI RUBBER SEAL INDONESIA"],["111150Y03000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["11115BZ16000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["171730Y03000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["17173BZ13000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["115110Y04000","CAP, CRANKSHAFT BEARING, NO.1","AT INDONESIA"],["115130Y04000","CAP, CRANKSHAFT BEARING, NO.3","AT INDONESIA"],["16261BZ75000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16261BZ76000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16264BZ38000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16264BZ39000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16282BZ11000","HOSE, WATER BY-PASS, NO.5","CATURINDO AGUNGJAYA RUBBER"],["89467BZ02000","SENSOR, AIR FUEL RATIO","DENSO INDONESIA CORPORATION (SIP C)"],["111910Y01000","TUBE, SPARK PLUG","FUJIKINZOKU INDONESIA"],["90406T001100","TUBE, UNION","FUJIKINZOKU INDONESIA"],["90406T001300","TUBE, UNION","FUJIKINZOKU INDONESIA"],["23209BZ10000","INJECTOR SET, FUEL","HITACHI ASTEMO BEKASI POWERTRAIN SYS"],["90466T006100","CLIP, HOSE","INDOCIPTA HASTA PERKASA"],["90466T006200","CLIP, HOSE","INDOCIPTA HASTA PERKASA"],["32101BZ10000","GEAR SUB-ASSY DRIVE PLATE & RING","INTI GANDA PERDANA"],["157080Y04000","NOZZLE SUB-ASSY, OIL","ITOKIN"],["90360T001200","BALL","JTEKT INDONESIA"],["90105T027300","BOLT, FLANGE","MEIDOH INDONESIA"],["90119T044400","BOLT, W/WASHER","MEIDOH INDONESIA"],["9004A1020000","BOLT WASHER BASED HEAD HEXAGON","MEIDOH INDONESIA"]],Q=s=>a=>{const o=a&&a.target&&typeof a.target.value=="string"?a.target.value:a;s(String(o).toUpperCase())};function Me({show:s=!1,onClose:a,onSelect:o,zIndex:t=4e3,mode:n="multi"}){function m(D,w,Y){const W=((D+1)*9301+49297)%233280/233280;return Math.floor(w+W*(Y-w+1))}const h=Et.map((D,w)=>{const Y=m(w,50,1400),J=m(w+3,20,600),W=m(w+7,10,800),H=Number((Y*J*W/1e6).toFixed(3)),G="P"+String(1e5+m(w,1,9999)),B="S"+String(200+w%999);return{partNo:D[0],partName:D[1],supplierName:D[2],parentPartNo:G,supplierId:B,L:Y,W:J,H:W,boxM3:H}}),[u,d]=l.useState(""),[c,r]=l.useState(""),[p,i]=l.useState(""),[f,P]=l.useState({}),[N,k]=l.useState(!1),[x,j]=l.useState(n==="multi"?{}:null),[g,v]=l.useState(1),[S,L]=l.useState(10);if(l.useEffect(()=>(s?(d(""),r(""),i(""),P({}),k(!1),j(n==="multi"?{}:null),v(1),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),!s)return null;function q(){if(!N)return[];const D=(f.partNo||"").trim().toLowerCase(),w=(f.partName||"").trim().toLowerCase(),Y=(f.supplierName||"").trim().toLowerCase();return h.filter(J=>!(D&&!J.partNo.toLowerCase().includes(D)||w&&!J.partName.toLowerCase().includes(w)||Y&&!J.supplierName.toLowerCase().includes(Y)))}const I=q(),M=I.length,C=Math.max(1,Math.ceil(M/S)),O=I.slice((g-1)*S,g*S),y=()=>{v(1),P({partNo:u,partName:c,supplierName:p}),k(!0)},_=()=>{d(""),r(""),i(""),P({}),k(!1),v(1)};function T(D){j(n==="multi"?w=>({...w,[D]:!w[D]}):D)}function U(D){if(n!=="multi")return;const w=(g-1)*S,Y={};O.forEach((J,W)=>{Y[w+W]=D}),j(J=>({...J,...Y}))}function ee(){if(n==="multi"){const D=Object.keys(x).filter(w=>x[w]).map(w=>I[Number(w)]);o&&o(D),a&&a()}else if(x!==null){const D=I[x];o&&o(D),a&&a()}else a&&a()}function se(D){v(Math.min(Math.max(1,D),C))}const A={flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},z={position:"sticky",top:0,zIndex:5,background:"white",padding:"1rem 1rem 0.5rem 1rem",borderBottom:"1px solid #e9ecef"},E={overflow:"auto",padding:"0 1rem 1rem 1rem",flex:"1 1 auto"};return e.jsx("div",{className:"part-picker-modal-backdrop",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:t,display:"flex",alignItems:"center",justifyContent:"center"},onMouseDown:D=>{D.target===D.currentTarget&&a()},children:e.jsxs("div",{className:"part-picker-modal",style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.2)",zIndex:t+1,width:"min(90vw, 1200px)",position:"relative",display:"flex",flexDirection:"column",height:"min(90vh, 900px)"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"Select Parts"})}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:A,children:[e.jsx("div",{style:z,children:e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-12 col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{value:u,onChange:Q(d),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part Name"}),e.jsx("input",{value:c,onChange:Q(r),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{value:p,onChange:Q(i),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-3 d-flex",children:[e.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:y,children:"Search"}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:_,children:"Clear"})]})]})}),e.jsx("div",{style:E,children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-striped table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:36},children:n==="multi"&&e.jsx("input",{type:"checkbox",onChange:D=>U(D.target.checked)})}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Part Name"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Supplier ID"}),e.jsx("th",{children:"Parent Part No"}),e.jsx("th",{children:"L (mm)"}),e.jsx("th",{children:"W (mm)"}),e.jsx("th",{children:"H (mm)"}),e.jsx("th",{children:"Box M3"})]})}),e.jsx("tbody",{children:I.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"text-center text-muted py-4",children:N?"No Data Found":"Click Search to view parts"})}):O.map((D,w)=>{const Y=(g-1)*S+w;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:n==="multi"?e.jsx("input",{type:"checkbox",checked:!!x[Y],onChange:()=>T(Y)}):e.jsx("input",{type:"radio",name:"part-picker-radio",checked:x===Y,onChange:()=>T(Y)})}),e.jsx("td",{children:D.partNo}),e.jsx("td",{className:"text-left",children:D.partName}),e.jsx("td",{children:D.supplierName}),e.jsx("td",{children:D.supplierId}),e.jsx("td",{children:D.parentPartNo}),e.jsx("td",{children:D.L}),e.jsx("td",{children:D.W}),e.jsx("td",{children:D.H}),e.jsx("td",{children:D.boxM3})]},Y)})})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>se(1),children:"<<"}),e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>se(Math.max(1,g-1)),children:"<"}),[...Array(C).keys()].map(D=>e.jsx("button",{className:`btn btn-sm mr-1 ${g===D+1?"btn-primary":"btn-light"}`,onClick:()=>se(D+1),children:D+1},D)),e.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>se(Math.min(C,g+1)),children:">"}),e.jsxs("span",{className:"ml-2 small text-muted",children:["Total: ",M]})]}),e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:ee,children:"Add Selected"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:a,children:"Cancel"})]})]})]})})}const Rt=({filters:s,setters:a,onSearch:o,onClear:t,onPersonPicker:n,onDestinationPicker:m,destinations:h})=>{const[u,d]=l.useState(!1),c=r=>{a.setPartNo(r.partNo),a.setPartName(r.partName),a.setSupplierCode(r.supplierId),a.setSupplierName(r.supplierName)};return[...new Set(h.map(r=>r.destCode))],e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CPS/PSI/ECI No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.cpsNo,onChange:r=>a.setCpsNo(r.target.value),placeholder:"CPS/PSI/ECI No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CFC/Model"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.model,onChange:r=>a.setModel(r.target.value),placeholder:"Model"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.destCode,onChange:r=>a.setDestCode(r.target.value),placeholder:"Dest Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:m,children:e.jsx("i",{className:"fas fa-search"})})}),e.jsx("input",{type:"text",className:"form-control form-control-sm ml-2",value:s.destCountry,readOnly:!0,placeholder:"Country Code - Country"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Part No - Part Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.partNo,onChange:r=>a.setPartNo(r.target.value),placeholder:"Part No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>d(!0),children:e.jsx("i",{className:"fas fa-search"})})}),e.jsx("input",{type:"text",className:"form-control form-control-sm ml-2",value:s.partName,readOnly:!0,placeholder:"Part Name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"From"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.fromUser,onChange:r=>a.setFromUser(r.target.value),placeholder:"From"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Ref CPS No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.refCpsNo,onChange:r=>a.setRefCpsNo(r.target.value),placeholder:"Ref CPS No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.cfcPjt,onChange:r=>a.setCfcPjt(r.target.value),placeholder:"CFC/PJT"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CPS/PSI/ECI Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:s.cpsPsiEci,onChange:r=>a.setCpsPsiEci(r.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"CPS",children:"CPS"}),e.jsx("option",{value:"PSI",children:"PSI"}),e.jsx("option",{value:"ECI",children:"ECI"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code - Supplier Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm mr-2",value:s.supplierCode,readOnly:!0,placeholder:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.supplierName,readOnly:!0,placeholder:"Supplier Name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"To"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.toUser,onChange:r=>a.setToUser(r.target.value),placeholder:"To"})]})]})]}),e.jsx("div",{className:"row mt-2",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mr-2",onClick:o,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:t,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx(Me,{show:u,onClose:()=>d(!1),onSelect:c,mode:"single"})]})};function Fe({currentPage:s,totalPages:a,totalItems:o,pageSize:t,onPageChange:n,className:m=""}){const h=()=>{if(a<=1)return null;const u=[],d=5;let c=Math.max(1,s-Math.floor(d/2)),r=Math.min(a,c+d-1);r-c+1<d&&(c=Math.max(1,r-d+1)),c>1&&(u.push(e.jsx("button",{className:`btn btn-sm ${s===1?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(1),children:"1"},1)),c>2&&u.push(e.jsx("span",{className:"mx-1",children:"..."},"start-ellipsis")));for(let p=c;p<=r;p++)u.push(e.jsx("button",{className:`btn btn-sm ${s===p?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(p),children:p},p));return r<a&&(r<a-1&&u.push(e.jsx("span",{className:"mx-1",children:"..."},"end-ellipsis")),u.push(e.jsx("button",{className:`btn btn-sm ${s===a?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(a),children:a},a))),u};return a<=1?null:e.jsxs("div",{className:`d-flex justify-content-between align-items-center mt-3 bg-light p-2 border rounded ${m}`,children:[e.jsxs("div",{className:"small text-muted",children:["Showing ",(s-1)*t+1," to ",Math.min(s*t,o)," of ",o," entries"]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary mr-2",disabled:s===1,onClick:()=>n(1),children:e.jsx("i",{className:"fas fa-angle-double-left"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary mr-2",disabled:s===1,onClick:()=>n(s-1),children:e.jsx("i",{className:"fas fa-angle-left"})}),h(),e.jsx("button",{className:"btn btn-sm btn-outline-secondary ml-2",disabled:s===a,onClick:()=>n(s+1),children:e.jsx("i",{className:"fas fa-angle-right"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary ml-2",disabled:s===a,onClick:()=>n(a),children:e.jsx("i",{className:"fas fa-angle-double-right"})})]})]})}function Ot({filteredCps:s,page:a,perPage:o,setPage:t,setPerPage:n,onEdit:m,onClone:h}){const u=s.slice((a-1)*o,a*o),d=c=>c.includes("CPS")?"CPS":c.includes("PCI")?"PCI":c.includes("ECI")?"ECI":"";return e.jsxs("div",{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{fontSize:"10pt"},children:"No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"CPS/PCI/ECI No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Type"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Ref CPS No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Part No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Project Code"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Model"}),e.jsx("th",{style:{fontSize:"10pt"},children:"From"}),e.jsx("th",{style:{fontSize:"10pt"},children:"To"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Status"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Submit Date"}),e.jsx("th",{style:{width:160},children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"12",className:"text-center py-4 text-muted",children:"No Data Found"})}):u.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:"10pt"},children:(a-1)*o+r+1}),e.jsx("td",{style:{fontSize:"10pt"},children:c.cpsNo}),e.jsx("td",{style:{fontSize:"10pt"},children:d(c.cpsNo)}),e.jsx("td",{style:{fontSize:"10pt"},children:c.refCpsNo}),e.jsx("td",{style:{fontSize:"10pt"},children:c.partNo}),e.jsx("td",{style:{fontSize:"10pt"},children:c.cfcPjtCode}),e.jsx("td",{style:{fontSize:"10pt"},children:c.model}),e.jsx("td",{style:{fontSize:"10pt"},children:c.fromUser}),e.jsx("td",{style:{fontSize:"10pt"},children:c.toUser}),e.jsx("td",{style:{fontSize:"10pt"},children:c.status}),e.jsx("td",{style:{fontSize:"10pt"},children:c.issueDate}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>alert("View placeholder"),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-info mr-1",onClick:()=>m(c),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>h(c),children:e.jsx("i",{className:"fas fa-clone"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>alert("Delete placeholder"),children:e.jsx("i",{className:"fas fa-trash"})})]})]},r))})]})}),e.jsx(Fe,{currentPage:a,totalItems:s.length,itemsPerPage:o,onPageChange:t,onItemsPerPageChange:c=>{n(c),t(1)}})]})}function Ft({current:s,partNoQuery:a,partNameQuery:o,supplierQuery:t,onPartNoChange:n,onPartNameChange:m,onSupplierChange:h,onGo:u}){return e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("h5",{className:"mb-0 mr-3",children:"Select part"})}),e.jsxs("div",{className:"row mt-2",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Part No",value:a,onChange:d=>n(d.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part Name"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Part Name",value:o,onChange:d=>m(d.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Supplier Name",value:t,onChange:d=>h(d.target.value)})]}),e.jsx("div",{className:"col-md-3 d-flex align-items-end",children:e.jsx("button",{className:"btn btn-sm btn-primary w-100",type:"button",onClick:u,children:"Go"})})]})]})}function Ds({count:s=1,isPseUser:a}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsxs(Se.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty"}),!a&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Price"}),!a&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Sum"})]},`matLeafHdr-${t}`))})}function Ls({arr:s=[],count:a=1,isPseUser:o}){debugger;return e.jsx(e.Fragment,{children:Array.from({length:a}).map((t,n)=>{const m=s[n]||{};return e.jsxs(Se.Fragment,{children:[e.jsx("td",{className:"align-middle",children:m.materialNo??"-"}),e.jsx("td",{className:"text-right",children:m.qty??"-"}),!o&&e.jsx("td",{className:"text-right",children:m.price??"-"}),!o&&e.jsx("td",{className:"text-right",children:m.sum??"-"})]},`matLeafData-${n}`)})})}function Bt({count:s=10,isPseUser:a}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsx("th",{colSpan:a?2:4,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:t===0?"Box":`Inner ${t}`},`innerGroupHdr-${t}`))})}function Ut({count:s=10,isPseUser:a}){return e.jsx(Ds,{count:s,isPseUser:a})}function Ts({data:s=[],count:a=10,isPseUser:o}){return e.jsx(Ls,{arr:s,count:a,isPseUser:!0})}function Ht({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:2,children:o===0?"Module":`Outer ${o}`},`outerGrp-${o}`))})}function Wt({count:s=10,isPseUser:a}){return e.jsx(Ds,{count:s,isPseUser:a})}function Es({data:s=[],count:a=10,isPseUser:o}){debugger;return e.jsx(Ls,{arr:s,count:a,isPseUser:o})}function $t(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Inner"}),e.jsx("th",{className:"align-middle",children:"Outer"}),e.jsx("th",{className:"align-middle",children:"Material"}),e.jsx("th",{className:"align-middle",children:"Labor"}),e.jsx("th",{className:"align-middle",children:"Inland"})]})}function Rs({data:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.subTotalInner??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalOuter??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalMaterial??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalLabor??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalInland??"-"})]})}function qt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Receiving"}),e.jsx("th",{className:"align-middle",children:"Inspection"}),e.jsx("th",{className:"align-middle",children:"Dlvr Course"}),e.jsx("th",{className:"align-middle",children:"Pallet Supply"}),e.jsx("th",{className:"align-middle",children:"Binding"}),e.jsx("th",{className:"align-middle",children:"Sort & Supply"}),e.jsx("th",{className:"align-middle",children:"Pick & Packing"}),e.jsx("th",{className:"align-middle",children:"Vanning"}),e.jsx("th",{className:"align-middle",children:"Box/Valet Rtrn"}),e.jsx("th",{className:"align-middle",children:"Mix Van"}),e.jsx("th",{className:"align-middle",children:"Lashing"}),e.jsx("th",{className:"align-middle",children:"Total Time Req"}),e.jsx("th",{className:"align-middle",children:"Others"})]})}function Kt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Current"}),e.jsx("th",{className:"align-middle",children:"DL"}),e.jsx("th",{className:"align-middle",children:"IDL"}),e.jsx("th",{className:"align-middle",children:"Facility Others"})]})}function Os({labor:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.receiving??"-"}),e.jsx("td",{className:"align-middle",children:s.inspection??"-"}),e.jsx("td",{className:"align-middle",children:s.deliveryCourse??"-"}),e.jsx("td",{className:"align-middle",children:s.palletSupply??"-"}),e.jsx("td",{className:"align-middle",children:s.binding??"-"}),e.jsx("td",{className:"align-middle",children:s.sorting??"-"}),e.jsx("td",{className:"align-middle",children:s.pickPacking??"-"}),e.jsx("td",{className:"align-middle",children:s.vanning??"-"}),e.jsx("td",{className:"align-middle",children:s.boxValetReturn??"-"}),e.jsx("td",{className:"align-middle",children:s.mixVan??"-"}),e.jsx("td",{className:"align-middle",children:s.lashing??"-"}),e.jsx("td",{className:"align-middle",children:s.totalTimeReq??"-"}),e.jsx("td",{className:"align-middle",children:s.others??"-"})]})}function Fs({labor:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.laborCostCurrent??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostDL??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostIDL??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostFacility??"-"})]})}function Vt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Pack Time (V-PASS)"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Inland Cost (m³)"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Diff"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Milkrun Cost"})]})}function Bs({inland:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.packTimeVPass??"-"}),e.jsx("td",{className:"align-middle",children:s.costM3??"-"}),e.jsx("td",{className:"align-middle",children:s.diff??"-"}),e.jsx("td",{className:"align-middle",children:s.milkrunCost??"-"})]})}function Us(s=0,a=0,o=!1){const t=[],n=(u,d)=>t.push({key:u,w:d});n("action",50),n("recNo",80),n("cpsNo",140),n("partNo",160),n("partName",260),n("parentNo",140),n("supplierCode",140),n("supplierName",200),n("weightPerPc",100),n("qtyPerBox",100),o||(n("subInner",120),n("subOuter",120),n("subMaterial",120),n("subLabor",120),n("subInland",120),n("diffPct",100));for(let u=0;u<s;u++)n(`in_matNo_${u}`,100),n(`in_qty_${u}`,50),o||(n(`in_price_${u}`,70),n(`in_sum_${u}`,100));for(let u=0;u<a;u++)n(`out_matNo_${u}`,100),n(`out_qty_${u}`,50),o||(n(`out_price_${u}`,70),n(`out_sum_${u}`,100));o||(n("lab_mh_receiving",90),n("lab_mh_inspection",90),n("lab_mh_deliveryCourse",120),n("lab_mh_palletSupply",110),n("lab_mh_binding",90),n("lab_mh_sorting",120),n("lab_mh_pickPacking",120),n("lab_mh_vanning",90),n("lab_mh_boxValetReturn",120),n("lab_mh_mixVan",90),n("lab_mh_lashing",90),n("lab_mh_totalTimeReq",110),n("lab_mh_others",90),n("lab_cost_direct",90),n("lab_cost_indirect",90),n("lab_cost_subTotal",100),n("lab_cost_costPerPc",110),n("inland_trucking",150),n("inland_clp",120),n("inland_delivery",70),n("inland_total",100));const m=t.reduce((u,d)=>u+d.w,0);return{colGroup:e.jsx("colgroup",{children:t.map((u,d)=>e.jsx("col",{style:{width:`${u.w}px`,minWidth:`${u.w}px`}},`${u.key}-${d}`))}),totalWidth:m,cols:t}}function Gt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Name"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Parent No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Code"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Name"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Weight/pc"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty/Box"})]})}function Hs({part:s}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.partNo??"-"}),e.jsx("td",{className:"align-middle",children:s.partName??s.name??"-"}),e.jsx("td",{className:"align-middle",children:s.parentNo??"-"}),e.jsx("td",{className:"align-middle",children:s.supplierCode??"-"}),e.jsx("td",{className:"align-middle",children:s.supplierName??"-"}),e.jsx("td",{className:"align-middle",children:s.weightPerPc??"-"}),e.jsx("td",{className:"align-middle",children:s.qtyPerBox??"-"})]})}function Yt({current:s={},scrollRef:a,onScroll:o,isPseUser:t,innerCount:n,outerCount:m}){const h=s.inner||[],u=s.outer||[],d=s.labor||{},c=s.inland||{},{colGroup:r,totalWidth:p}=Us(n,m,t);return e.jsx("div",{className:"mb-3",children:e.jsx("div",{ref:a,onScroll:o,className:"table-responsive mt-2",style:{overflowX:"auto",overflowY:"hidden"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center table-font-size-10pt",style:{minWidth:`${p}px`,tableLayout:"fixed"},children:[r,e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap"}),e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"No"}),e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"CPS No"}),e.jsx("th",{rowSpan:2,colSpan:7,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Part Info"}),!t&&e.jsx("th",{rowSpan:2,colSpan:5,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Sub Total Costs"}),!t&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Diff (%)"}),e.jsx("th",{colSpan:n*(t?2:4),className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inner Info"}),e.jsx("th",{colSpan:m*(t?2:4),className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Outer Info"}),!t&&e.jsx("th",{colSpan:17,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Labor"}),!t&&e.jsx("th",{colSpan:4,rowSpan:2,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inland"})]}),e.jsxs("tr",{children:[e.jsx(Bt,{count:n,isPseUser:t}),e.jsx(Ht,{count:m,isPseUser:t}),!t&&e.jsx("th",{colSpan:13,className:"align-align-middle border text-center tbl-row1-hdr text-nowrap",children:"Man Hour Requirement"}),!t&&e.jsx("th",{colSpan:4,className:"align-align-middle border text-center tbl-row1-hdr text-nowrap",children:"Labor Cost"})]}),e.jsxs("tr",{children:[e.jsx(Gt,{}),!t&&e.jsx($t,{}),e.jsx(Ut,{count:n,isPseUser:t}),e.jsx(Wt,{count:m,isPseUser:t}),!t&&e.jsx(qt,{}),!t&&e.jsx(Kt,{}),!t&&e.jsx(Vt,{})]})]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{className:"align-middle",children:s.recNo??"-"}),e.jsx("td",{className:"align-middle",children:s.cpsNo??"-"}),e.jsx(Hs,{part:s}),!t&&e.jsx(Rs,{data:s}),!t&&e.jsx("td",{className:"align-middle",children:s.diffPct??"-"}),e.jsx(Ts,{data:h,count:n,isPseUser:t}),e.jsx(Es,{data:u,count:m,isPseUser:t}),!t&&e.jsx(Os,{labor:d}),!t&&e.jsx(Fs,{labor:d}),!t&&e.jsx(Bs,{inland:c})]})})]})})})}function zt({filteredParts:s=[],onSelectPart:a,scrollRef:o,onScroll:t,isPseUser:n,innerCount:m,outerCount:h}){const{colGroup:u,totalWidth:d,cols:c}=Us(m,h,n);return e.jsx("div",{className:"mb-1",children:e.jsx("div",{ref:o,onScroll:t,className:"table-responsive",style:{maxHeight:400,overflowY:"auto",overflowX:"auto"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center table-font-size-10pt",style:{minWidth:`${d}px`,tableLayout:"fixed"},children:[u,e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:c.length,className:"text-center text-muted py-3",children:"No results"})}):s.map((r,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"align-middle",children:e.jsx("input",{type:"checkbox",onChange:()=>a(r)})}),e.jsx("td",{className:"align-middle",children:r.recNo??"-"}),e.jsx("td",{className:"align-middle",children:r.cpsNo??"-"}),e.jsx(Hs,{part:r}),!n&&e.jsx(Rs,{data:r}),!n&&e.jsx("td",{className:"align-middle",children:r.diffPct??"-"}),e.jsx(Ts,{data:r.inner,count:m,isPseUser:n}),e.jsx(Es,{data:r.outer,count:h,isPseUser:n}),!n&&e.jsx(Os,{labor:r.labor}),!n&&e.jsx(Fs,{labor:r.labor}),!n&&e.jsx(Bs,{inland:r.inland})]},p))})]})})})}function Jt({isOpen:s=!1,onClose:a=()=>{},parts:o=[],current:t={},onSelectPart:n=()=>{}}){const[m,h]=l.useState(""),[u,d]=l.useState(""),[c,r]=l.useState(""),{user:p}=Ie(),i=p&&p.department==="PSE"&&!["pic","sh","dph"].includes(p.role),f=l.useRef(null),P=l.useRef(null),N=l.useRef(!1),k=(v,S)=>{N.current||(N.current=!0,S.current&&v.current&&(S.current.scrollLeft=v.current.scrollLeft),N.current=!1)},x=l.useMemo(()=>o.filter(v=>{const S=m.trim().toLowerCase(),L=u.trim().toLowerCase(),q=c.trim().toLowerCase(),I=S===""||v.partNo&&v.partNo.toLowerCase().includes(S),M=L===""||v.name&&v.name.toLowerCase().includes(L),C=q===""||v.supplier&&v.supplier.toLowerCase().includes(q);return I&&M&&C}),[o,m,u,c]),j=l.useMemo(()=>{const v=[t,...x];return Math.max(...v.map(S=>{var L;return((L=S.inner)==null?void 0:L.length)||0}))},[t,x]),g=l.useMemo(()=>{const v=[t,...x];return Math.max(...v.map(S=>{var L;return((L=S.outer)==null?void 0:L.length)||0}))},[t,x]);return s?e.jsx("div",{className:"np-modal-backdrop multi-parts-modal",style:{zIndex:3e3},onMouseDown:v=>{v.target===v.currentTarget&&a()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1200,width:"100%",display:"flex",flexDirection:"column",height:"700px",maxHeight:"700px",minHeight:"700px"},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"CPS Comparison"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsx("div",{className:"card-body",style:{verticalAlign:"top",paddingBottom:0,maxHeight:"fit-content"},children:e.jsx(Ft,{current:t,partNoQuery:m,partNameQuery:u,supplierQuery:c,onPartNoChange:h,onPartNameChange:d,onSupplierChange:r,onGo:()=>{}})}),e.jsx("hr",{className:"my-0"}),e.jsxs("div",{className:"card-body",style:{flex:1,display:"flex",flexDirection:"column",paddingTop:"8px",paddingBottom:"8px"},children:[e.jsx(Yt,{current:t,scrollRef:f,onScroll:()=>k(f,P),isPseUser:i,innerCount:j,outerCount:g}),e.jsx("hr",{style:{margin:"8px 0"}}),e.jsx(zt,{filteredParts:x,onSelectPart:n,scrollRef:P,onScroll:()=>k(P,f),isPseUser:i,innerCount:j,outerCount:g})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:()=>{},children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:a,children:"Close"})]}),e.jsx("style",{children:`
          .multi-parts-modal .np-modal { max-width: 1200px; height: 700px; min-height: 700px; max-height: 700px; }
          .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: flex; align-items: center; justify-content: center; padding: 1rem; }
          .np-modal { width: 100%; height: 700px; min-height: 700px; max-height: 700px; }
          .table-sm td, .table-sm th { vertical-align: middle; white-space: nowrap; }
          .card-body { vertical-align: top; }
        `})]})}):null}function Be({show:s,onClose:a,onAdd:o,selectionMode:t="multi"}){const[n,m]=l.useState([]),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(""),[P,N]=l.useState(""),[k,x]=l.useState(""),[j,g]=l.useState(""),[v,S]=l.useState(t==="multi"?[]:null),[L,q]=l.useState([]),[I,M]=l.useState(1),C=15;l.useEffect(()=>{fetch("/packing-cost-fe/models.json").then(D=>D.json()).then(D=>{m(D),q(D)})},[]),l.useEffect(()=>{s&&(u(""),c(""),p(""),f(""),N(""),x(""),g(""),S(t==="multi"?[]:null),q(n),M(1))},[s,t]);const O=E=>{S(t==="multi"?D=>D.includes(E)?D.filter(w=>w!==E):[...D,E]:E)},y=()=>{const E=n.filter(D=>D.model_code.toLowerCase().includes(h.toLowerCase())&&D.model_name.toLowerCase().includes(d.toLowerCase())&&(D.model_cfc||"").toLowerCase().includes(r.toLowerCase())&&(D.destination_code||"").toLowerCase().includes(i.toLowerCase())&&(D.model_implementation_period||"").toLowerCase().includes(P.toLowerCase())&&(D.model_type||"").toLowerCase().includes(k.toLowerCase())&&D.model_remark.toLowerCase().includes(j.toLowerCase()));q(E),M(1)},_=()=>{u(""),c(""),p(""),f(""),N(""),x(""),g(""),q(n),M(1)},T=()=>{if(typeof o=="function")if(t==="multi")o(v.map(E=>n.find(D=>D.model_code===E)));else{const E=n.find(D=>D.model_code===v);o(E)}S(t==="multi"?[]:null),typeof a=="function"&&a()},U=I*C,ee=U-C,se=L.slice(ee,U),A=Math.ceil(L.length/C);if(!s)return null;const z=e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog","aria-modal":"true",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",inset:0,zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",style:{zIndex:2100},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Model"}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-row align-items-end mb-3",children:[e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Model Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:E=>u(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:E=>c(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-1",children:[e.jsx("label",{className:"small",children:"CFC"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:E=>p(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Dest Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,onChange:E=>f(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Impl. Period"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:P,onChange:E=>N(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-1",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k,onChange:E=>x(E.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2 text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-1",onClick:y,type:"button",children:"Search"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:_,type:"button",children:"Clear"})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Model Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"CFC"}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Impl. Period"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Remark"})]})}),e.jsx("tbody",{children:se.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No models found"})}):se.map(E=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"model-selection",checked:t==="multi"?v.includes(E.model_code):v===E.model_code,onChange:()=>O(E.model_code)})}),e.jsx("td",{children:E.model_code}),e.jsx("td",{children:E.model_name}),e.jsx("td",{children:E.model_cfc}),e.jsx("td",{children:E.destination_code}),e.jsx("td",{children:E.model_implementation_period}),e.jsx("td",{children:E.model_type}),e.jsx("td",{children:E.model_remark})]},E.model_code))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>M(E=>Math.max(1,E-1)),disabled:I===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",I," of ",A]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>M(E=>Math.min(A,E+1)),disabled:I===A,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:T,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:a,type:"button",children:"Cancel"})]})]})]})})});return cs.createPortal(z,typeof document<"u"?document.body:null)}function Qt({show:s=!1,onClose:a=()=>{},onAdd:o=()=>{},selectionMode:t="single",zIndex:n=1050,filter:m="all"}){const[h,u]=l.useState([]),[d,c]=l.useState(""),[r,p]=l.useState(1),[i,f]=l.useState(""),[P,N]=l.useState(""),[k,x]=l.useState(""),[j,g]=l.useState(t==="multi"?[]:null),[v,S]=l.useState([]),L=15;l.useEffect(()=>{fetch("/packing-cost-fe/dpi.json").then(z=>z.json()).then(z=>u(z)).catch(z=>console.error("Error fetching materials:",z))},[]),l.useEffect(()=>{if(s&&h.length>0){let A=h;m&&(m==="module"?A=h.filter(z=>z.materialType.toLowerCase()==="module"):m==="outer"?A=h.filter(z=>z.materialType.toLowerCase()==="outer"):m==="inner"?A=h.filter(z=>z.materialType.toLowerCase()==="inner"):m==="box"&&(A=h.filter(z=>z.materialType.toLowerCase()==="box"))),S(A)}else S([]),c(""),p(1)},[s,m,h]);function q(A){g(t==="multi"?z=>z.includes(A)?z.filter(E=>E!==A):[...z,A]:A)}const I=()=>{const A=h.filter(z=>(z.materialNo||"").toLowerCase().includes(i.toLowerCase())&&(z.materialName||"").toLowerCase().includes(P.toLowerCase())&&(z.materialType||"").toLowerCase().includes(k.toLowerCase()));S(A),p(1)},M=()=>{f(""),N(""),x(""),S(h),p(1)},C=()=>{if(typeof o=="function")if(t==="multi")o(j.map(A=>h.find(z=>z.materialNo===A)));else{const A=h.find(z=>z.materialNo===j);console.log(">>>>"+A),o(A)}g(t==="multi"?[]:null),typeof a=="function"&&a()},O=r*L,y=O-L,_=v.slice(y,O),T=Math.ceil(v.length/L),U=A=>typeof A!="number"?A:A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),ee=A=>typeof A!="number"?A:A.toLocaleString("en-US");if(!s)return null;const se=e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",zIndex:n},children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Material"}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-row align-items-end mb-3",children:[e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small",children:"Material No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,onChange:Q(f)})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:P,onChange:Q(N)})]}),e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:k,onChange:Q(x)})]}),e.jsxs("div",{className:"form-group col-md-2 text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-1",onClick:I,type:"button",children:"Search"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:M,type:"button",children:"Clear"})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Material No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{style:{textAlign:"right"},children:"L"}),e.jsx("th",{style:{textAlign:"right"},children:"W"}),e.jsx("th",{style:{textAlign:"right"},children:"H"}),e.jsx("th",{style:{textAlign:"right"},children:"Inner"}),e.jsx("th",{style:{textAlign:"right"},children:"Outer"})]})}),e.jsx("tbody",{children:_.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No materials found"})}):_.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"material-selection",checked:t==="multi"?j.includes(A.materialNo):j===A.materialNo,onChange:()=>q(A.materialNo)})}),e.jsx("td",{children:A.materialNo}),e.jsx("td",{children:A.materialName}),e.jsx("td",{children:A.materialType}),e.jsx("td",{style:{textAlign:"right"},children:ee(A.dimension_length)}),e.jsx("td",{style:{textAlign:"right"},children:ee(A.dimension_width)}),e.jsx("td",{style:{textAlign:"right"},children:ee(A.dimension_height)}),e.jsx("td",{style:{textAlign:"right"},children:U(A.dimension_inner_length*A.dimension_inner_width*A.dimension_inner_height/1e6)}),e.jsx("td",{style:{textAlign:"right"},children:U(A.dimension_outer_length*A.dimension_outer_width*A.dimension_outer_height/1e6)})]},A.materialNo))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>p(A=>Math.max(1,A-1)),disabled:r===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",r," of ",T]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>p(A=>Math.min(T,A+1)),disabled:r===T,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary",onClick:C,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:a,type:"button",children:"Cancel"})]})]})]})})});return cs.createPortal(se,typeof document<"u"?document.body:null)}function Zt(s){const{cpsNo:a,setCpsNo:o,refCpsNo:t,setRefCpsNo:n,cfcPjtCode:m,setCfcPjtCode:h,model:u,setModel:d,partNo:c,setPartNo:r,partName:p,setPartName:i,supplier:f,setSupplier:P,plantCode:N,setPlantCode:k,dockCode:x,setDockCode:j,openPartPicker:g,openModelPicker:v,setComparisonOpen:S}=s;return e.jsxs("div",{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"CPS/PSI/ECI No."})}),e.jsx("input",{className:"form-control form-control-sm",value:a,onChange:L=>o(L.target.value),placeholder:"CPSxxxx..."})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"CFC/Model"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:u,onChange:L=>d(L.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:v,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Part No"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:c,onChange:L=>r(L.target.value)}),e.jsxs("div",{className:"input-group-append",children:[e.jsx("button",{id:"partPickerBtn",type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part",onClick:g,children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Compare",style:{marginLeft:6},onClick:()=>S(!0),children:"Compare"})]})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Ref CPS No."})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:t,onChange:L=>n(L.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Ref CPS",onClick:()=>alert("Search Ref CPS placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Project Code"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:m,onChange:L=>h(L.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>alert("Search CFC/PJT placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Part Name"})}),e.jsx("input",{className:"form-control form-control-sm",value:p,readOnly:!0})]})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Supplier"})}),e.jsx("input",{className:"form-control form-control-sm",value:f,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Plant Code"}),e.jsx("input",{className:"form-control form-control-sm",value:N,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Dock Code"}),e.jsx("input",{className:"form-control form-control-sm",value:x,readOnly:!0})]})]})]})}function Xt(s){const{config:a,pseOpen:o,setPseOpen:t,packingPlantCurr:n,setPackingPlantCurr:m,packingPlantNext:h,setPackingPlantNext:u,vanningPlantCurr:d,setVanningPlantCurr:c,vanningPlantNext:r,setVanningPlantNext:p,orderPatternCurr:i,setOrderPatternCurr:f,orderPatternNext:P,setOrderPatternNext:N,category:k,setCategory:x,katashiki:j,setKatashiki:g,importerLineProcess:v,setImporterLineProcess:S,caseCode:L,setCaseCode:q,boxNumber:I,setBoxNumber:M,renban:C,setRenban:O,renbanEff:y,setRenbanEff:_,packingProcessBoxing:T,setPackingProcessBoxing:U,packingProcessStacking:ee,setPackingProcessStacking:se,pseOuterRows:A,setPseOuterRows:z,newPseOuter:E,setNewPseOuter:D,openMaterialPicker:w}=s,[Y,J]=l.useState(!1),[W,H]=l.useState(null),G=()=>{if(!E.materialNo.trim()){alert("Enter Pack Material No");return}z(b=>[...b,{...E}]),D({materialNo:"",suffix:"",name:"",supplier:"",L:"",W:"",H:"",wtPerPc:"",qty:"",totalWt:""}),J(!1)},B=b=>{z(V=>V.filter(($,X)=>X!==b))},R=(b,V,$)=>{const X=A.map((te,re)=>{if(re===b){const de={...te,[V]:$};return(V==="qty"||V==="wtPerPc")&&(de.totalWt=(parseFloat(de.qty)||0)*(parseFloat(de.wtPerPc)||0)),de}return te});z(X)},F=(b,V)=>{const $=W===V;return e.jsxs("tr",{children:[e.jsx("td",{children:$?e.jsxs("div",{className:"input-group",children:[e.jsx("input",{value:b.materialNo,onChange:X=>R(V,"materialNo",X.target.value),className:"form-control form-control-sm"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-sm btn-outline-secondary",type:"button",onClick:()=>w(V===0?"Module":"outer",V),children:e.jsx("i",{className:"fas fa-search"})})})]}):b.materialNo}),e.jsx("td",{children:$?e.jsx("input",{readOnly:!0,value:b.suffix,onChange:X=>R(V,"suffix",X.target.value),className:"form-control form-control-sm"}):b.suffix}),e.jsx("td",{children:b.name}),e.jsx("td",{children:b.supplier}),e.jsx("td",{children:$?e.jsx("input",{readOnly:!0,value:b.L,onChange:X=>R(V,"L",X.target.value),className:"form-control form-control-sm"}):b.L}),e.jsx("td",{children:$?e.jsx("input",{readOnly:!0,value:b.W,onChange:X=>R(V,"W",X.target.value),className:"form-control form-control-sm"}):b.W}),e.jsx("td",{children:$?e.jsx("input",{readOnly:!0,value:b.H,onChange:X=>R(V,"H",X.target.value),className:"form-control form-control-sm"}):b.H}),e.jsx("td",{children:$?e.jsx("input",{value:b.wtPerPc,onChange:X=>R(V,"wtPerPc",X.target.value),className:"form-control form-control-sm"}):b.wtPerPc}),e.jsx("td",{children:$?e.jsx("input",{value:b.qty,onChange:X=>R(V,"qty",X.target.value),className:"form-control form-control-sm"}):b.qty}),e.jsx("td",{children:b.totalWt}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-link",children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-link",children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:$?e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>H(null),disabled:!a.editable,children:"Save"}):e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:X=>{X.stopPropagation(),B(V)},disabled:!a.editable,children:e.jsx("i",{className:"fas fa-trash"})})})]},V)};return e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>t(b=>!b),children:[e.jsx("i",{className:`fas ${o?"fa-chevron-down":"fa-chevron-right"} mr-2`}),e.jsx("strong",{children:"PSE Information"})]}),o&&e.jsx("div",{className:"card card-body mt-2",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Plant (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:n,onChange:b=>m(b.target.value),disabled:!a.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Packing Plant (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:b=>u(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Vanning Plant (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:d,onChange:b=>c(b.target.value),disabled:!a.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Vanning Plant (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:r,onChange:b=>p(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Order Pattern (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:i,onChange:b=>f(b.target.value),disabled:!a.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Order Pattern (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:P,onChange:b=>N(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{className:"small mb-1",children:"Category"}),e.jsxs("select",{className:"form-control form-control-sm",value:k,onChange:b=>x(b.target.value),disabled:!a.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"Trim",children:"Trim"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("label",{className:"small mb-1",children:"Katashiki (AD/AU/AF/AX)"}),e.jsxs("div",{className:"form-row",children:[e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AD",value:j.AD,onChange:b=>g(V=>({...V,AD:b.target.value})),disabled:!a.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AU",value:j.AU,onChange:b=>g(V=>({...V,AU:b.target.value})),disabled:!a.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AF",value:j.AF,onChange:b=>g(V=>({...V,AF:b.target.value})),disabled:!a.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AX",value:j.AX,onChange:b=>g(V=>({...V,AX:b.target.value})),disabled:!a.editable})})]})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Importer Line Process"}),e.jsx("input",{className:"form-control form-control-sm",value:v,onChange:b=>S(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Case Code"}),e.jsx("input",{className:"form-control form-control-sm",value:L,onChange:b=>q(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Box Number"}),e.jsx("input",{className:"form-control form-control-sm",value:I,onChange:b=>M(b.target.value),disabled:!a.editable})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Renban"}),e.jsx("input",{className:"form-control form-control-sm",value:C,onChange:b=>O(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Renban Eff"}),e.jsx("input",{className:"form-control form-control-sm",value:y,onChange:b=>_(b.target.value),disabled:!a.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Process - Boxing"}),e.jsxs("select",{className:"form-control form-control-sm",value:T,onChange:b=>U(b.target.value),disabled:!a.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"SUPPLIER",children:"SUPPLIER"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Process - Stacking"}),e.jsxs("select",{className:"form-control form-control-sm",value:ee,onChange:b=>se(b.target.value),disabled:!a.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"TMMIN",children:"TMMIN"})]})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("label",{className:"small mb-1",children:"OUTER (Pack Material)"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{H(null),J(!0)},disabled:Y||!a.editable,children:"Add"})})]}),e.jsx("div",{className:"table-responsive mt-2",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 small",children:[e.jsx("thead",{style:{backgroundColor:"#cfcfcfff"},children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{style:{width:30},children:"No"}),e.jsx("th",{style:{width:120},children:"Pack Material No"}),e.jsx("th",{style:{width:40},children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier"}),e.jsx("th",{style:{width:60},children:"L"}),e.jsx("th",{style:{width:60},children:"W"}),e.jsx("th",{style:{width:60},children:"H"}),e.jsx("th",{style:{width:60},children:"Wt/pc"}),e.jsx("th",{style:{width:60},children:"Qty"}),e.jsx("th",{style:{width:80},children:"Total Wt"}),e.jsx("th",{style:{width:10},children:"msds"}),e.jsx("th",{style:{width:10},children:"draw"}),e.jsx("th",{style:{width:80},children:"Action"})]})}),e.jsxs("tbody",{children:[A.length===0&&!Y?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-3",children:"No Data Found"})}):A.map(F),Y&&e.jsxs("tr",{children:[e.jsx("td",{children:"+"}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:E.materialNo,onChange:b=>D(V=>({...V,materialNo:b.target.value}))}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>w("Outer","new"),disabled:!a.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.suffix,onChange:b=>D(V=>({...V,suffix:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.name})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.supplier})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.L,onChange:b=>D(V=>({...V,L:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.W,onChange:b=>D(V=>({...V,W:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.H,onChange:b=>D(V=>({...V,H:b.target.value}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:E.wtPerPc,onChange:b=>D(V=>({...V,wtPerPc:b.target.value,totalWt:(parseFloat(b.target.value)||0)*(parseFloat(V.qty)||0)}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:E.qty,onChange:b=>D(V=>({...V,qty:b.target.value,totalWt:(parseFloat(b.target.value)||0)*(parseFloat(V.wtPerPc)||0)}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:E.totalWt})}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:G,disabled:!a.editable,children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>J(!1),disabled:!a.editable,children:"Cancel"})]})})]})]})]})})]})]})})]})})}const el=Se.memo(({file:s,index:a,onRemove:o})=>{const[t,n]=l.useState(null);l.useEffect(()=>{if(!s)return;const h=URL.createObjectURL(s);return n(h),()=>URL.revokeObjectURL(h)},[s]);const m=l.useCallback(()=>{o(a)},[a,o]);return t?e.jsxs("div",{style:{position:"relative",display:"inline-block",marginRight:"10px",marginBottom:"10px"},children:[e.jsx("img",{src:t,alt:s.name,className:"border",style:{width:"100px",height:"100px",objectFit:"cover"}}),e.jsx("button",{onClick:m,className:"btn btn-danger btn-sm",style:{position:"absolute",top:"0",right:"0",borderRadius:"50%",width:"24px",height:"24px",lineHeight:"1",padding:"0"},children:"×"})]}):null}),sl=({imagesPart:s,setImagesPart:a,imagesPacking:o,setImagesPacking:t,imagesOuter:n,setImagesOuter:m,imagesQkp:h,setImagesQkp:u,imagesBkp:d,setImagesBkp:c,imagesOpen:r,setImagesOpen:p})=>{const i=k=>x=>{const j=x.target.value;k(g=>({...g,caption:j}))},f=k=>x=>{const j=Array.from(x.target.files);j.length>0&&k(g=>({...g,files:[...g.files,...j]}))},P=k=>x=>{k(j=>{const g=[...j.files];return g.splice(x,1),{...j,files:g}})},N=[{id:"part",title:"Part Images",state:s,setter:a},{id:"packing",title:"Packing Images",state:o,setter:t},{id:"outer",title:"Outer Images",state:n,setter:m},{id:"qkp",title:"QKP Images",state:h,setter:u},{id:"bkp",title:"BKP Images",state:d,setter:c}];return e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>p(k=>!k),"aria-expanded":r,"aria-controls":"imagesSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${r?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Images"]})}),r&&e.jsx("div",{id:"imagesSection",children:e.jsx("div",{className:"row mt-2",children:N.map(({id:k,title:x,state:j,setter:g})=>e.jsxs("div",{className:"col-md-6 mt-2",children:[e.jsx("label",{className:"small",children:x}),e.jsxs("div",{className:"border p-2 mb-2",children:[e.jsx("textarea",{value:j.caption,onChange:i(g),placeholder:"Enter a caption...",rows:"2",className:"form-control mb-2"}),e.jsx("div",{className:"d-flex flex-wrap",children:j.files.length===0?e.jsx("div",{className:"text-muted small",children:"No images"}):j.files.map((v,S)=>e.jsx(el,{file:v,index:S,onRemove:P(g)},`${v.name}-${v.lastModified}-${S}`))}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{htmlFor:`${k}-image-input`,className:"btn btn-sm btn-outline-primary",children:"+ Add"}),e.jsx("input",{type:"file",id:`${k}-image-input`,accept:".jpg,.jpeg,.png",multiple:!0,style:{display:"none"},onChange:f(g)})]})]})]},k))})})]})};function tl(s){const{config:a,innerRows:o,setInnerRows:t,newInner:n,setNewInner:m,handleRemoveInnerRow:h,openMaterialPicker:u,materials:d}=s,[c,r]=l.useState(!1),[p,i]=l.useState(null),f=l.useRef(null);l.useEffect(()=>{p!==null&&f.current&&f.current.focus()},[p]);const P=()=>{if(!n.materialNo.trim()){alert("Enter Pack Material No");return}t(x=>[...x,{...n}]),m({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})},N=(x,j,g)=>{const v=o.map((S,L)=>L===x?{...S,[j]:g}:S);t(v)},k=(x,j)=>{const g=d.find(v=>v.materialNo===x);if(console.log("Blurred ->>"),g){console.log("Material FOund -->",JSON.stringify(g));const v={name:g.materialName,supplierName:g.supplier.supplier_name,L:g.dimension_inner_length,W:g.dimension_inner_width,H:g.dimension_inner_height};if(j==="new")console.log("New Inner -->",n),m(S=>({...S,...v}));else{const S=o.map((L,q)=>q===j?{...L,...v}:L);t(S)}}};return e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("label",{className:"small mb-1",children:"INNER (Pack Material)"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{i(null),r(!0)},disabled:c||!a.editable,children:"Add"})})]}),e.jsx("div",{className:"table-responsive mt-2",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 small",children:[e.jsx("thead",{style:{backgroundColor:"#cfcfcfff"},children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{style:{width:30},children:"No"}),e.jsx("th",{style:{width:120},children:"Pack Material No"}),e.jsx("th",{style:{width:40},children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier"}),e.jsx("th",{style:{width:60},children:"L"}),e.jsx("th",{style:{width:60},children:"W"}),e.jsx("th",{style:{width:60},children:"H"}),e.jsx("th",{style:{width:60},children:"Wt/pc"}),e.jsx("th",{style:{width:60},children:"Qty"}),e.jsx("th",{style:{width:80},children:"Total Wt"}),e.jsx("th",{style:{width:10},children:"msds"}),e.jsx("th",{style:{width:10},children:"draw"}),e.jsx("th",{style:{width:80},children:"Action"})]})}),e.jsxs("tbody",{children:[o.length===0&&!c?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-3",children:"No Data Found"})}):o.map((x,j)=>p===j?e.jsxs("tr",{children:[e.jsx("td",{children:j+1}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{ref:f,value:x.materialNo,onChange:v=>N(j,"materialNo",v.target.value),onBlur:v=>k(v.target.value,j),className:"form-control form-control-sm",disabled:!a.editable}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>u(j===0?"box":"inner",j),disabled:!a.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{value:x.suffix,onChange:v=>N(j,"suffix",v.target.value),readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.name,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.supplierName,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.L,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.W,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.H,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:x.wtPerPc,onChange:v=>N(j,"wtPerPc",v.target.value),className:"form-control form-control-sm",disabled:!a.editable})}),e.jsx("td",{children:e.jsx("input",{value:x.qty,onChange:v=>N(j,"qty",v.target.value),className:"form-control form-control-sm",disabled:!a.editable})}),e.jsx("td",{children:(Number(x.wtPerPc||0)*Number(x.qty||0)).toFixed(2)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show MSDS doc for "+x.materialNo),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show Drawing doc for "+x.materialNo),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>i(null),disabled:!a.editable,children:"Save"})})]},j):e.jsxs("tr",{onClick:()=>{a.editable&&(i(j),r(!1))},children:[e.jsx("td",{children:j+1}),e.jsx("td",{children:x.materialNo}),e.jsx("td",{children:x.suffix}),e.jsx("td",{children:x.name}),e.jsx("td",{children:x.supplierName}),e.jsx("td",{children:x.L}),e.jsx("td",{children:x.W}),e.jsx("td",{children:x.H}),e.jsx("td",{children:x.wtPerPc}),e.jsx("td",{children:x.qty}),e.jsx("td",{children:(Number(x.wtPerPc||0)*Number(x.qty||0)).toFixed(2)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:v=>{v.stopPropagation(),alert("Show MSDS doc for "+x.materialNo)},children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:v=>{v.stopPropagation(),alert("Show Drawing doc for "+x.materialNo)},children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:v=>{v.stopPropagation(),h(j)},disabled:!a.editable,children:e.jsx("i",{className:"fas fa-trash"})})})]},j)),c&&e.jsxs("tr",{children:[e.jsx("td",{children:"+"}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:n.materialNo,onChange:x=>m(j=>({...j,materialNo:x.target.value})),onBlur:x=>k(x.target.value,"new")}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>u(o.length===0?"box":"inner"),disabled:!a.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.suffix,onChange:x=>m(j=>({...j,suffix:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.name,onChange:x=>m(j=>({...j,name:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.supplierName,onChange:x=>m(j=>({...j,supplierName:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.L,onChange:x=>m(j=>({...j,L:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.W,onChange:x=>m(j=>({...j,W:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.H,onChange:x=>m(j=>({...j,H:x.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.wtPerPc,onChange:x=>m(j=>({...j,wtPerPc:x.target.value}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.qty,onChange:x=>m(j=>({...j,qty:x.target.value}))})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show MSDS doc for new material"),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show Drawing doc for new material"),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:P,disabled:!a.editable,children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{m({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),r(!1)},disabled:!a.editable,children:"Cancel"})]})})]})]})]})})]})})}function ll(s){const{packingOpen:a,setPackingOpen:o}=s;return e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>o(t=>!t),"aria-expanded":a,"aria-controls":"packingSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${a?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Packing"]})}),a&&e.jsx("div",{id:"packingSection",children:e.jsx(tl,{...s})})]})})}function al(s){const{logisticOpen:a,setLogisticOpen:o,tmmindDestDockCode:t,setTmmindDestDockCode:n,logisticRemark:m,setLogisticRemark:h,processType:u,setProcessType:d,addressRack:c,setAddressRack:r}=s;return e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>o(p=>!p),"aria-expanded":a,"aria-controls":"logisticSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${a?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Logistic Information"]})}),a&&e.jsxs("div",{id:"logisticSection",className:"mt-2",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"TMMIN Dest Dock Code"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{className:"form-control form-control-sm",value:t,onChange:p=>n(p.target.value),placeholder:"Dock Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Address Rack"}),e.jsx("input",{className:"form-control form-control-sm",value:c,onChange:p=>r(p.target.value),placeholder:"Address Rack"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Remark"}),e.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:m,onChange:p=>h(p.target.value),placeholder:"Remark"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Process Type"}),e.jsx("div",{children:["N","W","X","Y"].map(p=>e.jsxs("label",{className:"mr-3",children:[e.jsx("input",{type:"radio",name:"processType",value:p,checked:u===p,onChange:()=>d(p)})," ",p]},p))})]})]})]})}const nl=s=>({cpsNo:s.cpsNo,refCpsNo:s.refCpsNo,issueDate:s.issueDate,effectiveDate:s.effectiveDate,cfcPjtCode:s.cfcPjtCode,model:s.model,partNo:s.partNo,partName:s.partName,supplier:s.supplier,plantCode:s.plantCode,dockCode:s.dockCode,pseInfo:{packingPlantCurr:s.pseInfo.packingPlantCurr,packingPlantNext:s.pseInfo.packingPlantNext,vanningPlantCurr:s.pseInfo.vanningPlantCurr,vanningPlantNext:s.pseInfo.vanningPlantNext,orderPatternCurr:s.pseInfo.orderPatternCurr,orderPatternNext:s.pseInfo.orderPatternNext,category:s.pseInfo.category,katashiki:s.pseInfo.katashiki,importerLineProcess:s.pseInfo.importerLineProcess,caseCode:s.pseInfo.caseCode,boxNumber:s.pseInfo.boxNumber,renban:s.pseInfo.renban,renbanEff:s.pseInfo.renbanEff,packingProcessBoxing:s.pseInfo.packingProcessBoxing,packingProcessStacking:s.pseInfo.packingProcessStacking},images:{part:s.images.part,packing:s.images.packing,outer:s.images.outer,qkp:s.images.qkp,bkp:s.images.bkp},packing:{outerModuleType:s.packing.outerModuleType,outerDimension:s.packing.outerDimension,innerVolume:s.packing.innerVolume,outerVolume:s.packing.outerVolume,innerRows:s.packing.innerRows},notes:s.notes,logistic:{tmmindDestDockCode:s.logistic.tmmindDestDockCode,logisticRemark:s.logistic.logisticRemark,processType:s.logistic.processType,addressRack:s.logistic.addressRack}}),rl=s=>{s.setCpsNo(""),s.setRefCpsNo(""),s.setIssueDate(""),s.setEffectiveDate(""),s.setCfcPjtCode(""),s.setModel(""),s.setPartNo(""),s.setPartName(""),s.setSupplier(""),s.setPlantCode(""),s.setDockCode(""),s.setPseOpen(!1),s.setPackingPlantCurr(""),s.setPackingPlantNext(""),s.setVanningPlantCurr(""),s.setVanningPlantNext(""),s.setOrderPatternCurr(""),s.setOrderPatternNext(""),s.setCategory(""),s.setKatashiki({AD:"",AU:"",AF:"",AX:""}),s.setImporterLineProcess(""),s.setCaseCode(""),s.setBoxNumber(""),s.setRenban(""),s.setRenbanEff(""),s.setPackingProcessBoxing(""),s.setPackingProcessStacking(""),s.setImagesPart({caption:"",files:[]}),s.setImagesPacking({caption:"",files:[]}),s.setImagesOuter({caption:"",files:[]}),s.setImagesQkp({caption:"",files:[]}),s.setImagesBkp({caption:"",files:[]}),s.setOuterModuleType(""),s.setOuterMaterialName(""),s.setOuterDimension({L:"",W:"",H:""}),s.setInnerVolume(""),s.setOuterVolume(""),s.setInnerRows([]),s.setNotes(""),s.setNewInner({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),s.setLogisticOpen(!0),s.setTmmindDestDockCode(""),s.setLogisticRemark(""),s.setProcessType("N"),s.setAddressRack("")};function ol({show:s,onClose:a,onSave:o,editData:t,config:n}){const[m,h]=l.useState("general"),[u,d]=l.useState({current:{},comparisons:[]}),[c,r]=l.useState([]),[p,i]=l.useState(""),[f,P]=l.useState(""),[N,k]=l.useState(""),[x,j]=l.useState(""),[g,v]=l.useState(""),[S,L]=l.useState(""),[q,I]=l.useState(""),[M,C]=l.useState(""),[O,y]=l.useState(""),[_,T]=l.useState(""),[U,ee]=l.useState(""),[se,A]=l.useState(!1),[z,E]=l.useState(""),[D,w]=l.useState(""),[Y,J]=l.useState(""),[W,H]=l.useState(""),[G,B]=l.useState(""),[R,F]=l.useState(""),[b,V]=l.useState(""),[$,X]=l.useState({AD:"",AU:"",AF:"",AX:""}),[te,re]=l.useState(""),[de,xe]=l.useState(""),[be,ge]=l.useState(""),[we,ve]=l.useState(""),[Z,K]=l.useState(""),[le,oe]=l.useState(""),[ae,me]=l.useState(""),[pe,he]=l.useState([]),[ss,De]=l.useState({materialNo:"",suffix:"",name:"",supplier:"",L:"",W:"",H:"",wtPerPc:"",qty:"",totalWt:""}),[Ue,He]=l.useState({caption:"",files:[]}),[hs,We]=l.useState({caption:"",files:[]}),[xs,$e]=l.useState({caption:"",files:[]}),[ps,qe]=l.useState({caption:"",files:[]}),[js,Ke]=l.useState({caption:"",files:[]}),[Vs,ts]=l.useState(""),[fs,Le]=l.useState([]),[Ns,Ve]=l.useState(""),[Ge,Te]=l.useState({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),[Gs,Ys]=l.useState(!0),[zs,Js]=l.useState(!0),[Qs,bs]=l.useState(!1),[Zs,ls]=l.useState(!1),[Xs,as]=l.useState(!1),[et,ns]=l.useState(!1),[Ye,st]=l.useState("all"),[tt,lt]=l.useState(null),[at,rs]=l.useState(!0),[gs,ze]=l.useState(""),[vs,Je]=l.useState(""),[Cs,Qe]=l.useState("N"),[ys,Ze]=l.useState("");l.useEffect(()=>{fetch("/packing-cost-fe/cpsComparison.json").then(je=>je.json()).then(je=>d(je)),fetch("/materials.json").then(je=>je.json()).then(je=>r(je))},[]);const nt=u.current,rt=u.comparisons;l.useEffect(()=>{s&&(t?(i(t.cpsNo||""),P(t.refCpsNo||""),k(t.issueDate||""),j(t.effectiveDate||""),v(t.cfcPjtCode||""),L(t.model||""),I(t.partNo||""),C(t.partName||""),y(t.supplier||""),T(t.plantCode||""),ee(t.dockCode||""),t.pseInfo&&(E(t.pseInfo.packingPlantCurr||""),w(t.pseInfo.packingPlantNext||""),J(t.pseInfo.vanningPlantCurr||""),H(t.pseInfo.vanningPlantNext||""),B(t.pseInfo.orderPatternCurr||""),F(t.pseInfo.orderPatternNext||""),V(t.pseInfo.category||""),X(t.pseInfo.katashiki||{AD:"",AU:"",AF:"",AX:""}),re(t.pseInfo.importerLineProcess||""),xe(t.pseInfo.caseCode||""),ge(t.pseInfo.boxNumber||""),ve(t.pseInfo.renban||""),K(t.pseInfo.renbanEff||""),oe(t.pseInfo.packingProcessBoxing||""),me(t.pseInfo.packingProcessStacking||""),he(t.pseInfo.outerRows||[])),t.images&&(He(t.images.part||{caption:"",files:[]}),We(t.images.packing||{caption:"",files:[]}),$e(t.images.outer||{caption:"",files:[]}),qe(t.images.qkp||{caption:"",files:[]}),Ke(t.images.bkp||{caption:"",files:[]})),t.packing&&(ts(t.packing.innerVolume||""),Le(t.packing.innerRows||[])),Ve(t.notes||""),t.logistic&&(ze(t.logistic.tmmindDestDockCode||""),Je(t.logistic.logisticRemark||""),Qe(t.logistic.processType||"N"),Ze(t.logistic.addressRack||""))):(i(""),P(""),k(""),j(""),v(""),L(""),I(""),C(""),y(""),T(""),ee(""),A(!1),E(""),w(""),J(""),H(""),B(""),F(""),V(""),X({AD:"",AU:"",AF:"",AX:""}),re(""),xe(""),ge(""),ve(""),K(""),oe(""),me(""),he([]),He({caption:"",files:[]}),We({caption:"",files:[]}),$e({caption:"",files:[]}),qe({caption:"",files:[]}),Ke({caption:"",files:[]}),ts(""),Le([]),Ve(""),Te({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),rs(!0),ze(""),Je(""),Qe("N"),Ze("")))},[s,t]);function ot(){if(!Ge.materialNo.trim()){alert("Enter Pack Material No");return}Le(ne=>[...ne,{...Ge}]),Te({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})}function it(ne){Le(je=>je.filter((os,Ae)=>Ae!==ne))}function ct(ne){ne&&(I(ne.partNo),C(ne.partName),y(ne.supplierName)),ls(!1)}const dt=()=>{const ne=nl({cpsNo:p,refCpsNo:f,issueDate:N,effectiveDate:x,cfcPjtCode:g,model:S,partNo:q,partName:M,supplier:O,plantCode:_,dockCode:U,pseInfo:{packingPlantCurr:z,packingPlantNext:D,vanningPlantCurr:Y,vanningPlantNext:W,orderPatternCurr:G,orderPatternNext:R,category:b,katashiki:$,importerLineProcess:te,caseCode:de,boxNumber:be,renban:we,renbanEff:Z,packingProcessBoxing:le,packingProcessStacking:ae,outerRows:pe},images:{part:Ue,packing:hs,outer:xs,qkp:ps,bkp:js},packing:{innerVolume:Vs,innerRows:fs},notes:Ns,logistic:{tmmindDestDockCode:gs,logisticRemark:vs,processType:Cs,addressRack:ys}});o(ne),Ss()},Ss=()=>{rl({setCpsNo:i,setRefCpsNo:P,setIssueDate:k,setEffectiveDate:j,setCfcPjtCode:v,setModel:L,setPartNo:I,setPartName:C,setSupplier:y,setPlantCode:T,setDockCode:ee,setPseOpen:A,setPackingPlantCurr:E,setPackingPlantNext:w,setVanningPlantCurr:J,setVanningPlantNext:H,setOrderPatternCurr:B,setOrderPatternNext:F,setCategory:V,setKatashiki:X,setImporterLineProcess:re,setCaseCode:xe,setBoxNumber:ge,setRenban:ve,setRenbanEff:K,setPackingProcessBoxing:oe,setPackingProcessStacking:me,setPseOuterRows:he,setNewPseOuter:De,setImagesPart:He,setImagesPacking:We,setImagesOuter:$e,setImagesQkp:qe,setImagesBkp:Ke,setInnerVolume:ts,setInnerRows:Le,setNotes:Ve,setNewInner:Te,setLogisticOpen:rs,setTmmindDestDockCode:ze,setLogisticRemark:Je,setProcessType:Qe,setAddressRack:Ze}),a()};function mt(ne){ne&&(Array.isArray(ne)?L(ne.map(je=>je.code).join(", ")):L(ne.code||"")),as(!1)}function ut(ne){if(ne){const je=tt;if(Ye==="outer"||Ye==="module"){const os={materialNo:ne.materialNo,name:ne.materialName,supplier:ne.supplierName,L:ne.dimension_length,W:ne.dimension_width,H:ne.dimension_height,wtPerPc:ne.unitWeight};if(je==="new")De(Ae=>({...Ae,...os}));else{const Ae=[...pe];Ae[je]={...Ae[je],...os},he(Ae)}}else Ye==="inner"&&Te({...Ge,materialNo:ne.materialNo,name:ne.materialName,L:ne.dimension_length,W:ne.dimension_width,H:ne.dimension_height,wtPerPc:ne.unitWeight})}ns(!1)}const ht=()=>as(!0),ws=(ne,je=null)=>{st(ne),lt(je),ns(!0)};return s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:ne=>{ne.target===ne.currentTarget&&a()},children:[e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1200},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:t?"CPS - Edit":"CPS - New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[n.general.visible&&e.jsxs(e.Fragment,{children:[e.jsx(Zt,{config:n.general,cpsNo:p,setCpsNo:Q(i),refCpsNo:f,setRefCpsNo:Q(P),cfcPjtCode:g,setCfcPjtCode:Q(v),model:S,setModel:Q(L),partNo:q,setPartNo:Q(I),partName:M,setPartName:Q(C),supplier:O,setSupplier:Q(y),plantCode:_,setPlantCode:Q(T),dockCode:U,setDockCode:Q(ee),openPartPicker:()=>ls(!0),openModelPicker:ht,setComparisonOpen:bs}),n.pse.visible&&e.jsx("hr",{})]}),n.pse.visible&&e.jsxs(e.Fragment,{children:[e.jsx(Xt,{config:n.pse,pseOpen:se,setPseOpen:A,packingPlantCurr:z,setPackingPlantCurr:Q(E),packingPlantNext:D,setPackingPlantNext:Q(w),vanningPlantCurr:Y,setVanningPlantCurr:Q(J),vanningPlantNext:W,setVanningPlantNext:Q(H),orderPatternCurr:G,setOrderPatternCurr:Q(B),orderPatternNext:R,setOrderPatternNext:Q(F),category:b,setCategory:Q(V),katashiki:$,setKatashiki:X,importerLineProcess:te,setImporterLineProcess:Q(re),caseCode:de,setCaseCode:Q(xe),boxNumber:be,setBoxNumber:Q(ge),renban:we,setRenban:Q(ve),renbanEff:Z,setRenbanEff:Q(K),packingProcessBoxing:le,setPackingProcessBoxing:Q(oe),packingProcessStacking:ae,setPackingProcessStacking:Q(me),pseOuterRows:pe,setPseOuterRows:he,newPseOuter:ss,setNewPseOuter:De,openMaterialPicker:ws}),n.images.visible&&e.jsx("hr",{})]}),n.images.visible&&e.jsxs(e.Fragment,{children:[e.jsx(sl,{config:n.images,imagesOpen:Gs,setImagesOpen:Ys,imagesPart:Ue,setImagesPart:He,imagesPacking:hs,setImagesPacking:We,imagesOuter:xs,setImagesOuter:$e,imagesQkp:ps,setImagesQkp:qe,imagesBkp:js,setImagesBkp:Ke}),n.packing.visible&&e.jsx("hr",{})]}),n.packing.visible&&e.jsxs(e.Fragment,{children:[e.jsx(ll,{config:n.packing,materials:c,packingOpen:zs,setPackingOpen:Js,innerRows:fs,setInnerRows:Le,newInner:Ge,setNewInner:Te,handleAddInnerRow:ot,handleRemoveInnerRow:it,openMaterialPicker:ws}),n.logistic.visible&&e.jsx("hr",{})]}),n.logistic.visible&&e.jsx(al,{config:n.logistic,logisticOpen:at,setLogisticOpen:rs,tmmindDestDockCode:gs,setTmmindDestDockCode:ze,logisticRemark:vs,setLogisticRemark:Je,processType:Cs,setProcessType:Qe,addressRack:ys,setAddressRack:Ze}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Note"}),e.jsx("textarea",{className:"form-control form-control-sm",rows:"3",value:Ns,onChange:Q(Ve)})]})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-secondary",onClick:Ss,children:"Cancel"}),e.jsx("button",{className:"btn btn-primary ml-2",onClick:dt,children:"Save"}),e.jsx("button",{className:"btn btn-success ml-2",onClick:()=>alert("Submit action to be implemented."),children:"Submit"})]})]}),e.jsx("style",{children:`
          .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 2000; display:flex; align-items:center; justify-content:center; padding:1rem; }
          .np-modal { width: 100%; max-height: 95vh; overflow: auto; z-index: 2001; }
          .table-sm td, .table-sm th { vertical-align: middle; }
        `})]}),e.jsx(Jt,{isOpen:Qs,onClose:()=>bs(!1),parts:rt,current:nt,extraClass:"multi-parts-comparison"}),e.jsx(Me,{show:Zs,onClose:()=>ls(!1),onSelect:ct,zIndex:4e3,mode:"single"}),e.jsx(Be,{show:Xs,onClose:()=>as(!1),onAdd:mt,selectionMode:"single"}),e.jsx(Qt,{show:et,onClose:()=>ns(!1),onAdd:ut,zIndex:3e3,filter:Ye})]}):null}const _s=[{userId:"12345",name:"Rollin Khaider",dept:"PSE",role:"Dept Head"},{userId:"22345",name:"Asep Sumarna",dept:"PPM",role:"Section Head"},{userId:"32345",name:"Khalil Gibran",dept:"PSE",role:"Staff"},{userId:"42345",name:"Jaka T. Mulyo",dept:"PCD",role:"Staff"},{userId:"52345",name:"W.H. Jeanette",dept:"PPM",role:"Staff"}];function il({show:s=!1,onClose:a,onSelect:o}){const[t,n]=l.useState({userId:"",name:"",dept:"",role:""}),[m,h]=l.useState(null);if(!s)return null;const u=r=>{n({...t,[r.target.name]:r.target.value})},d=()=>n({userId:"",name:"",dept:"",role:""}),c=_s.filter(r=>(!t.userId||r.userId.includes(t.userId))&&(!t.name||r.name.toLowerCase().includes(t.name.toLowerCase()))&&(!t.dept||r.dept.toLowerCase().includes(t.dept.toLowerCase()))&&(!t.role||r.role.toLowerCase().includes(t.role.toLowerCase())));return e.jsxs("div",{className:"np-modal-backdrop",style:{zIndex:3e3},children:[e.jsxs("div",{className:"np-modal card card-outline card-info",style:{maxWidth:600},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h5",{className:"card-title mb-0",style:{fontSize:20},children:e.jsx("b",{children:"Select a Person"})}),e.jsx("button",{className:"btn btn-tool ml-auto",onClick:a,children:e.jsx("span",{style:{fontSize:25},children:"×"})})]}),e.jsxs("div",{className:"card-body pb-2",children:[e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"User Id"}),e.jsx("input",{name:"userId",className:"form-control form-control-sm",value:t.userId,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Name"}),e.jsx("input",{name:"name",className:"form-control form-control-sm",value:t.name,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small mb-1",children:"Dept"}),e.jsx("input",{name:"dept",className:"form-control form-control-sm",value:t.dept,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Role"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{name:"role",className:"form-control form-control-sm",value:t.role,onChange:u}),e.jsxs("div",{className:"input-group-append",children:[e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:d,children:e.jsx("i",{className:"fas fa-times"})})]})]})]})]}),e.jsx("div",{style:{maxHeight:260,overflowY:"auto"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Dept"}),e.jsx("th",{children:"Role"})]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-muted",children:"No Data Found"})}):c.map((r,p)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"radio",checked:m===r.userId,onChange:()=>h(r.userId)})}),e.jsx("td",{children:r.userId}),e.jsx("td",{children:r.name}),e.jsx("td",{children:r.dept}),e.jsx("td",{children:r.role})]},r.userId))})]})})]}),e.jsx("div",{className:"card-footer text-right",children:e.jsxs("button",{className:"btn btn-success",disabled:!m,onClick:()=>{const r=_s.find(p=>p.userId===m);r&&o&&o(r),a&&a()},children:[e.jsx("i",{className:"fas fa-check mr-1"})," Select"]})})]}),e.jsx("style",{children:`
        .np-modal-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.35);
          z-index: 3000;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }
        .np-modal { width: 100%; z-index: 3001; }
        .table-sm td, .table-sm th { vertical-align: middle; }
      `})]})}const ds=[{destCode:"301B",code:"TAR",country:"ARGENTINA",company:"Toyota Argentina"},{destCode:"301B",code:"TASA",country:"ARGENTINA",company:"Toyota Argentina S.A."},{destCode:"537B",code:"TSM",country:"AFRIKA",company:"Toyota South Africa Motors"},{destCode:"709B",code:"TKM",country:"INDIA",company:"Toyota Kirloskar Motor"},{destCode:"715B",code:"TMV",country:"VIETNAM",company:"Toyota Motor Vietnam"},{destCode:"717C",code:"IMC",country:"PAKISTAN",company:"Indus Motor Company"},{destCode:"721B",code:"KUO",country:"KUOZUI",company:"Kuozui Motors"},{destCode:"721C",code:"KUO",country:"KUOZUI",company:"Kuozui Motors"},{destCode:"722C",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"722F",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"722B",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"811C",code:"TMP",country:"PHILIPINE",company:"Toyota Motor Philippines"},{destCode:"812B",code:"UMW",country:"MALAYSIA",company:"UMW Toyota Motor"},{destCode:"812K",code:"UMW",country:"MALAYSIA",company:"UMW Toyota Motor"},{destCode:"547A",code:"TEE",country:"MESIR",company:"Toyota Egypt Enterprise"},{destCode:"303B",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"303E",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"303D",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"D55E",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"704B",code:"TMY",country:"MYANMAR",company:"Toyota Motor Myanmar"},{destCode:"705A",code:"CAM",country:"CAMBOJA",company:"Cambodia Toyota Motor"},{destCode:"709C",code:"TKAP",country:"INDIA 2",company:"Toyota Kirloskar Auto Parts"},{destCode:"709D",code:"TIEI",country:"INDIA 3",company:"Toyota Industries Engine India"},{destCode:"722S",code:"STM",country:"SIAM THAILAND",company:"Siam Toyota Motor"},{destCode:"811W",code:"TAP",country:"PHILIPINE 2",company:"Toyota Auto Parts Philippines"},{destCode:"807B",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"},{destCode:"807D",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"},{destCode:"807J",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"}],cl=[{id:1,cpsNo:"CPS-2024-001",refCpsNo:"",issueDate:"2024-07-01",effectiveDate:"2024-07-10",dpiNo:"DPI-2024-001",cfcPjtCode:"PJT-A",model:"579W",partNo:"90466T006200",partName:"CLIP, MOULDING",supplier:"Supplier A",plantCode:"TMMIN",dockCode:"D01",pseInfo:{packingPlantCurr:"PLANT-1",packingPlantNext:"PLANT-1",vanningPlantCurr:"VPLANT-A",vanningPlantNext:"VPLANT-A",orderPatternCurr:"A1",orderPatternNext:"A1",category:"CAT-1",katashiki:{AD:"AD1",AU:"AU1",AF:"AF1",AX:"AX1"},importerLineProcess:"ILP-1",caseCode:"CC-001",boxNumber:"B-001",renban:"R-001",renbanEff:"2024-07-10",packingProcessBoxing:"Manual",packingProcessStacking:"Auto"},images:{part:{caption:"Part Image",files:[]},packing:{caption:"Packing Image",files:[]},outer:{caption:"Outer Image",files:[]},qkp:{caption:"QKP Image",files:[]},bkp:{caption:"BKP Image",files:[]}},packing:{outerModuleType:"MOD-A",outerDimension:{L:"100",W:"80",H:"60"},innerVolume:"0.0384",outerVolume:"0.048",innerRows:[{materialNo:"MAT-001",suffix:"S1",name:"Inner Box",parent:"",supplierId:"SUP-001",supplierName:"Supplier Inner",L:"50",W:"40",H:"30",wtPerPc:"0.1",qty:"10"}]},notes:"This is a note for the first CPS.",numParts:5,fromUser:"User A",toUser:"User B",status:"Approved"},{id:2,cpsNo:"CPS-2024-002",refCpsNo:"CPS-2024-001",issueDate:"2024-07-05",effectiveDate:"2024-07-15",dpiNo:"DPI-2024-002",cfcPjtCode:"PJT-B",model:"579W",partNo:"32101BZ10000",partName:"Part B",supplier:"Supplier B",plantCode:"TMMIN",dockCode:"D02",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:8,fromUser:"User C",toUser:"User D",status:"Submitted"},{id:3,cpsNo:"CPS-2024-003",refCpsNo:"",issueDate:"2024-07-12",effectiveDate:"2024-07-20",dpiNo:"DPI-2024-003",cfcPjtCode:"PJT-C",model:"579W",partNo:"90466T006200",partName:"Part C",supplier:"Supplier C",plantCode:"TMMIN",dockCode:"D03",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:3,fromUser:"User E",toUser:"User F",status:"Draft"},{id:4,cpsNo:"CPS-2024-004",refCpsNo:"",issueDate:"2024-07-15",effectiveDate:"2024-07-25",dpiNo:"DPI-2024-004",cfcPjtCode:"PJT-A",model:"579W",partNo:"32101BZ10000",partName:"Part D",supplier:"Supplier D",plantCode:"TMMIN",dockCode:"D04",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:12,fromUser:"User A",toUser:"User G",status:"Rejected"},{id:5,cpsNo:"CPS-2024-005",refCpsNo:"CPS-2024-004",issueDate:"2024-07-20",effectiveDate:"2024-08-01",dpiNo:"DPI-2024-005",cfcPjtCode:"PJT-D",model:"579W",partNo:"90466T006200",partName:"Part E",supplier:"Supplier E",plantCode:"TMMIN",dockCode:"D05",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:7,fromUser:"User H",toUser:"User I",status:"Approved"}],dl=({onNewCps:s,onUpload:a,onDownload:o,onCreatePsi:t,onCreateEci:n,onComparePcs:m})=>e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:s,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create CPS"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:t,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create PSI"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:n,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create ECI"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-info",onClick:m,children:[e.jsx("i",{className:"fas fa-exchange-alt mr-1"})," Compare PCS"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary ml-2",title:"Upload",onClick:a,children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary ml-1",title:"Download Template",onClick:o,children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]});function ms({show:s,onClose:a,onAdd:o,selectionMode:t="multi"}){const[n,m]=l.useState([]),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(t==="multi"?[]:null),[P,N]=l.useState([]),[k,x]=l.useState(1),j=15;l.useEffect(()=>{fetch("/packing-cost-fe/destinations.json").then(_=>_.json()).then(_=>{m(_),N(_)})},[]),l.useEffect(()=>{s&&(u(""),c(""),p(""),f(t==="multi"?[]:null),N(n),x(1))},[s,t,n]);const g=y=>{f(t==="multi"?_=>_.includes(y)?_.filter(T=>T!==y):[..._,y]:y)},v=()=>{const y=n.filter(_=>_.destCode.toLowerCase().includes(h.toLowerCase())&&_.code.toLowerCase().includes(d.toLowerCase())&&_.country.toLowerCase().includes(r.toLowerCase()));N(y),x(1)},S=()=>{u(""),c(""),p(""),N(n),x(1)},L=()=>{if(typeof o=="function")if(t==="multi")o(i.map(y=>n.find(_=>_.destCode===y)));else{const y=n.find(_=>_.destCode===i);o(y)}f(t==="multi"?[]:null),typeof a=="function"&&a()},q=k*j,I=q-j,M=P.slice(I,q),C=Math.ceil(P.length/j);if(!s)return null;const O=e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog","aria-modal":"true",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",inset:0,zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",style:{zIndex:2100},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Destination"}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"d-flex align-items-end mb-3",children:[e.jsxs("div",{style:{flex:"0 0 20%",paddingRight:"0.5rem"},children:[e.jsx("label",{className:"small",children:"Dest Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:y=>u(y.target.value)})]}),e.jsxs("div",{style:{flex:"0 0 20%",paddingRight:"0.5rem"},children:[e.jsx("label",{className:"small",children:"Dest Country Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:y=>c(y.target.value)})]}),e.jsxs("div",{style:{flex:"0 0 40%",paddingRight:"0.5rem"},children:[e.jsx("label",{className:"small",children:"Country Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:y=>p(y.target.value)})]}),e.jsxs("div",{style:{flex:"1 1 auto"},className:"text-right",children:[e.jsxs("button",{className:"btn btn-sm btn-primary mr-1",onClick:v,type:"button",children:["Filter ",e.jsx("i",{className:"fas fa-search"})]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:S,type:"button",children:["Clear ",e.jsx("i",{className:"fas fa-times"})]})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Dest Country Code"}),e.jsx("th",{children:"Country Name"})]})}),e.jsx("tbody",{children:M.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No destinations found"})}):M.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"destination-selection",checked:t==="multi"?i.includes(y.destCode):i===y.destCode,onChange:()=>g(y.destCode)})}),e.jsx("td",{children:y.destCode}),e.jsx("td",{children:y.code}),e.jsx("td",{children:y.country})]},y.destCode))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>x(y=>Math.max(1,y-1)),disabled:k===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",k," of ",C]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>x(y=>Math.min(C,y+1)),disabled:k===C,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:L,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:a,type:"button",children:"Cancel"})]})]})]})})});return cs.createPortal(O,typeof document<"u"?document.body:null)}const ml=()=>{const{user:s}=Ie(),o=(()=>{if(s&&s.department&&s.role){const K=ks[s.department];if(K&&K[s.role])return K[s.role]}return ks.default})(),[t,n]=l.useState(cl),[m,h]=l.useState([]),[u,d]=l.useState(!1),[c,r]=l.useState(null),[p,i]=l.useState(!1),[f,P]=l.useState(null),[N,k]=l.useState(!1),[x,j]=l.useState(""),[g,v]=l.useState(""),[S,L]=l.useState(""),[q,I]=l.useState(""),[M,C]=l.useState(""),[O,y]=l.useState(""),[_,T]=l.useState(""),[U,ee]=l.useState(""),[se,A]=l.useState(""),[z,E]=l.useState(""),[D,w]=l.useState(""),[Y,J]=l.useState(""),[W,H]=l.useState(""),[G,B]=l.useState(""),[R,F]=l.useState({currentPage:1,perPage:5}),b=()=>{j(""),v(""),L(""),I(""),C(""),y(""),T(""),ee(""),A(""),E(""),w(""),J(""),H(""),B(""),h([])},V=K=>{const le=ve,oe=t.filter(ae=>(le.cpsNo?ae.cpsNo.includes(le.cpsNo):!0)&&(le.refCpsNo?ae.refCpsNo.includes(le.refCpsNo):!0)&&(le.model?ae.model.toLowerCase().includes(le.model.toLowerCase()):!0)&&(le.partNo?ae.partNo.includes(le.partNo):!0)&&(le.cfcPjt?ae.cfcPjtCode.includes(le.cfcPjt):!0)&&(le.fromUser?new Date(ae.issuedDate)>=new Date(le.fromUser):!0)&&(le.toUser?new Date(ae.issuedDate)<=new Date(le.toUser):!0)&&(le.status?ae.status===le.status:!0)&&(le.destCode?ae.destCode===le.destCode:!0)&&(le.cpsPsiEci?ae.docType===le.cpsPsiEci:!0));h(oe),F(ae=>({...ae,currentPage:1}))},$=K=>{let le;if(c)le=t.map(oe=>oe.id===c.id?{...oe,...K}:oe);else{const oe=t.length>0?Math.max(...t.map(ae=>ae.id))+1:1;le=[...t,{...K,id:oe}]}n(le),h(le),d(!1),r(null)},X=K=>{r(K),d(!0)},te=K=>{const le=t.length>0?Math.max(...t.map(he=>he.id))+1:1,oe={...K,id:le,refCpsNo:K.cpsNo,cpsNo:""},ae=m.findIndex(he=>he.id===K.id),me=[...t,oe],pe=[...m];pe.splice(ae+1,0,oe),n(me),h(pe)},re=()=>{d(!1),r(null)},de=()=>{console.log("Create PSI clicked")},xe=()=>{console.log("Create ECI clicked")},be=()=>{console.log("Compare PCS clicked")},ge=K=>{P(K),i(!0)},we=K=>{E(K.destCode.toUpperCase()),w(K.country.toUpperCase()),k(!1)},ve={cpsNo:x,refCpsNo:g,model:S,partNo:q,partName:M,cfcPjt:O,fromUser:_,toUser:U,status:se,destCode:z,destCountry:D,cpsPsiEci:Y,supplierCode:W,supplierName:G},Z={setCpsNo:K=>j(K.toUpperCase()),setRefCpsNo:K=>v(K.toUpperCase()),setModel:K=>L(K.toUpperCase()),setPartNo:K=>I(K.toUpperCase()),setPartName:K=>C(K.toUpperCase()),setCfcPjt:K=>y(K.toUpperCase()),setFromUser:K=>T(K.toUpperCase()),setToUser:K=>ee(K.toUpperCase()),setStatus:K=>A(K.toUpperCase()),setDestCode:K=>E(K.toUpperCase()),setDestCountry:K=>w(K.toUpperCase()),setCpsPsiEci:K=>J(K.toUpperCase()),setSupplierCode:K=>H(K.toUpperCase()),setSupplierName:K=>B(K.toUpperCase())};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-secondary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"CPS List"})}),e.jsx(dl,{onNewCps:()=>d(!0),onCreatePsi:de,onCreateEci:xe,onComparePcs:be})]}),e.jsxs("div",{className:"card-body",children:[e.jsx(Rt,{filters:ve,setters:Z,onSearch:()=>V(),onClear:b,onPersonPicker:ge,onDestinationPicker:()=>k(!0),destinations:ds}),e.jsx("hr",{}),e.jsx(Ot,{filteredCps:m,page:R.currentPage,perPage:R.perPage,setPage:K=>F(le=>({...le,currentPage:K})),setPerPage:K=>F(le=>({...le,perPage:K})),onEdit:X,onClone:te})]})]}),e.jsx(ol,{show:u,onClose:re,onSave:$,editData:c,config:o}),p&&e.jsx(il,{show:p,onClose:()=>i(!1),onSelect:K=>{i(!1)}}),e.jsx(ms,{show:N,onClose:()=>k(!1),onAdd:we,selectionMode:"single"})]})};function ul({show:s=!1,onClose:a,initial:o=null,onSave:t,onSubmit:n}){const m={dpiNo:"",refDpiNo:"",issuedDate:"",effectiveDate:"",cfcPjt:"",model:"",from:"",to:"",supplier:"",numParts:0,numCps:0,status:"Draft",notes:""},[h,u]=l.useState(o||m),[d,c]=l.useState([]);if(l.useEffect(()=>(s?(u(o||m),c(o&&o.parts||[]),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s,o]),!s)return null;function r(j){const{name:g,value:v}=j.target;u(S=>({...S,[g]:v}))}function p(){const j={cps:"",partNo:"",suffix:"",name:"",parent:"",supplierCode:"",supplierName:"",L:"",W:"",H:"",wtPc:"",qtyBox:"",totalWt:""};c(g=>[...g,j])}function i(j,g,v){c(S=>S.map((L,q)=>q===j?{...L,[g]:v}:L))}function f(j){c(g=>g.filter((v,S)=>S!==j))}async function P(j){return await new Promise(g=>setTimeout(g,200)),null}async function N(){const j=(h.refDpiNo||"").trim();if(j)try{const g=await P(j);g&&(u(v=>({...v,...g})),c(g.parts||[]))}catch(g){console.error("fetch dpi by ref failed",g)}}function k(j){j&&j.preventDefault&&j.preventDefault();const g={...h,status:"Draft",parts:d};t&&t(g)}function x(j){j&&j.preventDefault&&j.preventDefault();const g={...h,status:"Submitted",parts:d};n&&n(g)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,role:"dialog","aria-modal":"true",children:e.jsx("div",{className:"modal-dialog modal-xl",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"DPI New"})}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:e.jsx("strong",{children:"DPI No."})}),e.jsx("input",{name:"dpiNo",className:"form-control form-control-sm",value:h.dpiNo,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CFC / PJT"}),e.jsx("input",{name:"cfcPjt",className:"form-control form-control-sm",value:h.cfcPjt,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Issued Date"}),e.jsx("input",{type:"date",name:"issuedDate",className:"form-control form-control-sm",value:h.issuedDate,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"From"}),e.jsx("input",{name:"from",className:"form-control form-control-sm",value:h.from,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier"}),e.jsx("input",{name:"supplier",className:"form-control form-control-sm",value:h.supplier,onChange:r})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:e.jsx("strong",{children:"DPI Ref No."})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{name:"refDpiNo",className:"form-control form-control-sm",value:h.refDpiNo,onChange:r,onBlur:N}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model"}),e.jsx("input",{name:"model",className:"form-control form-control-sm",value:h.model,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Effective Date"}),e.jsx("input",{type:"date",name:"effectiveDate",className:"form-control form-control-sm",value:h.effectiveDate,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"To"}),e.jsx("input",{name:"to",className:"form-control form-control-sm",value:h.to,onChange:r})]})]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-3 mb-2",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-chevron-down"})," ",e.jsx("strong",{children:"Parts"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:p,children:[e.jsx("i",{className:"fas fa-plus"})," add"]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"CPS"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Wt/pc"}),e.jsx("th",{children:"Qty/box"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-4",children:'No parts. Click "add" to insert a new part.'})}):d.map((j,g)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.cps,onChange:v=>i(g,"cps",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.partNo,onChange:v=>i(g,"partNo",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.suffix,onChange:v=>i(g,"suffix",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.name,onChange:v=>i(g,"name",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.parent,onChange:v=>i(g,"parent",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.supplierCode,onChange:v=>i(g,"supplierCode",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.supplierName,onChange:v=>i(g,"supplierName",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.L,onChange:v=>i(g,"L",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.W,onChange:v=>i(g,"W",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.H,onChange:v=>i(g,"H",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.wtPc,onChange:v=>i(g,"wtPc",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.qtyBox,onChange:v=>i(g,"qtyBox",v.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:j.totalWt,onChange:v=>i(g,"totalWt",v.target.value)})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Edit",children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>f(g),title:"Delete",children:e.jsx("i",{className:"fas fa-trash"})})]})]},g))})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{children:e.jsx("strong",{children:"Note :"})}),e.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:h.notes,onChange:j=>u(g=>({...g,notes:j.target.value}))})]})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-success mr-2",onClick:k,children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:x,children:"Submit"})]})]})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]})}function hl(s){console.log("Props received by SearchSection:",s);const{filters:a,setters:o,onSearch:t,onClear:n,onPartSearch:m,onModelSearch:h,onDpiSearch:u,onSearchDestination:d,onSearchSupplier:c}=s,{modelCfc:r,destCode:p,partNo:i,supplierCode:f,cpsNo:P,implementationPeriod:N}=a||{},{setModelCfc:k,setDestCode:x,setPartNo:j,setSupplierCode:g,setCpsNo:v,setImplementationPeriod:S}=o||{},[L,q]=l.useState(""),I=O=>{if(O.key===" "||O.key===","){O.preventDefault();const y=L.trim();y&&j(_=>[...new Set([..._,y])]),q("")}},M=O=>{j(y=>y.filter(_=>_!==O))},C=()=>{console.log("Search button clicked in SearchSection"),t?t():console.error("onSearch prop is NOT DEFINED in SearchSection. Check the parent component.")};return e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Model CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:r||"",onChange:Q(k),placeholder:"Model CFC"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Model CFC",onClick:h,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Implementation Period"}),e.jsx("div",{className:"input-group input-group-sm",children:e.jsx("input",{className:"form-control form-control-sm",value:N||"",onChange:Q(S),placeholder:"Implementation Period"})})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"4px"},children:[i&&i.map(O=>e.jsxs("span",{className:"badge badge-primary",style:{display:"flex",alignItems:"center",padding:"4px 8px"},children:[O,e.jsx("button",{type:"button",className:"close","aria-label":"Remove",onClick:()=>M(O),style:{color:"white",marginLeft:"8px",textShadow:"none",opacity:1,fontSize:"1rem"},children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},O)),e.jsx("input",{style:{border:"none",outline:"none",flex:"1",minWidth:"100px"},value:L,onChange:Q(q),onKeyDown:I,placeholder:"Type and press space"})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part No",onClick:m,children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:p||"",onChange:Q(x),placeholder:"Dest Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Dest Code",onClick:d,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"CPS No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:P||"",onChange:Q(v),placeholder:"CPS No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search CPS No",onClick:u,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:f||"",onChange:Q(g),placeholder:"Supplier Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Supplier",onClick:c,children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})}),e.jsxs("div",{className:"col-12 d-flex",children:[e.jsx("div",{className:"col-md-6"}),e.jsxs("div",{className:"col-md-6 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:C,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:n,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})]})]})})}function Ws({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx(Se.Fragment,{children:o===0?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Length"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Width"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Height"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Volume Inner"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Volume Outer"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Usage"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Source"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Usage"})]})},`matLeafHdr-${o}`))})}function $s({arr:s=[],count:a=1}){return e.jsx(e.Fragment,{children:s.map((o,t)=>e.jsx(Se.Fragment,{children:t===0?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:o.material_no||"-"}),e.jsx("td",{children:o.dimension_length||"-"}),e.jsx("td",{children:o.dimension_width||"-"}),e.jsx("td",{children:o.dimension_height||"-"}),e.jsx("td",{children:o.volume_inner||"-"}),e.jsx("td",{children:o.volume_outer||"-"}),e.jsx("td",{children:o.qty||"-"}),e.jsx("td",{children:o.source||"-"})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:o.material_no||"+"}),e.jsx("td",{children:o.qty||"+"})]})},`matLeafCell-${t}`))})}function xl({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:o===0?8:2,children:o===0?"Box":`Inner ${o}`},`innerGrp-${o}`))})}const pl=({count:s})=>e.jsx(Ws,{count:s}),jl=({data:s,count:a})=>e.jsx($s,{arr:s,count:a});function fl({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:o===0?8:2,children:o===0?"Module":`Outer ${o}`},`outerGrp-${o}`))})}const Nl=({count:s})=>e.jsx(Ws,{count:s}),bl=({data:s,count:a})=>e.jsx($s,{arr:s,count:a});function gl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("destination")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Destination"}),s.includes("model")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Model"}),s.includes("impl_period")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Impl Period"}),s.includes("cps_no")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"CPS No"})]})}function vl({mainInfo:s,checked:a}){var h,u,d,c;const{destination:o,model_name:t,impl_period:n,cps_no:m}=s||{};debugger;return e.jsxs(e.Fragment,{children:[a.includes("destination")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((d=(u=(h=s==null?void 0:s.cps)==null?void 0:h.model)==null?void 0:u.destination)==null?void 0:d.code)??"-"}),a.includes("model")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(s==null?void 0:s.model_code)??"-"}),a.includes("impl_period")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(s==null?void 0:s.implementation_period)??"-"}),a.includes("cps_no")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((c=s==null?void 0:s.cps)==null?void 0:c.cps_no)??"-"})]})}function Cl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("part_no_part")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part No "}),s.includes("part_name")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Name"}),s.includes("parent_part")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Parent Part"}),s.includes("supplier_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Code"}),s.includes("supplier_name")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Supplier Name"}),s.includes("part_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Status"}),s.includes("dtl_part_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Dtl Part Status"}),s.includes("pack_spec_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Pack Spec Status"}),s.includes("weight_pc")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Weight/Pc (Kg)"}),s.includes("qty_box")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty/Box"})]})}function yl({partInfo:s,checked:a}){var o,t;return e.jsxs(e.Fragment,{children:[a.includes("part_no_part")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.part_no??"-"}),a.includes("part_name")&&e.jsx("td",{className:"align-middle",children:s.part_name??"-"}),a.includes("parent_part")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.parent_no??"-"}),a.includes("supplier_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((o=s.supplier)==null?void 0:o.supplier_code)??"-"}),a.includes("supplier_name")&&e.jsx("td",{className:"align-middle",children:((t=s.supplier)==null?void 0:t.supplier_name)??"-"}),a.includes("part_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.part_status??"-"}),a.includes("dtl_part_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.detail_part_status??"-"}),a.includes("pack_spec_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.packing_spec_status??"-"}),a.includes("weight_pc")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.weightPerPc??"-"}),a.includes("qty_box")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.qtyPerBox??"-"})]})}function Sl({checked:s}){const a=s.includes("packing_plant_current")||s.includes("packing_plant_next"),o=[s.includes("packing_plant_current"),s.includes("packing_plant_next")].filter(Boolean).length,t=s.includes("vanning_plant_current")||s.includes("vanning_plant_next"),n=[s.includes("vanning_plant_current"),s.includes("vanning_plant_next")].filter(Boolean).length,m=s.includes("order_pattern_current")||s.includes("order_pattern_next"),h=[s.includes("order_pattern_current"),s.includes("order_pattern_next")].filter(Boolean).length,u=s.includes("katashiiki_ad")||s.includes("katashiiki_au")||s.includes("katashiiki_af")||s.includes("katashiiki_ax"),d=[s.includes("katashiiki_ad"),s.includes("katashiiki_au"),s.includes("katashiiki_af"),s.includes("katashiiki_ax")].filter(Boolean).length,c=s.includes("packing_process_boxing")||s.includes("packing_process_stacking"),r=[s.includes("packing_process_boxing"),s.includes("packing_process_stacking")].filter(Boolean).length;return e.jsxs(e.Fragment,{children:[a&&e.jsx("th",{colSpan:o,className:"align-middle border text-center tbl-row2-hdr",children:"Packing Plant"}),t&&e.jsx("th",{colSpan:n,className:"align-middle border text-center tbl-row2-hdr",children:"Vanning Plant"}),m&&e.jsx("th",{colSpan:h,className:"align-middle border text-center tbl-row2-hdr",children:"Order Pattern"}),u&&e.jsx("th",{colSpan:d,className:"align-middle border text-center tbl-row2-hdr",children:"Katashiiki"}),s.includes("importer_line_process")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Importer Line Process"}),s.includes("case_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Case code"}),s.includes("box_number")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Box Number"}),s.includes("renban")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Renban"}),s.includes("renban_eff")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Renban Eff"}),c&&e.jsx("th",{colSpan:r,className:"align-middle border text-center tbl-row2-hdr",children:"Packing Process"})]})}function wl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("packing_plant_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("packing_plant_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("vanning_plant_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("vanning_plant_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("order_pattern_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("order_pattern_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("katashiiki_ad")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AD"}),s.includes("katashiiki_au")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AU"}),s.includes("katashiiki_af")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AF"}),s.includes("katashiiki_ax")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AX"}),s.includes("packing_process_boxing")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Boxing"}),s.includes("packing_process_stacking")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Stacking"})]})}function Pl({pseInfo:s,checked:a}){const{packing_plant_curr:o,packing_plant_next:t,vanning_plant_curr:n,vanning_plant_next:m,order_pattern_curr:h,order_pattern_next:u,katashiki:d,importer_line_process:c,case_code:r,box_number:p,renban:i,renban_eff:f,packing_process_boxing:P,packing_process_stacking:N}=s||{};return e.jsxs(e.Fragment,{children:[a.includes("packing_plant_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:o??"-"}),a.includes("packing_plant_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:t??"-"}),a.includes("vanning_plant_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:n??"-"}),a.includes("vanning_plant_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:m??"-"}),a.includes("order_pattern_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:h??"-"}),a.includes("order_pattern_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:u??"-"}),a.includes("katashiiki_ad")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AD)??"-"}),a.includes("katashiiki_au")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AU)??"-"}),a.includes("katashiiki_af")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AF)??"-"}),a.includes("katashiiki_ax")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(d==null?void 0:d.AX)??"-"}),a.includes("importer_line_process")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:c??"-"}),a.includes("case_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:r??"-"}),a.includes("box_number")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:p??"-"}),a.includes("renban")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:i??"-"}),a.includes("renban_eff")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:f??"-"}),a.includes("packing_process_boxing")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:P??"-"}),a.includes("packing_process_stacking")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:N??"-"})]})}function kl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("dock_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Dock Code"}),s.includes("address")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Address"}),s.includes("process_type")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Process Type"})]})}function _l({logisticInfo:s,checked:a}){const{dock_code:o,address_rack:t,process_type:n}=s||{};return e.jsxs(e.Fragment,{children:[a.includes("dock_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:o??"-"}),a.includes("address")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:t??"-"}),a.includes("process_type")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:n??"-"})]})}const Xe={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},content:{position:"relative",background:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"80vw",maxHeight:"80vh"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},image:{maxWidth:"calc(80vw - 40px)",maxHeight:"calc(80vh - 40px)"}};function Il({imageUrl:s,isOpen:a,onClose:o}){return!a||!s?null:e.jsx("div",{style:Xe.overlay,onClick:o,children:e.jsxs("div",{style:Xe.content,onClick:t=>t.stopPropagation(),children:[e.jsx("button",{style:Xe.closeButton,onClick:o,children:"×"}),e.jsx("img",{src:s,alt:"Enlarged view",style:Xe.image})]})})}function Al({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("part_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part"}),s.includes("packing_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Packing"}),s.includes("outer_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Outer"}),s.includes("qkp_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qkp"}),s.includes("bkp_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Bkp"})]})}function Ee({files:s}){const[a,o]=l.useState(!1);if(!s||s.length===0)return"-";const t=s[0],n=()=>o(!0),m=()=>o(!1);return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t,alt:"thumbnail",style:{width:"50px",height:"auto",cursor:"pointer"},onClick:n}),e.jsx(Il,{imageUrl:t,isOpen:a,onClose:m})]})}function Ml({images:s,checked:a}){const{part:o,packing:t,outer:n,qkp:m,bkp:h}=s||{};return e.jsxs(e.Fragment,{children:[a.includes("part_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Ee,{files:o==null?void 0:o.files})}),a.includes("packing_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Ee,{files:t==null?void 0:t.files})}),a.includes("outer_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Ee,{files:n==null?void 0:n.files})}),a.includes("qkp_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Ee,{files:m==null?void 0:m.files})}),a.includes("bkp_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Ee,{files:h==null?void 0:h.files})})]})}function Dl({rows:s,visibleRows:a,page:o,perPage:t,total:n,totalPages:m,goToPage:h,setPerPage:u,checked:d}){var I,M,C,O,y;const c=((I=a[0])==null?void 0:I.cps)||{},r=((C=(M=c.packing)==null?void 0:M.inner)==null?void 0:C.length)||1,p=((y=(O=c.packing)==null?void 0:O.outer)==null?void 0:y.length)||1,f=["part_no_part","part_name","parent_part","supplier_code","supplier_name","part_status","dtl_part_status","pack_spec_status","weight_pc","qty_box"].filter(_=>d.includes(_)).length,P=f>0,k=["packing_plant_current","packing_plant_next","vanning_plant_current","vanning_plant_next","order_pattern_current","order_pattern_next","katashiiki_ad","katashiiki_au","katashiiki_af","katashiiki_ax","importer_line_process","case_code","box_number","renban","renban_eff","packing_process_boxing","packing_process_stacking"].filter(_=>d.includes(_)).length,x=k>0,g=["dock_code","address","process_type"].filter(_=>d.includes(_)).length,v=g>0,L=["part_image","packing_image","outer_image","qkp_image","bkp_image"].filter(_=>d.includes(_)).length,q=L>0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2"}),e.jsx("div",{className:"table-responsive mt-2",style:{overflowX:"auto",overflowY:"hidden"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center",style:{tableLayout:"fixed",width:"auto"},children:[e.jsxs("thead",{style:{fontSize:"8pt"},children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"No"}),e.jsx(gl,{checked:d}),P&&e.jsx("th",{colSpan:f,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Part Information"}),x&&e.jsx("th",{colSpan:k,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"PSE Information"}),v&&e.jsx("th",{colSpan:g,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Logistic Information"}),q&&e.jsx("th",{colSpan:L,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Images"}),e.jsx("th",{colSpan:r>0?r*2+6:0,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inner Materials"}),e.jsx("th",{colSpan:p>0?p*2+6:0,className:"align-middle border text-center tbl-row1-hdr text-nowrap\\",children:"Outer Materials"})]}),e.jsxs("tr",{children:[e.jsx(Cl,{checked:d}),e.jsx(Sl,{checked:d}),e.jsx(kl,{checked:d}),e.jsx(Al,{checked:d}),e.jsx(xl,{count:r}),e.jsx(fl,{count:p})]}),e.jsxs("tr",{children:[e.jsx(wl,{checked:d}),e.jsx(pl,{count:r}),e.jsx(Nl,{count:p})]})]}),e.jsx("tbody",{style:{fontSize:"8pt"},children:a.map((_,T)=>{var D,w;const U=_.cps||{},ee=U.pse_info||{},se=U.logistic_info||{},A=U.images||{},z=((D=U.packing)==null?void 0:D.inner)||[],E=((w=U.packing)==null?void 0:w.outer)||[];return U.labor,U.inland,e.jsxs("tr",{children:[e.jsx("td",{children:(o-1)*t+T+1}),e.jsx(vl,{mainInfo:_,checked:d}),e.jsx(yl,{partInfo:U,checked:d}),e.jsx(Pl,{pseInfo:ee,checked:d}),e.jsx(_l,{logisticInfo:se,checked:d}),e.jsx(Ml,{images:A,checked:d}),e.jsx(jl,{data:z,count:r}),e.jsx(bl,{data:E,count:p})]},T)})})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>h(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>h(Math.max(1,o-1)),children:"<"}),[...Array(m).keys()].map(_=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${o===_+1?"btn-primary":"btn-light"}`,onClick:()=>h(_+1),children:_+1},_)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>h(Math.min(m,o+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",n]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[t," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(10),h(1)},children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(25),h(1)},children:"25"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(50),h(1)},children:"50"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})}function Ll({onViewDpi:s,onUpload:a,onTemplate:o,onCreateDpi:t,onCreatePci:n,onToggleColumnSelector:m,viewDpiDisabled:h}){return e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:s,title:"View DPI",disabled:h,children:[e.jsx("i",{className:"fas fa-eye"})," View DPI"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:m,title:"Select Columns",children:e.jsx("i",{className:"fas fa-cog"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:a,title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-2",onClick:o,title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})}const ke=[{value:"main_info",label:"Main Info",children:[{value:"destination",label:"Destination"},{value:"model",label:"Model"},{value:"impl_period",label:"Implementation Period"},{value:"cps_no",label:"CPS No"}]},{value:"part_info",label:"Part Info",children:[{value:"part_no_part",label:"Part No"},{value:"part_name",label:"Part Name"},{value:"parent_part",label:"Parent Part"},{value:"supplier_code",label:"Supplier Code"},{value:"supplier_name",label:"Supplier Name"},{value:"part_status",label:"Part Status"},{value:"dtl_part_status",label:"Dtl Part Status"},{value:"pack_spec_status",label:"Pack Spec Status"},{value:"weight_pc",label:"Weight/Pc"},{value:"qty_box",label:"Qty/Box"}]},{value:"pse_info",label:"PSE Info",children:[{value:"packing_plant",label:"Packing Plant",children:[{value:"packing_plant_current",label:"Current"},{value:"packing_plant_next",label:"Next"}]},{value:"vanning_plant",label:"Vanning Plant",children:[{value:"vanning_plant_current",label:"Current"},{value:"vanning_plant_next",label:"Next"}]},{value:"order_pattern",label:"Order Pattern",children:[{value:"order_pattern_current",label:"Current"},{value:"order_pattern_next",label:"Next"}]},{value:"katashiiki",label:"Katashiiki",children:[{value:"katashiiki_ad",label:"AD"},{value:"katashiiki_au",label:"AU"},{value:"katashiiki_af",label:"AF"},{value:"katashiiki_ax",label:"AX"}]},{value:"importer_line_process",label:"Importer Line Process"},{value:"case_code",label:"Case Code"},{value:"box_number",label:"Box Number"},{value:"renban",label:"Renban"},{value:"renban_eff",label:"Renban Eff"},{value:"packing_process",label:"Packing Process",children:[{value:"packing_process_boxing",label:"Boxing"},{value:"packing_process_stacking",label:"Stacking"}]}]},{value:"logistic_info",label:"Logistic Info",children:[{value:"dock_code",label:"Dock Code"},{value:"address",label:"Address"},{value:"process_type",label:"Process Type"}]},{value:"images",label:"Images",children:[{value:"part_image",label:"Part"},{value:"packing_image",label:"Packing"},{value:"outer_image",label:"Outer"},{value:"qkp_image",label:"QKP"},{value:"bkp_image",label:"BKP"}]},{value:"inner_materials",label:"Inner Materials",children:[{value:"box",label:"Box",children:[{value:"box_mat_no",label:"Mat No"},{value:"box_length",label:"Length"},{value:"box_width",label:"Width"},{value:"box_height",label:"Height"},{value:"box_volume_inner",label:"Volume Inner"},{value:"box_volume_outer",label:"Volume Outer"},{value:"box_usage",label:"Usage"},{value:"box_source",label:"Source"}]},...[...Array(9).keys()].map(s=>({value:`outer_${s+1}`,label:`Outer ${s+1}`,children:[{value:`outer_${s+1}_mat_no`,label:"Mat No"},{value:`outer_${s+1}_usage`,label:"Usage"}]}))]},{value:"outer_materials",label:"Outer Materials",children:[{value:"module",label:"Module",children:[{value:"module_mat_no",label:"Mat No"},{value:"module_length",label:"Length"},{value:"module_width",label:"Width"},{value:"module_height",label:"Height"},{value:"module_volume_inner",label:"Volume Inner"},{value:"module_usage",label:"Usage"}]}]}],Tl=({isOpen:s,toggle:a,checked:o,onCheckedChange:t})=>{const[n,m]=l.useState([]);l.useEffect(()=>{if(s){let p=[...o],i=!1;const f=P=>{P.forEach(N=>{N.children&&(N.children.every(x=>p.includes(x.value))&&!p.includes(N.value)&&(p.push(N.value),i=!0),f(N.children))})};f(ke),i&&t([...new Set(p)])}},[s,o,t]);const h=(p,i=[])=>(p.children&&p.children.forEach(f=>{i.push(f.value),h(f,i)}),i),u=(p,i)=>{var f;for(const P of i){if((f=P.children)!=null&&f.some(N=>N.value===p))return P;if(P.children){const N=u(p,P.children);if(N)return N}}return null},d=p=>{let i=[...o];const f=i.includes(p.value),P=h(p);if(f){i=i.filter(k=>k!==p.value&&!P.includes(k));let N=u(p.value,ke);for(;N;)i=i.filter(k=>k!==N.value),N=u(N.value,ke)}else{i.push(p.value),p.children&&i.push(...P);let N=u(p.value,ke);for(;N;)N.children.every(x=>i.includes(x.value))&&(i.includes(N.value)||i.push(N.value)),N=u(N.value,ke)}t([...new Set(i)])},c=p=>{m(i=>i.includes(p)?i.filter(f=>f!==p):[...i,p])},r=(p,i=0)=>p.map(f=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",paddingLeft:`${i*20}px`},children:[f.children&&e.jsx("span",{style:{cursor:"pointer",marginRight:"5px"},onClick:()=>c(f.value),children:n.includes(f.value)?"−":"+"}),e.jsx(Ct,{check:!0,style:{margin:0,marginLeft:f.children?"0":"20px"},children:e.jsxs(yt,{check:!0,children:[e.jsx(St,{type:"checkbox",checked:o.includes(f.value),onChange:()=>d(f)})," ",i===0?e.jsx("strong",{children:f.label}):f.label]})})]}),f.children&&n.includes(f.value)&&e.jsx("div",{children:r(f.children,i+1)})]},f.value));return e.jsxs(Nt,{isOpen:s,toggle:a,zIndex:9999,size:"lg",children:[e.jsx(bt,{toggle:a,children:"Column Selection"}),e.jsx(gt,{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:r(ke.slice(0,3))}),e.jsx("div",{className:"col-md-4",children:r(ke.slice(3,5))}),e.jsx("div",{className:"col-md-4",children:r(ke.slice(5))})]})}),e.jsxs(vt,{children:[e.jsx(Ps,{color:"primary",onClick:a,children:"Apply"}),e.jsx(Ps,{color:"secondary",onClick:a,children:"Cancel"})]})]})};function us({show:s=!1,onClose:a,onSelect:o,zIndex:t=4e3,mode:n="single"}){const[m,h]=l.useState([]),[u,d]=l.useState(""),[c,r]=l.useState(""),[p,i]=l.useState({code:"",name:""}),[f,P]=l.useState(!1),[N,k]=l.useState(null),[x,j]=l.useState(1),[g,v]=l.useState(10);if(l.useEffect(()=>{fetch("/suppliers.json").then(A=>A.json()).then(A=>h(A)).catch(A=>console.error("Failed to load suppliers:",A))},[]),l.useEffect(()=>(s?(d(""),r(""),i({code:"",name:""}),P(!1),k(null),j(1),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),!s)return null;function S(){j(1),P(!0),i({code:u,name:c})}function L(){j(1),d(""),r(""),i({code:"",name:""}),P(!1)}function q(){if(!f)return[];const A=p.code.trim().toLowerCase(),z=p.name.trim().toLowerCase();return m.filter(E=>!(A&&!E.code.toLowerCase().includes(A)||z&&!E.name.toLowerCase().includes(z)))}const I=q(),M=I.length,C=Math.max(1,Math.ceil(M/g)),O=I.slice((x-1)*g,x*g);function y(A){k(n==="multi"?z=>({...z,[A]:!z[A]}):A)}function _(){if(N!==null){const A=I[N];o&&o(A),a&&a()}else a&&a()}function T(A){j(Math.min(Math.max(1,A),C))}const U={flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},ee={position:"sticky",top:0,zIndex:5,background:"white",padding:"1rem 1rem 0.5rem 1rem",borderBottom:"1px solid #e9ecef"},se={overflow:"auto",padding:"0 1rem 1rem 1rem"};return e.jsx("div",{className:"supplier-picker-modal-backdrop",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:t,display:"flex",alignItems:"center",justifyContent:"center"},onMouseDown:A=>{A.target===A.currentTarget&&a()},children:e.jsxs("div",{className:"supplier-picker-modal",style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.2)",zIndex:t+1,width:"100%",maxWidth:800,minHeight:400,display:"flex",flexDirection:"column",height:"min(90vh, 700px)"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"Select Supplier"})}),e.jsx("button",{type:"button",className:"close",onClick:a,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:U,children:[e.jsxs("div",{style:ee,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsx("input",{value:u,onChange:Q(d),className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{value:c,onChange:Q(r),className:"form-control form-control-sm"})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"col-12 text-right mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:S,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:L,children:[e.jsx("i",{className:"fas fa-eraser mr-1"})," Clear"]})]})})]}),e.jsx("div",{style:se,children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-striped table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:36}}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Address"})]})}),e.jsx("tbody",{children:O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-muted py-4",children:f?"No Data Found":"Please click Search to begin"})}):O.map((A,z)=>{const E=(x-1)*g+z;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("input",{type:"radio",name:"supplier-picker-radio",checked:N===E,onChange:()=>y(E)})}),e.jsx("td",{children:A.code}),e.jsx("td",{children:A.name}),e.jsx("td",{children:A.address})]},E)})})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>T(1),disabled:x<=1,children:"<<"}),e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>T(x-1),disabled:x<=1,children:"<"}),e.jsxs("span",{className:"mr-1",children:["Page ",x," of ",C]}),e.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>T(x+1),disabled:x>=C,children:">"}),e.jsx("button",{className:"btn btn-sm btn-light ml-1",onClick:()=>T(C),disabled:x>=C,children:">>"}),e.jsxs("span",{className:"ml-2 small text-muted",children:["Total: ",M]})]}),e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:_,disabled:N===null,children:"Add Selected"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:a,children:"Cancel"})]})]})]})})}function El(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState([]),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(!1),[P,N]=l.useState(!1),[k,x]=l.useState(!1),[j,g]=l.useState(!1),[v,S]=l.useState(!1),[L,q]=l.useState(!1),[I,M]=l.useState(!1),[C,O]=l.useState(["main_info","destination","model","impl_period","cps_no","part_info","part_no_part","part_name","parent_part","supplier_code","supplier_name","part_status","dtl_part_status","pack_spec_status","weight_pc","qty_box","pse_info","packing_plant","packing_plant_current","packing_plant_next","vanning_plant","vanning_plant_current","vanning_plant_next","order_pattern","order_pattern_current","order_pattern_next","katashiiki","katashiiki_ad","katashiiki_au","katashiiki_af","katashiiki_ax","importer_line_process","case_code","box_number","renban","renban_eff","packing_process","packing_process_boxing","packing_process_stacking","logistic_info","dock_code","address","process_type","images","part_image","packing_image","outer_image","qkp_image","bkp_image"]),[y,_]=l.useState([]),[T,U]=l.useState([]),[ee,se]=l.useState(!1),[A,z]=l.useState(10),[E,D]=l.useState(1),w=y.length,Y=Math.max(1,Math.ceil(w/A));l.useEffect(()=>{fetch("/packing-cost-fe/dpi.json").then(K=>{if(!K.ok)throw new Error("Network response was not ok");return K.json()}).then(K=>{const oe=[...K.dpiData||[]].sort((ae,me)=>(me.implementation_period||"").localeCompare(ae.implementation_period||""));U(oe),_([]),se(!1)}).catch(K=>{console.error("Error fetching DPI data:",K)})},[]);function J(){if(se(!0),!s&&(!n||n.length===0)&&!o&&!h&&!d&&!r){_(T),D(1);return}console.log("Filtering with modelCfc:",s);let K=[...T];debugger;if(s&&(K=K.filter(oe=>{var ae;return(ae=oe.model_cfc)==null?void 0:ae.toLowerCase().includes(s.toLowerCase())})),n&&n.length>0){const oe=n.map(ae=>ae.toLowerCase());K=K.filter(ae=>{var me,pe,he;return oe.includes((me=ae.part_no)==null?void 0:me.toLowerCase())||oe.includes((he=(pe=ae.cps)==null?void 0:pe.part_no)==null?void 0:he.toLowerCase())})}o&&(K=K.filter(oe=>{var ae,me,pe,he;return(he=(pe=(me=(ae=oe.cps)==null?void 0:ae.model)==null?void 0:me.destination)==null?void 0:pe.code)==null?void 0:he.toLowerCase().includes(o.toLowerCase())})),h&&(K=K.filter(oe=>{var ae,me,pe;return(pe=(me=(ae=oe.cps)==null?void 0:ae.supplier)==null?void 0:me.supplier_code)==null?void 0:pe.toLowerCase().includes(h.toLowerCase())})),d&&(K=K.filter(oe=>{var ae,me;return(me=(ae=oe.cps)==null?void 0:ae.cps_no)==null?void 0:me.toLowerCase().includes(d.toLowerCase())})),r&&(K=K.filter(oe=>{var ae;return(ae=oe.implementation_period)==null?void 0:ae.toLowerCase().includes(r.toLowerCase())}));const le=K.sort((oe,ae)=>(ae.implementation_period||"").localeCompare(oe.implementation_period||""));_(le),D(1),se(!1)}function W(Z){Z&&Z.model_cfc&&a(Z.model_cfc),x(!1)}function H(Z){Z&&t(Z.destCode),q(!1)}function G(Z){Z&&u(Z.code),M(!1)}function B(Z){if(Z&&Z.length>0){const K=Z.map(le=>le.partNo);m(le=>[...new Set([...le,...K])])}N(!1)}function R(){a(""),t(""),m([]),u(""),c(""),p(""),_(T),D(1),se(!1)}function F(){f(!0)}function b(){alert("Create PCI - placeholder")}function V(){alert("Upload placeholder")}function $(){alert("Download template placeholder")}function X(){S(Z=>!Z)}function te(Z){O(Z)}function re(){const Z=window.open("","_blank","fullscreen=yes");Z.document.write("<html><head><title>DPI View</title>"),Z.document.write('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />'),Z.document.write('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">'),Z.document.write("</head><body>"),Z.document.write('<button id="download-pdf">Download PDF</button>'),Z.document.write('<button id="download-csv">Download CSV</button>'),Z.document.write('<div id="dpi-content" class="card card-outline card-primary"></div>'),Z.document.write("</body></html>"),Z.document.close();const K=document.getElementById("result-section").innerHTML,le=Z.document.getElementById("dpi-content");le&&(le.innerHTML=K),Z.document.getElementById("download-pdf").addEventListener("click",()=>Z.print()),Z.document.getElementById("download-csv").addEventListener("click",()=>{const oe=le.querySelector("table");let ae=[];for(const ss of oe.rows){const De=[];for(const Ue of ss.cells)De.push(Ue.innerText);ae.push(De.join(","))}const me="data:text/csv;charset=utf-8,"+ae.join("\\n"),pe=encodeURI(me),he=document.createElement("a");he.setAttribute("href",pe),he.setAttribute("download","dpi_data.csv"),document.body.appendChild(he),he.click(),document.body.removeChild(he)})}function de(Z){const K=Math.min(Math.max(1,Z),Y);D(K)}const xe=y.slice((E-1)*A,E*A);function be(Z){const K={dpiNo:Z.dpiNo||"",refDpiNo:Z.refDpiNo||"",issuedDate:Z.issuedDate||"",effectiveDate:Z.effectiveDate||"",cfcPjt:Z.cfcPjt||"",model:Z.model||"",parts:Z.parts||[],numCps:Z.numCps||0,supplier:Z.supplier||"",fromUser:Z.from||"",toUser:Z.to||"",status:"Draft",raw:Z};_(le=>[K,...le]),f(!1),D(1)}function ge(Z){const K={dpiNo:Z.dpiNo||"",refDpiNo:Z.refDpiNo||"",issuedDate:Z.issuedDate||"",effectiveDate:Z.effectiveDate||"",cfcPjt:Z.cfcPjt||"",model:Z.model||"",parts:Z.parts||[],numCps:Z.numCps||0,supplier:Z.supplier||"",fromUser:Z.from||"",toUser:Z.to||"",status:"Submitted",raw:Z};_(le=>[K,...le]),f(!1),D(1)}const we={modelCfc:s,destCode:o,partNo:n,supplierCode:h,cpsNo:d,implementationPeriod:r},ve={setModelCfc:a,setDestCode:t,setPartNo:m,setSupplierCode:u,setCpsNo:c,setImplementationPeriod:p};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"DPI List"})}),e.jsx(Ll,{onViewDpi:re,onUpload:V,onTemplate:$,onCreateDpi:F,onCreatePci:b,onToggleColumnSelector:X,viewDpiDisabled:y.length===0})]}),e.jsx(hl,{filters:we,setters:ve,onSearch:J,onClear:R,onPartSearch:()=>N(!0),onModelSearch:()=>x(!0),onDpiSearch:()=>g(!0),onSearchDestination:()=>q(!0),onSearchSupplier:()=>M(!0)}),e.jsx("div",{id:"result-section",children:e.jsx(Dl,{rows:y,visibleRows:xe,page:E,perPage:A,total:w,totalPages:Y,goToPage:de,setPerPage:z,checked:C,hasSearched:ee})})]}),e.jsx(ul,{show:i,onClose:()=>f(!1),onSave:be,onSubmit:ge}),e.jsx(Me,{show:P,onClose:()=>N(!1),onSelect:B,mode:"multi"}),e.jsx(Be,{show:k,onClose:()=>x(!1),onAdd:W,selectionMode:"single"}),e.jsx(ms,{show:L,onClose:()=>q(!1),onAdd:H,selectionMode:"single"}),e.jsx(us,{show:I,onClose:()=>M(!1),onSelect:G,mode:"single"}),e.jsx(Tl,{isOpen:v,toggle:X,checked:C,onCheckedChange:te})]})}function Rl({form:s,change:a,setShowPartPicker:o,setShowModelPicker:t,handleCalculate:n,handleClear:m,onModelRemove:h,onPartRemove:u,onModelCfcKeyDown:d,onPartKeyDown:c}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:[s.modelCfc.map(r=>e.jsxs("span",{className:"badge badge-pill badge-info",style:{display:"flex",alignItems:"center"},children:[r,e.jsx("button",{type:"button",className:"close","aria-label":"Close",style:{color:"white",marginLeft:"5px",textShadow:"none",opacity:.7,fontSize:"1.2em",lineHeight:"0.8"},onClick:()=>h(r),children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},r)),e.jsx("input",{type:"text",name:"modelCfcInput",value:s.modelCfcInput,onChange:a,onKeyDown:d,style:{border:"none",outline:"none",flexGrow:1,padding:0,margin:0,height:"20px"}})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Model CFC",onClick:()=>t(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Implementation Period"}),e.jsxs("select",{className:"form-control form-control-sm",name:"period",value:s.period,onChange:a,children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"01.2025"}),e.jsx("option",{children:"02.2025"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dest Code"}),e.jsxs("select",{className:"form-control form-control-sm",name:"destCode",value:s.destCode,onChange:a,children:[e.jsx("option",{children:"All"}),e.jsx("option",{value:"TASA",children:"TASA - Argentina"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Part"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:[Array.isArray(s.part)&&s.part.map(r=>e.jsxs("span",{className:"badge badge-pill badge-info",style:{display:"flex",alignItems:"center"},children:[r,e.jsx("button",{type:"button",className:"close","aria-label":"Close",style:{color:"white",marginLeft:"5px",textShadow:"none",opacity:.7,fontSize:"1.2em",lineHeight:"0.8"},onClick:()=>u(r),children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},r)),e.jsx("input",{type:"text",name:"partInput",value:s.partInput,onChange:a,onKeyDown:c,style:{border:"none",outline:"none",flexGrow:1,padding:0,margin:0,height:"20px"}})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part",onClick:()=>o(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})]}),e.jsxs("div",{className:"d-flex justify-content-end my-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:n,children:[e.jsx("i",{className:"fas fa-calculator mr-1"})," Calculate"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:m,children:[e.jsx("i",{className:"fas fa-eraser mr-1"})," Clear"]})]})]})}function Ol({count:s=10}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((a,o)=>e.jsxs(Se.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Part No"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Qty"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Price"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Sum"})]},`mat-leaf-hdr-${o}`))})}function Fl({arr:s=[],count:a=10}){const o=[];for(let t=0;t<a;t++){const n=s[t];o.push(e.jsxs(Se.Fragment,{children:[e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.materialNo)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.qty)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.price)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.sum)??"-"})]},`mat-leaf-cell-${t}`))}return e.jsx(e.Fragment,{children:o})}const qs=({part:s})=>{var d,c,r,p,i,f,P;const[a,o]=l.useState({inner:!0,outer:!0,labor:!0,inland:!0}),t=N=>{o(k=>({...k,[N]:!k[N]}))};if(!s)return null;const n=N=>{if(N==null||N==="")return"";const k=Number(N);return isNaN(k)?String(N):k.toFixed(2)},m=(N,k)=>{const x=k.toLowerCase(),j=a[x],g=10,v=[];for(let S=1;S<=g;S++)v.push(e.jsxs("th",{colSpan:"4",children:["Material ",S]},`material-header-${k}-${S}`));return e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t(x),children:[e.jsx("i",{className:`fas ${j?"fa-chevron-down":"fa-chevron-right"} mr-2`}),k.toUpperCase()]}),j&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"2000px"},children:[e.jsxs("thead",{style:{backgroundColor:"#e9ecef"},children:[e.jsx("tr",{children:v}),e.jsx("tr",{children:e.jsx(Ol,{count:g})})]}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx(Fl,{arr:N,count:g})})})]})})]})},h=(N,k)=>{const x=a.labor;return!N||!k?null:e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t("labor"),children:[e.jsx("i",{className:`fas ${x?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"LABOR"]}),x&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"1500px"},children:[e.jsx("thead",{style:{backgroundColor:"#e9ecef"},children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receiving"}),e.jsx("th",{children:"Inspection"}),e.jsx("th",{children:"Delivery Course (Pallet)"}),e.jsx("th",{children:"Supply"}),e.jsx("th",{children:"Binding"}),e.jsx("th",{children:"Sorting & Supply"}),e.jsx("th",{children:"Pick & Packing"}),e.jsx("th",{children:"Vanning"}),e.jsx("th",{children:"Box/Valet Return"}),e.jsx("th",{children:"Mix Van"}),e.jsx("th",{children:"Lashing"}),e.jsx("th",{children:"Total Time"}),e.jsx("th",{children:"Requirement"}),e.jsx("th",{children:"Current DL"}),e.jsx("th",{children:"IDL"}),e.jsx("th",{children:"Facility Others"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:n(N.receiving)}),e.jsx("td",{children:n(N.inspection)}),e.jsx("td",{children:n(N.deliveryCourse)}),e.jsx("td",{children:n(N.supply)}),e.jsx("td",{children:n(N.binding)}),e.jsx("td",{children:n(N.sortingSupply)}),e.jsx("td",{children:n(N.pickPacking)}),e.jsx("td",{children:n(N.vanning)}),e.jsx("td",{children:n(N.boxValetReturn)}),e.jsx("td",{children:n(N.mixVan)}),e.jsx("td",{children:n(N.lashing)}),e.jsx("td",{children:n(N.totalTime)}),e.jsx("td",{children:n(N.requirement)}),e.jsx("td",{children:n(N.currentDL)}),e.jsx("td",{children:n(k.idl)}),e.jsx("td",{children:n(k.facility)})]})})]})})]})},u=N=>{const k=a.inland;return N?e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t("inland"),children:[e.jsx("i",{className:`fas ${k?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"INLAND"]}),k&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"800px"},children:[e.jsx("thead",{style:{backgroundColor:"#e9ecef"},children:e.jsxs("tr",{children:[e.jsx("th",{children:"Pack Time (V-PASS)"}),e.jsx("th",{children:"Inland Cost"}),e.jsx("th",{children:"Inland Cost M3"}),e.jsx("th",{children:"Diff"}),e.jsx("th",{children:"Milkrun cost"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:N.packing_time||"-"}),e.jsx("td",{children:n(N.inland_cost)||"-"}),e.jsx("td",{children:n(N.inlandCostM3)||"-"}),e.jsx("td",{children:N.diff||"-"}),e.jsx("td",{children:n(N.milkrun_cost)||"-"})]})})]})})]}):null};return e.jsx("td",{colSpan:"32",children:e.jsxs("div",{className:"p-2",children:[m((c=(d=s.cps)==null?void 0:d.packing)==null?void 0:c.inner,"Inner"),m((p=(r=s.cps)==null?void 0:r.packing)==null?void 0:p.outer,"Outer"),h((i=s.cps)==null?void 0:i.manhour,(f=s.cps)==null?void 0:f.labor),u((P=s.cps)==null?void 0:P.inland)]})})},ue=s=>{if(s==null||s==="")return"";const a=Number(s);return isNaN(a)?String(s):a.toFixed(2)};function Bl({visibleParts:s,selectedRows:a,handleCheckboxChange:o,page:t,perPage:n,remarks:m,handleRemarkChange:h,expandedRows:u,handleToggleExpand:d,threshold_percentage:c=5}){return e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm text-center w-100",style:{fontSize:"8pt"},children:[e.jsxs("thead",{children:[e.jsxs("tr",{style:{backgroundColor:"#f7fbff"},children:[e.jsx("th",{rowSpan:2,style:{width:40},children:e.jsx("input",{type:"checkbox",checked:s.length>0&&s.every((r,p)=>a[(t-1)*n+p]),onChange:r=>{const p=r.target.checked,i={...a};s.forEach((f,P)=>{i[(t-1)*n+P]=p}),o(i)}})}),e.jsx("th",{rowSpan:2,style:{width:40}}),e.jsx("th",{rowSpan:2,style:{width:40},children:"No"}),e.jsx("th",{rowSpan:2,children:"Model CFC"}),e.jsx("th",{rowSpan:2,children:"Dest Code"}),e.jsx("th",{rowSpan:2,children:"Implementation Period"}),e.jsx("th",{rowSpan:2,children:"Part No"}),e.jsx("th",{rowSpan:2,children:"Suffix"}),e.jsx("th",{rowSpan:2,children:"Part Name"}),e.jsx("th",{rowSpan:2,children:"Parent Part No"}),e.jsx("th",{rowSpan:2,children:"Supplier Code"}),e.jsx("th",{rowSpan:2,children:"Supplier Name"}),e.jsx("th",{rowSpan:2,children:"L"}),e.jsx("th",{rowSpan:2,children:"W"}),e.jsx("th",{rowSpan:2,children:"H"}),e.jsx("th",{rowSpan:2,children:"Box M3"}),e.jsx("th",{colSpan:3,children:"INNER"}),e.jsx("th",{colSpan:3,children:"OUTER"}),e.jsx("th",{colSpan:3,children:"MATERIAL"}),e.jsx("th",{colSpan:3,children:"LABOR"}),e.jsx("th",{colSpan:3,children:"INLAND"}),e.jsx("th",{colSpan:3,children:"TOTAL"}),e.jsx("th",{rowSpan:2,children:"Remark"})]}),e.jsx("tr",{style:{backgroundColor:"#dee2e6"},children:[...Array(6)].map((r,p)=>e.jsxs(Se.Fragment,{children:[e.jsx("th",{children:"Prev"}),e.jsx("th",{children:"Current"}),e.jsx("th",{children:"Diff"})]},p))})]}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:35,className:"text-center py-4 text-muted",children:"No Data Found"})}):s.map((r,p)=>{var k,x,j,g,v,S,L,q,I,M,C,O,y,_,T,U,ee,se,A,z,E,D,w,Y,J,W,H,G,B,R,F,b,V,$,X,te,re,de,xe,be,ge,we;debugger;if(!r)return null;const i=(t-1)*n+p,f=u&&u[i];Number(((x=(k=r.subtotals)==null?void 0:k.total)==null?void 0:x.total)??0),Number(((g=(j=r.subtotals)==null?void 0:j.total)==null?void 0:g.prev_year)??0);const P=Number(((S=(v=r.subtotals)==null?void 0:v.total)==null?void 0:S.diff)??0),N=P>c;debugger;return e.jsxs(Se.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:!!(a&&a[i]),onChange:ve=>{const Z={...a,[i]:ve.target.checked};o(Z)}})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-xs btn-link",onClick:()=>d(i),children:e.jsx("i",{className:`fas ${f?"fa-chevron-up":"fa-chevron-down"}`})})}),e.jsx("td",{children:i+1}),e.jsx("td",{children:r.model_cfc}),e.jsx("td",{children:r.destination}),e.jsx("td",{children:r.implementation_period}),e.jsx("td",{children:r.partNo}),e.jsx("td",{children:r.suffix}),e.jsx("td",{children:r.partName}),e.jsx("td",{children:r.parentPartNo}),e.jsx("td",{children:r.supplierCode}),e.jsx("td",{children:r.supplierName}),e.jsx("td",{children:ue(r.L)}),e.jsx("td",{children:ue(r.W)}),e.jsx("td",{children:ue(r.H)}),e.jsx("td",{children:ue(r.boxM3)}),e.jsx("td",{children:ue((q=(L=r.subtotals)==null?void 0:L.inner)==null?void 0:q.prev_year)}),e.jsx("td",{children:ue((M=(I=r.subtotals)==null?void 0:I.inner)==null?void 0:M.total)}),e.jsx("td",{children:ue((O=(C=r.subtotals)==null?void 0:C.inner)==null?void 0:O.diff)}),e.jsx("td",{children:ue((_=(y=r.subtotals)==null?void 0:y.outer)==null?void 0:_.prev_year)}),e.jsx("td",{children:ue((U=(T=r.subtotals)==null?void 0:T.outer)==null?void 0:U.total)}),e.jsx("td",{children:ue((se=(ee=r.subtotals)==null?void 0:ee.outer)==null?void 0:se.diff)}),e.jsx("td",{children:ue((z=(A=r.subtotals)==null?void 0:A.material)==null?void 0:z.prev_year)}),e.jsx("td",{children:ue((D=(E=r.subtotals)==null?void 0:E.material)==null?void 0:D.total)}),e.jsx("td",{children:ue((Y=(w=r.subtotals)==null?void 0:w.material)==null?void 0:Y.diff)}),e.jsx("td",{children:ue((W=(J=r.subtotals)==null?void 0:J.labor)==null?void 0:W.prev_year)}),e.jsx("td",{children:ue((G=(H=r.subtotals)==null?void 0:H.labor)==null?void 0:G.total)}),e.jsx("td",{children:ue((R=(B=r.subtotals)==null?void 0:B.labor)==null?void 0:R.diff)}),e.jsx("td",{children:ue((b=(F=r.subtotals)==null?void 0:F.inland)==null?void 0:b.prev_year)}),e.jsx("td",{children:ue(($=(V=r.subtotals)==null?void 0:V.inland)==null?void 0:$.total)}),e.jsx("td",{children:ue((te=(X=r.subtotals)==null?void 0:X.inland)==null?void 0:te.diff)}),e.jsx("td",{children:ue((de=(re=r.subtotals)==null?void 0:re.total)==null?void 0:de.prev_year)}),e.jsx("td",{children:ue((be=(xe=r.subtotals)==null?void 0:xe.total)==null?void 0:be.total)}),e.jsx("td",{style:{color:P>c?"red":void 0,fontWeight:P>c?"bold":void 0},children:ue((we=(ge=r.subtotals)==null?void 0:ge.total)==null?void 0:we.diff)}),e.jsx("td",{children:N?e.jsx("textarea",{className:"form-control form-control-sm",style:{minWidth:220,width:"100%"},value:m&&m[i]||"",onChange:ve=>h(i,ve.target.value),placeholder:"Enter remark",rows:3}):null})]}),f&&e.jsx("tr",{className:"expandable-row",children:e.jsx(qs,{part:r})})]},i)})})]})})}function Ul({page:s,totalPages:a,goToPage:o,perPage:t}){return e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>o(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>o(Math.max(1,s-1)),children:"<"}),[...Array(a).keys()].map(n=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${s===n+1?"btn-primary":"btn-light"}`,onClick:()=>o(n+1),children:n+1},n)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>o(Math.min(a,s+1)),children:">"})]}),e.jsx("div",{className:"form-inline small",children:e.jsxs("span",{className:"mr-3",children:[t," per page"]})})]})}const is={part:[],partInput:"",period:"All",destCode:"All",modelCfc:[],modelCfcInput:"",type:"PxP"};function Hl({show:s=!1,onClose:a,onSave:o}){const[t,n]=l.useState(is),[m,h]=l.useState([]),[u,d]=l.useState([]),[c,r]=l.useState(5),[p,i]=l.useState(1),[f,P]=l.useState(!1),[N,k]=l.useState(!1),[x,j]=l.useState({}),[g,v]=l.useState({}),[S,L]=l.useState({}),[q,I]=l.useState([]);if(l.useEffect(()=>(s?(n(is),h([]),d([]),i(1),L({}),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),l.useEffect(()=>{fetch("/packing-cost-fe/generatedData.json").then(B=>B.json()).then(B=>{I(B.cpsData)}).catch(B=>console.error("Error loading generated data:",B))},[]),!s)return null;function M(G){const{name:B,value:R}=G.target;n(F=>({...F,[B]:R}))}function C(G){if(G.key===" "&&t.modelCfcInput.trim()){G.preventDefault();const B=t.modelCfcInput.trim();n(R=>R.modelCfc.includes(B)?{...R,modelCfcInput:""}:{...R,modelCfc:[...R.modelCfc,B],modelCfcInput:""})}}function O(G){if(G.key===" "&&t.partInput.trim()){G.preventDefault();const B=t.partInput.trim();n(R=>R.part.includes(B)?{...R,partInput:""}:{...R,part:[...R.part,B],partInput:""}),d(R=>R.some(b=>b.partNo===B)?R:[...R,{partNo:B}])}}const y=()=>{if(!q||!q.length){console.error("CPS data is not loaded yet.");return}let G=q;t.modelCfc.length>0&&(G=G.filter(R=>R.model_cfc&&t.modelCfc.includes(R.model_cfc)));let B=[];u.length>0?B=u.flatMap(R=>{const F=G.filter(b=>b&&b.part_no===R.partNo);return F.length===0?[{partNo:R.partNo,description:"NOT FOUND",calculationTime:new Date().toISOString()}]:F.map(b=>{var V,$;return{partNo:R.partNo,description:((V=b.part)==null?void 0:V.description)||"NOT FOUND",partName:b.partName,supplierName:b.supplierName,supplierCode:b.supplierCcode,destination:b.model?`${b.model.destinationCode} - ${b.model.destinationName}`:"N/A",model:($=b.model)==null?void 0:$.name,parentNo:b.parentNo,cpsNo:b.cpsNo,calculationTime:new Date().toISOString(),subtotals:b.subtotals,total:b.total,cps:b.cps}})}):t.modelCfc.length>0&&(B=G.map(R=>{var F,b;return{partNo:R.part_no,description:((F=R.part)==null?void 0:F.description)||"NOT FOUND",partName:R.partName,supplierName:R.supplierName,supplierCode:R.supplierCcode,destination:R.model?`${R.model.destinationCode} - ${R.model.destinationName}`:"N/A",model:(b=R.model)==null?void 0:b.name,parentNo:R.parentNo,cpsNo:R.cpsNo,calculationTime:new Date().toISOString(),subtotals:R.subtotals,total:R.total,cps:R.cps}})),h(B)};function _(){n(is),h([]),d([])}function T(G){if(Array.isArray(G)&&G.length>0){const B=G.map(R=>R.cfc);n(R=>{const F=R.modelCfc||[],b=B.filter(V=>!F.includes(V));return{...R,modelCfc:[...F,...b],modelCfcInput:""}})}k(!1)}function U(G){n(B=>({...B,modelCfc:B.modelCfc.filter(R=>R!==G)}))}function ee(){const G={...t,parts:m};o&&o(G)}function se(){a&&a()}function A(G){if(!Array.isArray(G)||G.length===0){P(!1);return}const B=G.map(F=>({partNo:F.partNo,suffix:"",partName:F.partName,parentPartNo:F.parentPartNo||F.parent||"",supplierId:F.supplierName&&(F.supplierId||F.supplierCode)||"",supplierName:F.supplierName,L:F.L||"",W:F.W||"",H:F.H||"",boxM3:F.boxM3||"",inner:{totalCost:F.innerTotal??0,prevYear:F.prevYear??0,diff:F.diffPerc??"0%",materials:F.innerMaterials||[]},outer:{totalCost:F.outerTotal??0,prevYear:F.prevYear??0,diff:F.diffPerc??"0%",materials:F.outerMaterials||[]},material:{totalCost:F.materialTotal??0,prevYear:F.prevYear??0,diff:F.diffPerc??"0%"},labor:{totalCost:F.laborTotal??20,prevYear:F.prevYear??0,diff:F.diffPerc??"0%",manHour:F.laborManHour??1.5,cost:F.laborCost??25,receiving:.1,inspection:.2,deliveryCourse:.1,supply:.1,binding:.1,sortingSupply:.2,pickPacking:.3,vanning:.2,boxValetReturn:.1,mixVan:.1,lashing:.1,totalTime:1.5,requirement:1,currentDL:1,idl:0,facilityOthers:0},inland:{totalCost:F.inlandTotal??30,prevYear:F.prevYear??0,diff:F.diffPerc??"0%",cost:F.inlandCost??35,packTime:F.inlandPackTime??"10:00",inlandCost:F.inlandInlandCost??40,inlandCostM3:F.inlandInlandCostM3??5,milkrunCost:F.inlandMilkrunCost??15},total:{totalCost:F.totalCost??0,prevYear:F.prevYear??0,diff:F.diffPerc??"0%"}}));d(F=>{const b=F.map($=>$.partNo),V=B.filter($=>!b.includes($.partNo));return[...F,...V]});const R=B.map(F=>F.partNo);n(F=>{const b=F.part||[],V=R.filter($=>!b.includes($));return{...F,part:[...b,...V]}}),P(!1)}function z(G){n(B=>({...B,part:B.part.filter(R=>R!==G)})),d(B=>B.filter(R=>R.partNo!==G))}const E=m.length,D=Math.max(1,Math.ceil(E/c));function w(G){i(Math.min(Math.max(1,G),D))}const Y=m.slice((p-1)*c,p*c);function J(G,B){j(R=>({...R,[G]:B}))}function W(G){v(G)}function H(G){L(B=>({...B,[G]:!B[G]}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"np-modal-backdrop",onMouseDown:G=>{G.target===G.currentTarget&&se()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:"95vw",maxHeight:"90vh",width:"95vw",height:"90vh"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h5",{className:"card-title mb-0",children:e.jsx("strong",{children:"Packing Cost Calculation New"})}),e.jsx("button",{type:"button",className:"close",onClick:se,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"card-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsx(Rl,{form:t,change:M,setShowPartPicker:P,setShowModelPicker:k,handleCalculate:y,handleClear:_,onModelRemove:U,onPartRemove:z,onModelCfcKeyDown:C,onPartKeyDown:O}),e.jsx(Bl,{visibleParts:Y,selectedRows:g,handleCheckboxChange:W,page:p,perPage:c,remarks:x,handleRemarkChange:J,expandedRows:S,handleToggleExpand:H,threshold_percentage:5}),e.jsx(Ul,{page:p,totalPages:D,goToPage:w,perPage:c})]}),e.jsxs("div",{className:"card-footer d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-success mr-2",onClick:ee,children:[e.jsx("i",{className:"fas fa-download mr-1"})," Save"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:se,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]})}),f&&e.jsx(Me,{show:f,onClose:()=>P(!1),onSelect:A}),N&&e.jsx(Be,{show:N,onClose:()=>k(!1),onAdd:T,selectionMode:"multi"})]})}function Wl({calCode:s,setCalCode:a,period:o,setPeriod:t,destCode:n,setDestCode:m,modelCode:h,setModelCode:u,type:d,setType:c,handleFilter:r,handleClear:p}){return e.jsxs("div",{className:"card-body",children:[e.jsx("form",{onSubmit:r,className:"mb-3",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Pack Cost Cal Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:s,onChange:i=>a(i.target.value),placeholder:"Pack Cost Cal Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("select",{className:"form-control form-control-sm",value:n,onChange:i=>m(i.target.value),children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"024W",children:"024W"}),e.jsx("option",{value:"ARG",children:"ARG"})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Type"}),e.jsxs("div",{className:"form-control form-control-sm",style:{minHeight:44},children:[e.jsxs("div",{className:"form-check form-check-inline mr-3",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_all",value:"All",checked:d==="All",onChange:()=>c("All")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_all",children:"All"})]}),e.jsxs("div",{className:"form-check form-check-inline mr-3",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_pxp",value:"PxP",checked:d==="PxP",onChange:()=>c("PxP")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_pxp",children:"PxP"})]}),e.jsxs("div",{className:"form-check form-check-inline",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_lot",value:"Lot",checked:d==="Lot",onChange:()=>c("Lot")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_lot",children:"Lot"})]})]})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Period"}),e.jsxs("select",{className:"form-control form-control-sm",value:o,onChange:i=>t(i.target.value),children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"01.2025"}),e.jsx("option",{children:"02.2025"}),e.jsx("option",{children:"03.2025"})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Model Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:i=>u(i.target.value),placeholder:"Model Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})})]})}),e.jsxs("div",{className:"d-flex justify-content-end mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:r,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:p,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})]})}function $l({rows:s,visibleRows:a,page:o,totalPages:t,goToPage:n,perPage:m,setPerPage:h,total:u}){const[d,c]=l.useState(null),r=i=>{if(i==null||i==="")return"";const f=Number(i);return isNaN(f)?String(i):f.toFixed(2)},p=i=>{c(d===i?null:i)};return e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Pack Cost Cal Code"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Dest Country"}),e.jsx("th",{children:"Model Code"}),e.jsx("th",{children:"# Parts"}),e.jsx("th",{children:"Type"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-4 text-muted",children:"No Data Found"})}):a.map((i,f)=>{const P=(o-1)*m+f;return e.jsxs(Se.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:String(P+1).padStart(2,"0")}),e.jsx("td",{children:i.calCode}),e.jsx("td",{children:i.period}),e.jsx("td",{children:i.destCode}),e.jsx("td",{children:i.destCountry}),e.jsx("td",{children:i.modelCode}),e.jsx("td",{children:r(i.numParts)}),e.jsx("td",{children:i.type}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>p(P),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>alert("Delete placeholder"),children:e.jsx("i",{className:"fas fa-trash"})})]})]}),d===P&&e.jsx("tr",{children:e.jsx("td",{colSpan:"9",children:i.parts&&i.parts.length>0?i.parts.map((N,k)=>e.jsx(qs,{part:N},k)):e.jsx("div",{className:"p-3 text-center text-muted",children:"No part details available for this calculation."})})})]},f)})})]})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>n(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>n(Math.max(1,o-1)),children:"<"}),[...Array(t).keys()].map(i=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${o===i+1?"btn-primary":"btn-light"}`,onClick:()=>n(i+1),children:i+1},i)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>n(Math.min(t,o+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",u]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[m," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{h(3),setPage(1)},children:"3"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{h(10),setPage(1)},children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{h(25),setPage(1)},children:"25"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})}function ql(){const[s,a]=l.useState(""),[o,t]=l.useState("All"),[n,m]=l.useState("All"),[h,u]=l.useState(""),[d,c]=l.useState("All"),[r,p]=l.useState([]),[i,f]=l.useState([]),[P,N]=l.useState(3),[k,x]=l.useState(1),j=r.length,g=Math.max(1,Math.ceil(j/P)),[v,S]=l.useState(!1);l.useEffect(()=>{fetch("/packing-cost-fe/generatedData.json").then(y=>{if(!y.ok)throw new Error("Network response was not ok");return y.json()}).then(y=>{const T=(y.cpsData||[]).map(U=>({id:U.id,calCode:U.pack_cost_cal_code,period:U.implementation_period,destCode:U.destination_code,destCountry:U.destination_country,modelCode:U.model_cfc,numParts:U.parts?U.parts.length:0,type:U.type,parts:U.parts||[]}));f(T),p([])}).catch(y=>{console.error("Error fetching packing cost data:",y)})},[]);function L(O){O&&O.preventDefault&&O.preventDefault();let y=[...i];s&&(y=y.filter(_=>_.calCode.toLowerCase().includes(s.toLowerCase()))),o!=="All"&&(y=y.filter(_=>_.period===o)),n!=="All"&&(y=y.filter(_=>_.destCode===n)),h&&(y=y.filter(_=>_.modelCode.toLowerCase().includes(h.toLowerCase()))),d!=="All"&&(y=y.filter(_=>_.type===d)),p(y),x(1)}function q(){a(""),t("All"),m("All"),u(""),c("All"),p([]),x(1)}function I(O){const y=Math.min(Math.max(1,O),g);x(y)}const M=r.slice((k-1)*P,k*P);function C(O){console.log("Packing cost saved payload:",O);const y={...O,numParts:O.parts.length};p(_=>[..._,y]),S(!1)}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Packing Cost Calculation List"})}),e.jsxs("div",{className:"card-tools ml-auto d-flex align-items-center gap-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",title:"Calculate Packing Cost",onClick:()=>S(!0),children:[e.jsx("i",{className:"fas fa-calculator mr-1"})," Calculate Packing Cost"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(Wl,{calCode:s,setCalCode:a,period:o,setPeriod:t,destCode:n,setDestCode:m,modelCode:h,setModelCode:u,type:d,setType:c,handleFilter:L,handleClear:q}),e.jsx($l,{rows:r,visibleRows:M,page:k,totalPages:g,goToPage:I,perPage:P,setPerPage:N,total:j})]}),e.jsx(Hl,{show:v,onClose:()=>S(!1),onSave:C})]})}function Re({title:s,value1:a,value2:o,diff:t,children:n}){const[m,h]=l.useState(!0),u=s.match(/^(.*?)\s*(\([^)]*\))?$/),d=u?u[1].trim():s,c=u&&u[2]?u[2]:"",r=i=>{if(i==null||i==="")return!1;if(typeof i=="number")return!0;let f=String(i).trim();return f.endsWith("%")&&(f=f.slice(0,-1)),f=f.replace(/[^0-9.\-]/g,""),f===""||f==="-"||f==="."||f==="-."?!1:/^-?\d+(\.\d+)?$/.test(f)},p=i=>({textAlign:r(i)?"right":"left",whiteSpace:"nowrap"});return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{style:{backgroundColor:"#f9f9f9",cursor:"pointer"},onClick:()=>h(!m),children:[e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{marginRight:6},children:m?"▼":"▶"}),e.jsx("span",{children:e.jsx("strong",{children:d})})]}),c&&e.jsx("span",{children:c})]})}),e.jsx("td",{style:p(a),children:a}),e.jsx("td",{style:p(o),children:o}),e.jsx("td",{style:p(t),children:t})]}),m&&n]})}const ie=s=>{if(s==null||s==="")return"";const a=Number(s);return isNaN(a)?String(s):a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},es=s=>`Rp ${Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,ye=(s,a)=>{if(s==null||a==null)return"";const o=Number(s),t=Number(a);return isNaN(o)||isNaN(t)||o===0?"":`${((t-o)/o*100).toFixed(2)}%`},ce={textAlign:"right",whiteSpace:"nowrap"};function Kl(){const[s,a]=l.useState(0),[o,t]=l.useState(1),[n,m]=l.useState("2025"),[h,u]=l.useState("2026"),[d,c]=l.useState([]),[r,p]=l.useState([]);if(l.useEffect(()=>{const I="/packing-cost-fe/comparison.json",M="/packing-cost-fe/cpsComparison.json";fetch(I).then(C=>C.json()).then(C=>c(C)),fetch(M).then(C=>C.json()).then(C=>p(C))},[]),d.length===0)return e.jsx("div",{children:"Loading..."});const i=d[s],f=d[o],P=i.materials.inner.reduce((I,M)=>I+M.value,0),N=f.materials.inner.reduce((I,M)=>I+M.value,0),k=i.materials.outer.reduce((I,M)=>I+M.value,0),x=f.materials.outer.reduce((I,M)=>I+M.value,0),j=P+k,g=N+x,v=i.labor.dl+i.labor.idl+i.labor.facility,S=f.labor.dl+f.labor.idl+f.labor.facility,L=i.inland.inlandCost+i.inland.milkrunCost,q=f.inland.inlandCost+f.inland.milkrunCost;return e.jsxs("div",{className:"container mt-3",children:[e.jsx("h5",{children:"Packing Cost Comparison"}),e.jsxs("table",{className:"table table-bordered table-sm",style:{fontSize:"0.85rem"},children:[e.jsxs("thead",{style:{backgroundColor:"#efefef"},children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Part No"}),e.jsx("th",{children:e.jsx("select",{className:"form-control form-control-sm",value:s,onChange:I=>a(Number(I.target.value)),children:d.map((I,M)=>e.jsxs("option",{value:M,children:[I.partNo," - ",I.code]},M))})}),e.jsx("th",{children:e.jsx("select",{className:"form-control form-control-sm",value:o,onChange:I=>t(Number(I.target.value)),children:d.map((I,M)=>e.jsxs("option",{value:M,children:[I.partNo," - ",I.code]},M))})}),e.jsx("th",{children:"Diff"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Periode"}),e.jsx("th",{children:e.jsx("input",{value:n,onChange:I=>m(I.target.value),className:"form-control form-control-sm"})}),e.jsx("th",{children:e.jsx("input",{value:h,onChange:I=>u(I.target.value),className:"form-control form-control-sm"})}),e.jsx("th",{})]})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Part Name"}),e.jsx("td",{children:(i==null?void 0:i.name)||""}),e.jsx("td",{children:(f==null?void 0:f.name)||""}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Supplier"}),e.jsx("td",{children:(i==null?void 0:i.supplier)||""}),e.jsx("td",{children:(f==null?void 0:f.supplier)||""}),e.jsx("td",{})]}),e.jsxs("tr",{style:{fontWeight:"bold"},children:[e.jsx("td",{children:"TOTAL COST (Rp)"}),e.jsx("td",{style:ce,children:ie(i==null?void 0:i.totalCost)}),e.jsx("td",{style:ce,children:ie(f==null?void 0:f.totalCost)}),e.jsx("td",{style:ce,children:ye(i==null?void 0:i.totalCost,f==null?void 0:f.totalCost)})]}),e.jsxs(Re,{title:"Material (Rp)",value1:ie(j),value2:ie(g),diff:ye(j,g),children:[e.jsx(Re,{title:"Inner (Rp)",value1:ie(P),value2:ie(N),diff:ye(P,N),children:i.materials.inner.map((I,M)=>{const C=f.materials.inner[M];return e.jsxs(Se.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:I.name}),e.jsx("td",{style:ce,children:ie(I.value)}),e.jsx("td",{style:ce,children:ie(C==null?void 0:C.value)}),e.jsx("td",{style:ce,children:ye(I.value,C==null?void 0:C.value)})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Material No: ",I.detail.partNo]}),e.jsxs("div",{children:["- Code: ",I.detail.code]}),e.jsxs("div",{children:["- Qty: ",ie(I.detail.qty)]}),e.jsxs("div",{children:["- Price: ",es(I.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ie(I.detail.qty*I.detail.price)]})]}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Material No: ",C==null?void 0:C.detail.partNo]}),e.jsxs("div",{children:["- Code: ",C==null?void 0:C.detail.code]}),e.jsxs("div",{children:["- Qty: ",ie(C==null?void 0:C.detail.qty)]}),e.jsxs("div",{children:["- Price: ",es(C==null?void 0:C.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ie((C==null?void 0:C.detail.qty)*(C==null?void 0:C.detail.price))]})]}),e.jsx("td",{})]})]},`inner-${M}`)})}),e.jsx(Re,{title:"Outer (Rp)",value1:ie(k),value2:ie(x),diff:ye(k,x),children:i.materials.outer.map((I,M)=>{const C=f.materials.outer[M];return e.jsxs(Se.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:I.name}),e.jsx("td",{style:ce,children:ie(I.value)}),e.jsx("td",{style:ce,children:ie(C==null?void 0:C.value)}),e.jsx("td",{style:ce,children:ye(I.value,C==null?void 0:C.value)})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",I.detail.partNo]}),e.jsxs("div",{children:["- Code: ",I.detail.code]}),e.jsxs("div",{children:["- Qty: ",ie(I.detail.qty)]}),e.jsxs("div",{children:["- Price: ",es(I.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ie(I.detail.qty*I.detail.price)]})]}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",C==null?void 0:C.detail.partNo]}),e.jsxs("div",{children:["- Code: ",C==null?void 0:C.detail.code]}),e.jsxs("div",{children:["- Qty: ",ie(C==null?void 0:C.detail.qty)]}),e.jsxs("div",{children:["- Price: ",es(C==null?void 0:C.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",ie((C==null?void 0:C.detail.qty)*(C==null?void 0:C.detail.price))]})]}),e.jsx("td",{})]})]},`outer-${M}`)})})]}),e.jsxs(Re,{title:"Labor (Rp)",value1:ie(v),value2:ie(S),diff:ye(v,S),children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- DL"}),e.jsx("td",{style:ce,children:ie(i.labor.dl)}),e.jsx("td",{style:ce,children:ie(f.labor.dl)}),e.jsx("td",{style:ce,children:ye(i.labor.dl,f.labor.dl)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- IDL"}),e.jsx("td",{style:ce,children:ie(i.labor.idl)}),e.jsx("td",{style:ce,children:ie(f.labor.idl)}),e.jsx("td",{style:ce,children:ye(i.labor.idl,f.labor.idl)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Facility/Others"}),e.jsx("td",{style:ce,children:ie(i.labor.facility)}),e.jsx("td",{style:ce,children:ie(f.labor.facility)}),e.jsx("td",{style:ce,children:ye(i.labor.facility,f.labor.facility)})]})]}),e.jsxs(Re,{title:"Inland (Rp)",value1:ie(L),value2:ie(q),diff:ye(L,q),children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Inland Cost"}),e.jsx("td",{style:ce,children:ie(i.inland.inlandCost)}),e.jsx("td",{style:ce,children:ie(f.inland.inlandCost)}),e.jsx("td",{style:ce,children:ye(i.inland.inlandCost,f.inland.inlandCost)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Milkrun Cost"}),e.jsx("td",{style:ce,children:ie(i.inland.milkrunCost)}),e.jsx("td",{style:ce,children:ie(f.inland.milkrunCost)}),e.jsx("td",{style:ce,children:ye(i.inland.milkrunCost,f.inland.milkrunCost)})]})]})]})]})]})}function Vl({show:s,onClose:a,onSave:o,initialData:t=null,mode:n="new"}){const[m,h]=l.useState(""),[u,d]=l.useState(""),[c,r]=l.useState(""),[p,i]=l.useState(""),[f,P]=l.useState(""),[N,k]=l.useState(""),[x,j]=l.useState(""),[g,v]=l.useState(""),[S,L]=l.useState(""),[q,I]=l.useState(""),[M,C]=l.useState(""),[O,y]=l.useState(""),[_,T]=l.useState(""),[U,ee]=l.useState(""),[se,A]=l.useState(""),[z,E]=l.useState(""),[D,w]=l.useState(""),[Y,J]=l.useState("");l.useEffect(()=>{s&&t?(h(t.materialNo||""),d(t.materialName||""),r(t.price??""),i(t.materialType||""),P(t.supplierCode||""),k(t.supplierName||""),j(t.address||""),v(t.plantCode||""),L(t.eWarehouse||""),I(t.eWarehousePrice||""),C(t.dimLength||""),y(t.dimWeightPc||""),T(t.dimWidth||""),ee(t.dimQtyBundling||""),A(t.dimHeight||""),E(t.totalDimWeight||""),w(t.docMSDS||""),J(t.docDrawing||"")):s||H()},[s,t]);function W(){if(!m||!u||!p){alert("Please fill in Material No, Material Name, and Material Type");return}const b={id:t==null?void 0:t.id,materialNo:m,materialName:u,price:c,materialType:p,supplierCode:f,supplierName:N,address:x,plantCode:g,eWarehouse:S,eWarehousePrice:q,dimLength:M,dimWeightPc:O,dimWidth:_,dimQtyBundling:U,dimHeight:se,totalDimWeight:z,docMSDS:D,docDrawing:Y,createdDate:n==="edit"?(t==null?void 0:t.createdDate)||new Date().toLocaleDateString():new Date().toLocaleDateString()};o(b,n),H()}function H(){h(""),d(""),r(""),i(""),P(""),k(""),j(""),v(""),L(""),I(""),C(""),y(""),T(""),ee(""),A(""),E(""),w(""),J("")}function G(){const b=`EWH-${Math.random().toString(36).substr(2,9).toUpperCase()}`,V=(Math.random()*1e3).toFixed(2);L(b),I(V),r(V)}function B(){H(),a()}if(!s)return null;const R=n==="edit"?"Material - Edit":"Material - New",F=n==="edit"?"Save Changes":"Save Material";return e.jsx("div",{className:"np-modal-backdrop",onMouseDown:b=>{b.target===b.currentTarget&&B()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:800},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:R})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:B,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",style:{fontSize:"0.7rem"},children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Item No ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",value:m,onChange:Q(h),placeholder:"Enter Item No",autoFocus:!0}),e.jsx("div",{className:"input-group-append",children:e.jsxs("button",{className:"btn btn-primary",type:"button",style:{fontSize:"0.8rem"},onClick:G,disabled:!m,children:[e.jsx("i",{className:"fas fa-search mr-1"}),"Search eWH"]})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Material Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:u,onChange:Q(d),placeholder:"Enter Material Name"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:c,onChange:b=>r(b.target.value),placeholder:"Enter Price",step:"0.01",min:"0"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"eWarehouse Price"}),e.jsx("input",{type:"number",className:"form-control",value:q,onChange:b=>I(b.target.value),placeholder:"eWarehouse Price",step:"0.01",min:"0",readOnly:!0})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Material Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{className:"form-control",value:p,onChange:b=>i(b.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),e.jsx("option",{value:"Inner",children:"Inner"}),e.jsx("option",{value:"Outer",children:"Outer"}),e.jsx("option",{value:"Module",children:"Module"}),e.jsx("option",{value:"Module",children:"Box"})]})]})]})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Supplier"})}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Code"}),e.jsx("input",{type:"text",className:"form-control",value:f,onChange:Q(P),placeholder:"Enter Supplier Code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Address"}),e.jsx("input",{type:"text",className:"form-control",value:x,readOnly:!0,placeholder:"Address"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",value:N,readOnly:!0,placeholder:"Supplier Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Plant Code"}),e.jsx("input",{type:"text",className:"form-control",value:g,readOnly:!0,placeholder:"Plant Code"})]})]})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Dimension"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Length (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:M,onChange:b=>C(b.target.value),placeholder:"Length (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Weight/pc (gr)"}),e.jsx("input",{type:"number",className:"form-control",value:O,onChange:b=>y(b.target.value),placeholder:"Weight/pc (gr)"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Width (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:_,onChange:b=>T(b.target.value),placeholder:" Width (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Qty/Bundling"}),e.jsx("input",{type:"number",className:"form-control",value:U,onChange:b=>ee(b.target.value),placeholder:"Qty/Bundling"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Height (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:se,onChange:b=>A(b.target.value),placeholder:"Height (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Total Weight (gr)"}),e.jsx("input",{type:"number",className:"form-control",value:z,onChange:b=>E(b.target.value),placeholder:"Total Weight (gr)"})]})})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Documents"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"MSDS"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-image"})})}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:b=>{var V;return w(((V=b.target.files[0])==null?void 0:V.name)||"")}})]})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Drawing"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-image"})})}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:b=>{var V;return J(((V=b.target.files[0])==null?void 0:V.name)||"")}})]})]})})]})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary mr-2",onClick:B,children:[e.jsx("i",{className:"fas fa-times mr-1"}),"Cancel"]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:W,children:[e.jsx("i",{className:"fas fa-save mr-1"}),F]})]})]})})}function Gl({materialNo:s,setMaterialNo:a,materialName:o,setMaterialName:t,parentMaterial:n,setParentMaterial:m,itemNo:h,setItemNo:u,price:d,setPrice:c,materialType:r,setMaterialType:p,onFilter:i,onClearFilters:f}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Item No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s,onChange:Q(a),placeholder:"Material No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Material Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:o,onChange:Q(t),placeholder:"Material Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Parent Material"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:Q(m),placeholder:"Parent Material"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"eWarehouse Item No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:Q(u),placeholder:"Item No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Price"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:P=>c(P.target.value),placeholder:"Price"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Material Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:r,onChange:P=>p(P.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),e.jsx("option",{value:"Inner",children:"Inner"}),e.jsx("option",{value:"Outer",children:"Outer"}),e.jsx("option",{value:"Module",children:"Module"}),e.jsx("option",{value:"Box",children:"Module"})]})]})]})]}),e.jsxs("div",{className:"form-group text-right mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:i,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:f,children:[e.jsx("i",{className:"fas fa-undo mr-1"})," Clear"]})]})]})}function Yl({materials:s,allMaterials:a,totalMaterials:o,currentPage:t,totalPages:n,pageSize:m,onPageChange:h,onDeleteMaterial:u,onEditMaterial:d}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50},className:"text-center",children:"No"}),e.jsx("th",{className:"text-center",children:"Item No"}),e.jsx("th",{className:"text-center",children:"Material Name"}),e.jsx("th",{className:"text-center",children:"Price"}),e.jsx("th",{className:"text-center",children:"eWH Item No"}),e.jsx("th",{className:"text-center",children:"eWH Price"}),e.jsx("th",{className:"text-center",children:"Material Type"}),e.jsx("th",{style:{width:120},className:"text-center",children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-4 text-muted text-center",children:"No Data Found"})}):s.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:(t-1)*m+r+1}),e.jsx("td",{className:"text-center",children:c.materialNo}),e.jsx("td",{children:c.materialName}),e.jsx("td",{className:"text-center",children:c.price}),e.jsx("td",{className:"text-center",children:c.eWarehouse}),e.jsx("td",{className:"text-center",children:c.eWarehousePrice}),e.jsx("td",{className:"text-center",children:c.materialType}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>d&&d(c),title:"Edit Material",children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>u&&u(r),title:"Delete Material",children:e.jsx("i",{className:"fas fa-trash"})})]})]},c.id||r))})]})}),n>1&&e.jsx(Fe,{currentPage:t,totalPages:n,totalItems:o,pageSize:m,onPageChange:h})]})}function Is(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(!1),[P,N]=l.useState("new"),[k,x]=l.useState(null),[j,g]=l.useState(1),v=10,[S,L]=l.useState([]),[q,I]=l.useState([]);l.useEffect(()=>{fetch("/packing-cost-fe/materials.json").then(D=>{if(!D.ok)throw new Error("Network response was not ok");return D.json()}).then(D=>{L(D),I([])}).catch(D=>{console.error("Error fetching materials:",D)})},[]);const M=Math.ceil(q.length/v),C=(j-1)*v,O=C+v,y=q.slice(C,O);function _(){let E=S.filter(w=>{const Y=!s||w.materialNo&&w.materialNo.toLowerCase().includes(s.toLowerCase()),J=!o||w.materialName&&w.materialName.toLowerCase().includes(o.toLowerCase()),W=!n||w.parentMaterial&&w.parentMaterial.toLowerCase().includes(n.toLowerCase()),H=!h||w.itemNo&&w.itemNo.toLowerCase().includes(h.toLowerCase()),G=!d||w.price&&w.price.toString().includes(d),B=!r||w.materialType===r;return Y&&J&&W&&H&&G&&B});I(!s&&!o&&!n&&!h&&!d&&!r?[...S].reverse():E),g(1),console.log(`Filtered ${E.length} materials from ${S.length} total`)}function T(){a(""),t(""),m(""),u(""),c(""),p(""),I([]),g(1)}function U(){x(null),N("new"),f(!0)}function ee(){f(!1),x(null),N("new")}function se(E,D="new"){if(D==="edit"&&k){const w=k.materialNo,Y=S.map(W=>W.materialNo===w?{...W,...E}:W),J=q.map(W=>W.materialNo===w?{...W,...E}:W);L(Y),I(J)}else L(w=>[E,...w]),I(w=>[E,...w]);f(!1),x(null),N("new")}function A(E){if(!confirm("Delete this material?"))return;const D=(j-1)*v+E,w=q[D];if(!w)return;const Y=q.filter((H,G)=>G!==D),J=S.filter(H=>H.materialNo!==w.materialNo);I(Y),L(J);const W=Math.ceil(Y.length/v);j>W&&W>0&&g(W)}function z(E){x(E),N("edit"),f(!0)}return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Material List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:U,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Material"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Upload placeholder"),children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Download template placeholder"),children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsx(Gl,{materialNo:s,setMaterialNo:a,materialName:o,setMaterialName:t,parentMaterial:n,setParentMaterial:m,itemNo:h,setItemNo:u,price:d,setPrice:c,materialType:r,setMaterialType:p,onFilter:_,onClearFilters:T}),e.jsx(Yl,{materials:y,allMaterials:S,totalMaterials:q.length,currentPage:j,totalPages:M,pageSize:v,onPageChange:g,onDeleteMaterial:A,onEditMaterial:z})]}),e.jsx(Vl,{show:i,onClose:ee,onSave:se,initialData:k,mode:P})]})})}function zl(){const s=Ie(),[a,o]=l.useState(!1),[t,n]=l.useState(!1),m=As(),h=Oe();l.useEffect(()=>{const c=(m.pathname||"").toLowerCase();c.startsWith("/projects")||c.startsWith("/models")||c.startsWith("/parts")||c.startsWith("/suppliers")||c.startsWith("/material")||c.startsWith("/module-type")||c.startsWith("/params")?o(!0):o(!1),c.startsWith("/packing")||c.startsWith("/cps")||c.startsWith("/dpi")||c.startsWith("/calculate-packing-cost")||c.startsWith("/calculate")?n(!0):n(!1)},[m.pathname]);const u=({isActive:c})=>"nav-link"+(c?" active":"");function d(c){c&&c.preventDefault&&c.preventDefault();try{s&&typeof s.logout=="function"&&s.logout()}catch{}h("/login")}return e.jsxs("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",style:{minHeight:"100vh"},children:[e.jsx("div",{className:"brand-link",children:e.jsx(Ce,{to:"/",className:"d-block text-decoration-none",children:e.jsx("span",{className:"brand-text font-weight-light",children:"My App"})})}),e.jsx("div",{className:"sidebar d-flex flex-column",style:{minHeight:"calc(100vh - 56px)"},children:e.jsx("nav",{className:"mt-2 flex-grow-1",children:e.jsxs("ul",{className:"nav nav-pills nav-sidebar flex-column",role:"menu","aria-orientation":"vertical",style:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/",className:u,end:!0,children:[e.jsx("i",{className:"nav-icon fas fa-tachometer-alt"}),e.jsx("p",{children:"Dashboard"})]})}),e.jsxs("li",{className:`nav-item has-treeview ${a?"menu-open":""}`,children:[e.jsxs("div",{role:"button",onClick:()=>o(c=>!c),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&o(r=>!r)},tabIndex:0,"aria-expanded":a,className:`nav-link d-flex align-items-center ${a?"active":""}`,style:{cursor:"pointer",userSelect:"none"},children:[e.jsx("i",{className:"nav-icon fas fa-database"}),e.jsx("p",{className:"flex-grow-1 mb-0 ml-2",children:"Master"}),e.jsx("i",{className:`right fas ${a?"fa-angle-down":"fa-angle-left"}`})]}),e.jsxs("ul",{className:"nav nav-treeview",style:{display:a?"block":"none"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/projects",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Projects"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/models",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Models"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/material",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Material"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/parts",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Parts"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/suppliers",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Suppliers"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/params",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Parameters"})]})})]})]}),e.jsxs("li",{className:`nav-item has-treeview ${t?"menu-open":""}`,children:[e.jsxs("div",{role:"button",onClick:()=>n(c=>!c),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&n(r=>!r)},tabIndex:0,"aria-expanded":t,className:`nav-link d-flex align-items-center ${t?"active":""}`,style:{cursor:"pointer",userSelect:"none"},children:[e.jsx("i",{className:"nav-icon fas fa-box-open"}),e.jsx("p",{className:"flex-grow-1 mb-0 ml-2",children:"Packing Spec"}),e.jsx("i",{className:`right fas ${t?"fa-angle-down":"fa-angle-left"}`})]}),e.jsxs("ul",{className:"nav nav-treeview",style:{display:t?"block":"none"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/packing/cps",className:({isActive:c})=>"nav-link"+(c?" active":""),children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"CPS"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/packing/DPI",className:({isActive:c})=>"nav-link"+(c?" active":""),children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"DPI"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/packing/CalculatePackingCost",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Calculate Packing Cost"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(Ce,{to:"/packing/ComparisonPage",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Comparison"})]})})]})]}),e.jsx("li",{style:{marginTop:"auto"}}),e.jsx("li",{className:"nav-item",style:{padding:"0.5rem 0"},children:e.jsxs(Ce,{to:"/settings",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Settings"})]})}),e.jsx("li",{className:"nav-item",style:{padding:"0.5rem 0"},children:e.jsxs("button",{type:"button",onClick:d,className:"btn btn-block btn-outline-danger d-flex align-items-center",style:{justifyContent:"flex-start"},children:[e.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),e.jsx("span",{children:"Logout"})]})})]})})})]})}function Jl(){const s=Ie(),a=Oe(),o=()=>{a("/notification-detail")};return e.jsxs("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[e.jsxs("ul",{className:"navbar-nav",children:[e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:e.jsx("i",{className:"fas fa-bars"})})}),e.jsx("li",{className:"nav-item d-none d-sm-inline-block",children:e.jsx("a",{href:"#",className:"nav-link",children:"Home"})})]}),e.jsxs("ul",{className:"navbar-nav ml-auto",children:[e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs("a",{className:"nav-link","data-toggle":"dropdown",href:"#",children:[e.jsx("i",{className:"far fa-bell"}),e.jsx("span",{className:"badge badge-warning navbar-badge",children:"2"})]}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[e.jsx("span",{className:"dropdown-item dropdown-header",children:"2 Notifications"}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-item",children:[e.jsx("p",{style:{fontWeight:"bold"},children:"Date : 20 Feb 2025 13:15"}),e.jsx("p",{className:"text-sm",children:"You have new form request to review."}),e.jsx("p",{className:"text-sm text-muted",children:"From : Jonathan Hairi at 20 Feb 2025 13:10"}),e.jsx("p",{className:"text-sm text-muted",children:"Dept : PPMD"}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"See Detail"})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-item",children:[e.jsx("p",{style:{fontWeight:"bold"},children:"Date : 19 Feb 2025 12:15"}),e.jsx("p",{className:"text-sm",children:"Your form submission has been rejected by :"}),e.jsx("p",{className:"text-sm text-muted",children:"By : Jonathan Hairi at 19 Feb 2025 13:10"}),e.jsx("p",{className:"text-sm text-muted",children:"Dept : PPMD"}),e.jsx("p",{className:"text-sm text-muted",children:"Comment: Sheet tersebut sudah tidak ada di pasaran dan akan diganti sheet yg sama dari supplier lain."}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"See Detail"})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsx("a",{href:"#",className:"dropdown-item dropdown-footer",children:"See All Notifications"})]})]}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:e.jsx("i",{className:"fas fa-expand-arrows-alt"})})}),s.user&&e.jsx("li",{className:"nav-item d-none d-sm-inline-block",children:e.jsx("span",{className:"nav-link",children:s.user.username})})]})]})}Pt.register(kt,_t,It,At,Mt,Dt);const Ql={labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Orders",data:[12,19,7,14,10],backgroundColor:"#007bff"}]};function Zl(){return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Sales"})}),e.jsx("div",{className:"card-body",children:e.jsx(wt,{data:Ql})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Quick Stats"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"info-box mb-3 bg-info",children:[e.jsx("span",{className:"info-box-icon",children:e.jsx("i",{className:"fas fa-shopping-cart"})}),e.jsxs("div",{className:"info-box-content",children:[e.jsx("span",{className:"info-box-text",children:"Orders"}),e.jsx("span",{className:"info-box-number",children:"1,250"})]})]})})]})}),e.jsx("div",{className:"col-12 mt-3",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Recent Items"})}),e.jsx("div",{className:"card-body p-0",children:e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Qty"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"1"}),e.jsx("td",{children:"33504-BZ292-C1"}),e.jsx("td",{children:"Hose"}),e.jsx("td",{children:"10"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"2"}),e.jsx("td",{children:"122810Y110"}),e.jsx("td",{children:"Hanger"}),e.jsx("td",{children:"2"})]})]})]})})]})})]})}function Xl(){const s=Ie(),[a,o]=l.useState(""),[t,n]=l.useState(""),[m,h]=l.useState(""),u=d=>{d.preventDefault(),s.login(a,t)||h("Invalid username or password")};return e.jsx("div",{className:"login-page bg-light min-vh-100 d-flex align-items-center justify-content-center",children:e.jsx("div",{className:"card shadow-sm",style:{width:"360px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Sign In"}),m&&e.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:m}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),e.jsx("input",{type:"text",id:"username",className:"form-control",value:a,onChange:d=>o(d.target.value),placeholder:"Enter username",required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",id:"password",className:"form-control",value:t,onChange:d=>n(d.target.value),placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]})]})})})}function ea({visible:s,onClose:a,onSave:o,initialData:t}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState("Draft"),[r,p]=l.useState(""),[i,f]=l.useState(""),[P,N]=l.useState(""),[k,x]=l.useState([]),[j,g]=l.useState(!1);l.useEffect(()=>{t?(m(t.project_code||""),u(t.project_name||""),c(t.project_status||"Draft"),p(t.project_manager||""),f(t.description||""),N(t.note||""),x(t.models||[])):(m(""),u(""),c("Draft"),p(""),f(""),N(""),x([]))},[t,s]);const v=()=>{g(!0)},S=M=>{x(C=>[...C,...M]),g(!1)},L=(M,C,O)=>{x(y=>y.map((_,T)=>T===M?{..._,[C]:O}:_))},q=M=>{x(C=>C.filter((O,y)=>y!==M))},I=()=>{o&&o({code:n,name:h,status:d,manager:r,description:i,note:P,models:k})};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"np-modal-backdrop",style:{position:"fixed",inset:0,zIndex:1040},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1e3,margin:"40px auto",zIndex:1041},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:t?"Project - Edit":"Project - New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool","aria-label":"Close",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"small",children:["Project Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:n,onChange:Q(m),placeholder:"Project Code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Project Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:h,onChange:Q(u),placeholder:"Project Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"small",children:["Status ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("select",{className:"form-control form-control-sm mb-2",value:d,onChange:M=>c(M.target.value),children:[e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"On Hold"}),e.jsx("option",{children:"Completed"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Project Manager"}),e.jsxs("div",{className:"input-group input-group-sm mb-2",children:[e.jsx("input",{className:"form-control form-control-sm",value:r,onChange:Q(p),placeholder:"Project Manager"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Description"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:i,onChange:M=>f(M.target.value),placeholder:"Description"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Note"}),e.jsx("textarea",{className:"form-control form-control-sm mb-2",value:P,onChange:M=>N(M.target.value),rows:2,placeholder:"Note"})]})]})]}),e.jsx("div",{className:"card mt-3",children:e.jsxs("div",{className:"card-body p-2",children:[e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:v,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Add Model"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",children:[e.jsx("i",{className:"fas fa-cloud-download-alt"})," Template"]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40,textAlign:"center"},children:"No"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Code"}),e.jsx("th",{style:{textAlign:"center"},children:"CFC"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Impl. Period"}),e.jsx("th",{style:{textAlign:"center"},children:"Dest. Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Type"}),e.jsx("th",{style:{textAlign:"center"},children:"Remark"}),e.jsx("th",{style:{width:90,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{children:k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center text-muted py-4",children:"No Data Found"})}):k.map((M,C)=>e.jsxs("tr",{children:[e.jsx("td",{children:C+1}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_code,onChange:O=>L(C,"model_code",O.target.value),placeholder:"Model Code"})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_cfc,onChange:O=>L(C,"model_cfc",O.target.value),placeholder:"CFC",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_name,onChange:O=>L(C,"model_name",O.target.value),placeholder:"Model Name",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_implementation_period,onChange:O=>L(C,"model_implementation_period",O.target.value),placeholder:"Implementation Period",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_destination_code,onChange:O=>L(C,"model_destination_code",O.target.value),placeholder:"Destination Code",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_type,onChange:O=>L(C,"model_type",O.target.value),placeholder:"Type",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:M.model_remark,onChange:O=>L(C,"model_remark",O.target.value),placeholder:"Remark",readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>q(C),children:e.jsx("i",{className:"fas fa-trash"})})})]},C))})]})})]})})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{type:"button",className:"btn btn-primary mr-2",onClick:I,children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"})]})]})}),e.jsx(Be,{show:j,onClose:()=>g(!1),onAdd:S})]}):null}const sa=({show:s,onHide:a,onSelect:o})=>{const[t,n]=l.useState(""),[m,h]=l.useState(""),[u,d]=l.useState("All"),[c,r]=l.useState(""),[p,i]=l.useState([]),f=[{code:"024J",name:"Front Bumper Model",status:"Active",manager:"Prototype 2025"},{code:"286W",name:"Rear Bumper Model",status:"Draft",manager:"Production 2024"},{code:"332W",name:"Hood Model",status:"Inactive",manager:"Prototype 2023"},{code:"385W",name:"Fender Model",status:"Active",manager:"Production 2022"},{code:"388W",name:"Grille Model",status:"Active",manager:"Prototype 2021"}],[P,N]=l.useState(f);if(l.useEffect(()=>{s&&x()},[s]),!s)return null;const k=()=>{let S=f;t&&(S=S.filter(L=>L.code.toLowerCase().includes(t.toLowerCase()))),m&&(S=S.filter(L=>L.name.toLowerCase().includes(m.toLowerCase()))),u&&u!=="All"&&(S=S.filter(L=>L.status.toLowerCase()===u.toLowerCase())),c&&(S=S.filter(L=>L.manager.toLowerCase().includes(c.toLowerCase()))),N(S)},x=()=>{n(""),h(""),d("All"),r(""),N(f),i([])},j=(S,L)=>{i(L?q=>[...q,S]:q=>q.filter(I=>I.code!==S.code))},g=()=>{o&&o(p),a()},v={maxHeight:"calc(100vh - 200px)",overflowY:"auto"};return e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("b",{children:"Select Project"})}),e.jsx("button",{type:"button",className:"close",onClick:a,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:v,children:[e.jsx("div",{className:"card card-outline card-secondary mb-3",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:t,onChange:S=>n(S.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Project Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:m,onChange:S=>h(S.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Status"}),e.jsxs("select",{className:"form-control form-control-sm",value:u,onChange:S=>d(S.target.value),children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Project Manager"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:c,onChange:S=>r(S.target.value)})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{className:"btn btn-primary btn-sm mr-2",onClick:k,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:x,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"30px"},children:e.jsx("input",{type:"checkbox"})}),e.jsx("th",{children:"Project Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Project Mgr"})]})}),e.jsx("tbody",{children:P.length>0?P.map((S,L)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:e.jsx("input",{type:"checkbox",onChange:q=>j(S,q.target.checked),checked:p.some(q=>q.code===S.code)})}),e.jsx("td",{children:S.code}),e.jsx("td",{children:S.name}),e.jsx("td",{children:S.status}),e.jsx("td",{children:S.manager})]},L)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No projects found"})})})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:g,children:"Add"}),e.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:a,children:"Close"})]})]})})})};function ta({code:s,setCode:a,name:o,setName:t,models:n,setModels:m,manager:h,setManager:u,statuses:d,setStatuses:c,handleSearch:r,clearFilters:p,handleOpenNew:i}){const[f,P]=l.useState(!1);function N(x){if(x==="all"){const j=!d.all;c({all:j,draft:!1,active:!1,onhold:!1,completed:!1})}else c(j=>({...j,[x]:!j[x],all:!1}))}function k(x){x.length>0&&a(x.map(j=>j.code).join(", ")),P(!1)}return e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:s,onChange:Q(a),className:"form-control form-control-sm",placeholder:"Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search code",onClick:()=>P(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:o,onChange:Q(t),className:"form-control form-control-sm",placeholder:"Project name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search name",onClick:()=>P(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Related Models"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:n,onChange:Q(m),className:"form-control form-control-sm",placeholder:"Model code / name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Select Model",children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Manager"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:h,onChange:Q(u),className:"form-control form-control-sm",placeholder:"Manager name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user"})})})]})]})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1 d-block",children:"Status"}),e.jsx("div",{className:"form-inline flex-wrap",children:["all","draft","active","onhold","completed"].map(x=>{const j=`status-${x}`;return e.jsxs("div",{className:"form-check mr-3",children:[e.jsx("input",{id:j,type:"checkbox",className:"form-check-input",checked:d[x],onChange:()=>N(x)}),e.jsx("label",{className:"form-check-label small ml-1",htmlFor:j,children:x==="onhold"?"On Hold":x.charAt(0).toUpperCase()+x.slice(1)})]},x)})})]})}),e.jsx("div",{className:"row mt-2",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mr-2",onClick:r,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:p,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx(sa,{show:f,onHide:()=>P(!1),onSelect:k})]})}function la({results:s,handleEdit:a,handleDelete:o,currentPage:t,setCurrentPage:n,pageSize:m}){const h=Math.ceil(s.length/m),u=s.slice((t-1)*m,t*m),d=c=>{var i;const r=((i=u[c%m])==null?void 0:i.project_name)||"this project";window.confirm(`Apakah Anda yakin ingin menghapus project "${r}"?`)&&o((t-1)*m+c)};return e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{className:"thead-light",style:{position:"sticky",top:0,zIndex:5},children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50},children:"No"}),e.jsx("th",{children:"Project Code"}),e.jsx("th",{children:"Project Name"}),e.jsx("th",{children:"Project Manager"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Models"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsxs("tbody",{children:[u.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:"No Data Found"})}),u.map((c,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:(t-1)*m+r+1}),e.jsx("td",{children:c.project_code}),e.jsx("td",{children:c.project_name}),e.jsx("td",{children:c.project_manager}),e.jsx("td",{children:c.project_status}),e.jsx("td",{children:Array.isArray(c.models)?c.models.map(p=>typeof p=="string"?p:p.model_code).join(", "):c.models}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>a((t-1)*m+r),children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>d(r),children:e.jsx("i",{className:"fas fa-trash"})})]})]},r))]})]})}),e.jsx(Fe,{currentPage:t,totalPages:h,totalItems:s.length,pageSize:m,onPageChange:n})]})}function aa(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState({all:!0,draft:!1,active:!1,onhold:!1,completed:!1}),[r,p]=l.useState(!1),[i,f]=l.useState(null),[P,N]=l.useState([]),[k,x]=l.useState([]),[j,g]=l.useState(1),v=10;l.useEffect(()=>{fetch("/packing-cost-fe/projects.json").then(_=>{if(!_.ok)throw new Error("Network response was not ok");return _.json()}).then(_=>{x(_)}).catch(_=>{console.error("Error fetching projects:",_)})},[]);function S(){a(""),t(""),m(""),u(""),c({all:!0,draft:!1,active:!1,onhold:!1,completed:!1}),N([]),g(1)}function L(){const y=!s&&!o&&!n&&!h&&d.all;let _=k.filter(T=>{var U,ee,se;return(!s||((U=T.project_code)==null?void 0:U.toLowerCase().includes(s.toLowerCase())))&&(!o||((ee=T.project_name)==null?void 0:ee.toLowerCase().includes(o.toLowerCase())))&&(!n||(Array.isArray(T.models)?T.models.join(", ").toLowerCase().includes(n.toLowerCase()):(T.models||"").toLowerCase().includes(n.toLowerCase())))&&(!h||((se=T.project_manager)==null?void 0:se.toLowerCase().includes(h.toLowerCase())))});if(!d.all){const T=[];d.draft&&T.push("Draft"),d.active&&T.push("Active"),d.onhold&&T.push("On Hold"),d.completed&&T.push("Completed"),T.length>0&&(_=_.filter(U=>T.includes(U.status)))}N(y?[..._].reverse():_),g(1)}function q(){f(null),p(!0)}function I(){p(!1)}function M(y){if(i!==null)N(_=>_.map((T,U)=>U!==i?T:{...T,project_code:y.code,project_name:y.name,project_manager:y.manager,project_status:y.status,description:y.description,note:y.note,models:y.models}));else{const _={project_code:y.code||`CFC-${((P||[]).length+1).toString().padStart(3,"0")}`,project_name:y.name||"(No name)",project_manager:y.manager||"",project_status:y.status||"Draft",description:y.description,note:y.note,models:y.models};N(T=>[_,...T||[]])}p(!1),f(null)}function C(y){f(y),p(!0)}function O(y){N(_=>_.filter((T,U)=>U!==y))}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-secondary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Project List"})}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:q,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," New Project"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Download Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(ta,{code:s,setCode:a,name:o,setName:t,models:n,setModels:m,manager:h,setManager:u,statuses:d,setStatuses:c,handleSearch:L,clearFilters:S,handleOpenNew:q}),e.jsx(la,{results:P,handleEdit:C,handleDelete:O,currentPage:j,setCurrentPage:g,pageSize:v})]}),e.jsx(ea,{visible:r,onClose:I,onSave:M,initialData:i!==null&&P&&P[i]?{...P[i],models:Array.isArray(P[i].models)?P[i].models.map(y=>typeof y=="string"?{code:y,name:"",remark:""}:y):(P[i].models||"").split(",").map(y=>({code:y.trim(),name:"",remark:""}))}:null})]})}function na({show:s,onClose:a,onSave:o,initialData:t}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(""),[P,N]=l.useState(""),[k,x]=l.useState(""),[j,g]=l.useState(""),[v,S]=l.useState(""),[L,q]=l.useState(""),[I,M]=l.useState(""),[C,O]=l.useState([]),[y,_]=l.useState(!1),[T,U]=l.useState([]);l.useEffect(()=>{var w,Y;s&&(t?(m(((w=t.project)==null?void 0:w.project_code)||""),u(((Y=t.project)==null?void 0:Y.project_name)||""),c(t.model_code||""),p(t.model_name||""),f(t.model_remark||""),g(t.model_implementation_period||""),S(t.model_destination_code||""),q(t.destinationCountryCode||""),M(t.country||""),O(t.parts||[]),N(t.model_cfc||""),x(t.model_type||"")):(m(""),u(""),c(""),p(""),f(""),g(""),S(""),q(""),M(""),O([]),N(""),x("")),_(!1))},[s,t]),l.useEffect(()=>{fetch("/packing-cost-fe/projects.json").then(Y=>Y.json()).then(Y=>U(Y))},[]),l.useEffect(()=>{if(n){const w=T.find(Y=>Y.project_code===n);u(w?w.project_name:"")}else u("")},[n]);function ee(){_(!0)}function se(w){const Y=w.map(J=>({partNo:J.partNo||"",suffix:"",name:J.partName||"",parent:J.parentPartNo||"",supplierId:J.supplierId||"",supplierName:J.supplierName||"",L:J.L||0,W:J.W||0,H:J.H||0,wtPerPc:J.wtPerPc||0,qty:1,totalWt:J.wtPerPc?(1*J.wtPerPc).toFixed(2):0}));O(J=>[...J,...Y]),_(!1)}function A(w){O(Y=>Y.filter((J,W)=>W!==w))}function z(w,Y,J){const W=[...C],H={...W[w]};if(H[Y]=J,Y==="qty"||Y==="wtPerPc"){const G=Y==="qty"?J:H.qty,B=Y==="wtPerPc"?J:H.wtPerPc;H.totalWt=(Number(G)*Number(B)).toFixed(2)}W[w]=H,O(W)}function E(w){S(w);const Y=ds.find(J=>J.destCode===w);Y?(q(Y.code),M(Y.country)):(q(""),M(""))}function D(){if(!d.trim()){alert("Please enter Model Code");return}const w={...t||{},model_code:d,model_name:r,model_remark:i,model_implementation_period:j,model_destination_code:v,destinationCountryCode:L,country:I,parts:C.slice(),model_cfc:P,model_type:k,project:{...(t==null?void 0:t.project)||{},project_code:n,project_name:h}};console.log("Saving model:",w),o(w)}return s?e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:w=>{w.target===w.currentTarget&&a()},children:[e.jsxs("div",{className:"np-modal card card-outline card-success",style:{maxWidth:1200},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsxs("b",{children:["Model - ",t?"Edit":"New"]})}),e.jsx("div",{className:"ml-2 text-muted small",style:{marginLeft:8},children:"|"}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Model Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:d,onChange:w=>c(w.target.value),placeholder:"Model Code"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Model Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:r,onChange:w=>p(w.target.value),placeholder:"Model Name"})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"CFC"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:P,onChange:w=>N(w.target.value),placeholder:"CFC"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsxs("select",{className:"form-control form-control-sm mb-2",value:k,onChange:w=>x(w.target.value),children:[e.jsx("option",{value:"",children:"-- Select Type --"}),e.jsx("option",{value:"PxP",children:"PxP"}),e.jsx("option",{value:"Lot",children:"Lot"}),e.jsx("option",{value:"Engine",children:"Engine"})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Project Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:n,onChange:w=>m(w.target.value),placeholder:"Project Code"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Project Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:h,placeholder:"Project Name",readOnly:!0,style:{backgroundColor:"#f8f9fa"}})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Implementation Period ",e.jsx("span",{style:{color:"red"},children:"*"})," ",e.jsx("span",{className:"text-muted ml-2",children:e.jsx("i",{children:"e.g., 02.2025"})})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:j,onChange:w=>g(w.target.value),placeholder:"Implementation Period"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Destination Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("div",{className:"input-group input-group-sm mb-2",children:[e.jsx("input",{className:"form-control form-control-sm",value:v,onChange:w=>E(w.target.value),placeholder:"Destination Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-map-marker-alt"})})})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Destination Country Code"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:L,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Country"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:I,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"small",children:"Remark"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:i,onChange:w=>f(w.target.value),placeholder:"Remark"})]})}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-2",onClick:ee,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Part"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-2",onClick:()=>alert("Upload placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-upload-alt mr-1"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Download template placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-download-alt mr-1"})," Template"]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",style:{fontSize:"0.8rem"},children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:130,textAlign:"center"},children:"Part No"}),e.jsx("th",{style:{width:50,textAlign:"center"},children:"Suffix"}),e.jsx("th",{style:{textAlign:"center"},children:"Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Parent"}),e.jsx("th",{style:{width:50,textAlign:"center"},children:"Supplier ID"}),e.jsx("th",{style:{textAlign:"center"},children:"Supplier Name"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"L"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"W"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"H"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"Wt/pc"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"Qty"}),e.jsx("th",{style:{width:70,textAlign:"center"},children:"Total Wt"}),e.jsx("th",{style:{width:70,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"13",className:"text-center text-muted",children:"- No parts added yet -"})}):C.map((w,Y)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.partNo,onChange:J=>z(Y,"partNo",J.target.value)})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.suffix,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.name,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.parent,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.supplierId,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.supplierName,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:w.L,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:w.W,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:w.H,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:w.wtPerPc,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-control form-control-sm",style:{textAlign:"right"},value:w.qty,onChange:J=>z(Y,"qty",J.target.value)})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:w.totalWt,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>A(Y),children:e.jsx("i",{className:"fas fa-trash"})})})]},Y))})]})})]}),e.jsxs("div",{className:"card-footer text-right",style:{marginTop:8},children:[e.jsxs("button",{type:"button",className:"btn btn-primary mr-2",onClick:D,children:[e.jsx("i",{className:"fas fa-save mr-1"})," Save"]}),e.jsxs("button",{type:"button",className:"btn btn-outline-secondary",onClick:a,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]}),y&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(Me,{show:y,onClose:()=>_(!1),onSelect:se})}),e.jsx("style",{children:`
        /* Modal Backdrop Styling */
        .np-modal-backdrop {
          position: fixed;                    /* Fixed position overlay */
          inset: 0;                          /* Cover entire viewport */
          background: rgba(0,0,0,0.35);      /* Semi-transparent dark background */
          z-index: 2000;                     /* High z-index for overlay */
          display: flex;                     /* Flexbox for centering */
          align-items: center;               /* Vertical centering */
          justify-content: center;           /* Horizontal centering */
          padding: 1rem;                     /* Padding around modal */
        }
        
        /* Modal Container Styling */
        .np-modal { 
          width: 100%;                       /* Full width within constraints */
          z-index: 2001;                     /* Higher z-index than backdrop */
        }
        
        /* Table Cell Alignment */
        .table-sm td, .table-sm th { 
          vertical-align: middle;            /* Middle vertical alignment for table cells */
        }
      `})]}):null}function ra({filterName:s,setFilterName:a,filterCfc:o,setFilterCfc:t,filterType:n,setFilterType:m,filterRemark:h,setFilterRemark:u,implementationPeriod:d,setImplementationPeriod:c,destinationCode:r,setDestinationCode:p,destinationCountryCode:i,setDestinationCountryCode:f,country:P,setCountry:N,handleFilter:k,handleClearFilters:x,onSearchCfc:j,onSearchDestination:g}){return e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"form-row mb-3",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:o,onChange:Q(t),placeholder:"CFC"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:j,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Model Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s,onChange:Q(a),placeholder:"Name"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Implementation Period"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:Q(c),placeholder:"Implementation Period"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:n,onChange:v=>m(v.target.value),children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"pxp",children:"PxP"}),e.jsx("option",{value:"lot",children:"Lot"}),e.jsx("option",{value:"eng",children:"Engine"})]})]}),e.jsx("div",{className:"form-group col-md-6",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:"small mb-1",children:"Destination Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:Q(p),placeholder:"Destination Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:g,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:"small mb-1",children:"Destination Country Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]})]})}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Country"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:P,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"form-group col-md-12",children:[e.jsx("label",{className:"small mb-1",children:"Remark"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:v=>u(v.target.value),placeholder:"Remark"})]}),e.jsxs("div",{className:"form-group col-md-12 text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:k,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:x,children:[e.jsx("i",{className:"fas fa-undo mr-1"})," Reset"]})]})]})})}function oa({models:s,handleDeleteModel:a,handleEditModel:o,currentPage:t,setCurrentPage:n,pageSize:m}){const h=Math.ceil(s.length/m),u=s.slice((t-1)*m,t*m);return e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{className:"thead-light",style:{position:"sticky",top:0,zIndex:5,fontSize:"0.8rem"},children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50,textAlign:"center"},children:"No"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Name"}),e.jsx("th",{style:{textAlign:"center"},children:"CFC"}),e.jsx("th",{style:{textAlign:"center"},children:"Type"}),e.jsx("th",{style:{textAlign:"center"},children:"Project Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Impl Period"}),e.jsx("th",{style:{textAlign:"center"},children:"Dest Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country"}),e.jsx("th",{style:{textAlign:"center"},children:"Remark"}),e.jsx("th",{style:{textAlign:"center"},children:"Parts"}),e.jsx("th",{style:{width:120,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{style:{fontSize:"0.8rem"},children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"13",className:"text-center",children:"No models found"})}):u.map((d,c)=>{var p;const r=ds.find(i=>i.destCode===d.model_destination_code);return e.jsxs("tr",{children:[e.jsx("td",{children:(t-1)*m+c+1}),e.jsx("td",{style:{textAlign:"center"},children:d.model_code}),e.jsx("td",{style:{textAlign:"center"},children:d.model_name}),e.jsx("td",{style:{textAlign:"center"},children:d.model_cfc}),e.jsx("td",{style:{textAlign:"center"},children:d.model_type}),e.jsx("td",{style:{textAlign:"center"},children:(p=d.project)==null?void 0:p.project_code}),e.jsx("td",{style:{textAlign:"center"},children:d.model_implementation_period}),e.jsx("td",{style:{textAlign:"center"},children:d.model_destination_code}),e.jsx("td",{style:{textAlign:"center"},children:r?r.code:""}),e.jsx("td",{style:{textAlign:"center"},children:r?r.country:""}),e.jsx("td",{style:{textAlign:"center"},children:d.model_remark}),e.jsx("td",{style:{textAlign:"right"},children:Array.isArray(d.parts)?d.parts.length:0}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>o((t-1)*m+c),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>a((t-1)*m+c),children:e.jsx("i",{className:"fas fa-trash"})})]})]},c)})})]})}),e.jsx(Fe,{currentPage:t,totalPages:h,totalItems:s.length,pageSize:m,onPageChange:n})]})}function ia(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(""),[P,N]=l.useState(""),[k,x]=l.useState(""),[j,g]=l.useState(!1),[v,S]=l.useState(!1),[L,q]=l.useState(!1),[I,M]=l.useState(null),[C,O]=l.useState(null),[y,_]=l.useState([]),[T,U]=l.useState([]),[ee,se]=l.useState(1),A=10;l.useEffect(()=>{fetch("/packing-cost-fe/models.json").then(R=>{if(!R.ok)throw new Error("Network response was not ok");return R.json()}).then(R=>{const F=R.sort((b,V)=>new Date(V.model_implementation_period)-new Date(b.model_implementation_period));_(F),U([])}).catch(R=>{console.error("Error fetching models:",R)})},[]);function z(){if(!s&&!o&&!n&&!h&&!d&&!r&&!i){U([...y].reverse()),se(1);return}let R=y.filter(F=>{var b,V,$,X,te,re,de;return(!s||((b=F.project.project_code)==null?void 0:b.toLowerCase().includes(s.toLowerCase())))&&(!o||((V=F.model_name)==null?void 0:V.toLowerCase().includes(o.toLowerCase())))&&(!n||(($=F.model_cfc)==null?void 0:$.toLowerCase().includes(n.toLowerCase())))&&(!h||((X=F.model_type)==null?void 0:X.toLowerCase().includes(h.toLowerCase())))&&(!d||((te=F.model_remark)==null?void 0:te.toLowerCase().includes(d.toLowerCase())))&&(!r||((re=F.model_implementation_period)==null?void 0:re.toLowerCase().includes(r.toLowerCase())))&&(!i||((de=F.model_destination_code)==null?void 0:de.toLowerCase().includes(i.toLowerCase())))});U(R),se(1)}function E(){a(""),t(""),m(""),u(""),c(""),p(""),f(""),N(""),x(""),U([]),se(1)}function D(){M(null),O(null),g(!0)}function w(){g(!1),M(null),O(null)}const Y=B=>{B&&(m(B.model_cfc),t(B.model_name)),S(!1)},J=B=>{B&&(f(B.destCode),N(B.code),x(B.country)),q(!1)};function W(B){var R,F,b,V,$,X,te;if(I!==null){const re=y.map((xe,be)=>be===I?B:xe);_(re);const de=T.map(xe=>xe.model_code===C.model_code&&xe.model_name===C.model_name&&xe.model_remark===C.model_remark?B:xe);U(de)}else{const re=[B,...y];_(re),(!s||((R=B.project.project_code)==null?void 0:R.toLowerCase().includes(s.toLowerCase())))&&(!o||((F=B.model_name)==null?void 0:F.toLowerCase().includes(o.toLowerCase())))&&(!n||((b=B.model_cfc)==null?void 0:b.toLowerCase().includes(n.toLowerCase())))&&(!h||((V=B.model_type)==null?void 0:V.toLowerCase().includes(h.toLowerCase())))&&(!d||(($=B.model_remark)==null?void 0:$.toLowerCase().includes(d.toLowerCase())))&&(!r||((X=B.model_implementation_period)==null?void 0:X.toLowerCase().includes(r.toLowerCase())))&&(!i||((te=B.model_destination_code)==null?void 0:te.toLowerCase().includes(i.toLowerCase())))&&U([B,...T])}console.log("Model saved:",B),g(!1),M(null),O(null)}function H(B){const R=T[B],F=y.findIndex(b=>b.model_code===R.model_code&&b.model_name===R.model_name&&b.model_remark===R.model_remark);console.log("Editing model:",R),console.log("Original index:",F),M(F),O(R),g(!0)}function G(B){if(!confirm("Delete this model?"))return;const R=T[B],F=y.findIndex(b=>b.model_code===R.model_code&&b.model_name===R.model_name&&b.model_remark===R.model_remark);if(F!==-1){const b=y.filter(($,X)=>X!==F);_(b);const V=T.filter(($,X)=>X!==B);U(V)}}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Model List"})}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:D,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Model"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",onClick:()=>alert("Upload placeholder"),children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Template",onClick:()=>alert("Download template placeholder"),children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(ra,{projectCode:s,setProjectCode:a,filterName:o,setFilterName:t,filterCfc:n,setFilterCfc:m,filterType:h,setFilterType:u,filterRemark:d,setFilterRemark:c,implementationPeriod:r,setImplementationPeriod:p,destinationCode:i,setDestinationCode:f,destinationCountryCode:P,setDestinationCountryCode:N,country:k,setCountry:x,handleFilter:z,handleClearFilters:E,handleOpenNew:D,onSearchCfc:()=>S(!0),onSearchDestination:()=>q(!0)}),e.jsx(oa,{models:T,handleDeleteModel:G,handleEditModel:H,currentPage:ee,setCurrentPage:se,pageSize:A})]}),e.jsx(na,{show:j,onClose:w,onSave:W,initialData:C}),e.jsx(Be,{show:v,onClose:()=>S(!1),onAdd:Y,selectionMode:"single"}),e.jsx(ms,{show:L,onClose:()=>q(!1),onAdd:J,selectionMode:"single"})]})}function ca({show:s=!1,onClose:a=()=>{},onSave:o=()=>{},initialData:t=null}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState(""),[P,N]=l.useState(""),[k,x]=l.useState(""),[j,g]=l.useState(""),[v,S]=l.useState(""),[L,q]=l.useState(""),[I,M]=l.useState([]),[C,O]=l.useState(!1),[y,_]=l.useState({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:""}),[T,U]=l.useState(!1),[ee,se]=l.useState("parent"),[A,z]=l.useState(!1);l.useEffect(()=>{s&&(t?(m(t.partNo||""),u(t.uniqueNo||""),c(t.suffixCode||""),p(t.partName||t.name||""),f(t.parentPartNo||""),N(t.suppCode||t.supplierId||""),x(t.supplierName||""),g(t.supplierAddress||""),S(t.plantCode||""),q(t.uniqueNo2||""),M(t.childParts||[]),O(!1),_({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:""})):(m(""),u(""),c(""),p(""),f(""),N(""),x(""),g(""),S(""),q(""),M([]),O(!1),_({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:""})))},[s,t]);function E(W){M(H=>H.filter((G,B)=>B!==W))}function D(){if(!n.trim()){alert("Please enter Part No");return}const W={partNo:n,uniqueNo:h,suffixCode:d,partName:r,parentPartNo:i,suppCode:P,supplierName:k,supplierAddress:j,plantCode:v,uniqueNo2:L,childParts:I.slice()};o(W)}function w(W){W&&f(W.partNo),U(!1)}function Y(W){W&&(N(W.code),x(W.name),g(W.address)),z(!1)}function J(W){if(W&&W.length>0){const H=W.map(G=>({partNo:G.partNo||G[0]||"",suffix:G.suffix||G[1]||"",uniqueNo:G.uniqueNo||"",name:G.name||G[2]||"",parent:G.parent||"",supplierId:G.supplierId||"",supplierName:G.supplierName||G[3]||""}));M(G=>[...G,...H])}U(!1)}return s?e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:W=>{W.target===W.currentTarget&&a()},children:[e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:980},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Part New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6 d-flex",children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{className:"form-control form-control-sm mb-1",value:n,onChange:Q(m)})]}),e.jsxs("div",{style:{width:"30%",marginLeft:8},children:[e.jsx("label",{className:"small mb-1",children:"Suffix Code"}),e.jsx("input",{className:"form-control form-control-sm mb-1",value:d,onChange:Q(c)})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Parent Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:i,onChange:Q(f)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>{se("parent"),U(!0)},children:e.jsx("i",{className:"fas fa-search"})})})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Unique No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:Q(u)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>alert("Flash/Generate Unique No"),children:e.jsx("i",{className:"fas fa-bolt"})})})]})]}),e.jsx("div",{className:"form-group col-md-6"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:P,onChange:Q(N)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>z(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",value:k,readOnly:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Address"}),e.jsx("input",{className:"form-control form-control-sm",value:j,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Plant Code"}),e.jsx("input",{className:"form-control form-control-sm",value:v,readOnly:!0})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{se("child"),U(!0)},children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Child Part"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Unique No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Supplier ID"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{style:{width:90},children:"Action"})]})}),e.jsx("tbody",{children:I.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-4 text-muted",children:"No Data Found"})}):I.map((W,H)=>e.jsxs("tr",{children:[e.jsx("td",{children:H+1}),e.jsx("td",{children:W.partNo}),e.jsx("td",{children:W.suffix}),e.jsx("td",{children:W.uniqueNo}),e.jsx("td",{children:W.name}),e.jsx("td",{children:W.parent}),e.jsx("td",{children:W.supplierId}),e.jsx("td",{children:W.supplierName}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>E(H),children:e.jsx("i",{className:"fas fa-trash"})})})]},H))})]})})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:D,children:[e.jsx("i",{className:"fas fa-save mr-1"})," Save"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:a,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]}),T&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(Me,{show:T,mode:ee==="parent"?"single":"multi",onClose:()=>U(!1),onSelect:ee==="parent"?w:J})}),A&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(us,{show:A,onClose:()=>z(!1),onSelect:Y})}),e.jsx("style",{children:`
        .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 2000; display:flex; align-items:center; justify-content:center; padding:1rem; }
        .np-modal { width: 100%; max-height: 95vh; overflow: auto; z-index: 2001; }
        .table-sm td, .table-sm th { vertical-align: middle; }
      `})]}):null}function Ks({show:s=!1,onClose:a=()=>{},onConfirm:o=()=>{},title:t="Confirmation",message:n="Are you sure?"}){return s?e.jsxs("div",{className:"modal-backdrop",children:[e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t}),e.jsx("button",{type:"button",className:"close",onClick:a,children:e.jsx("span",{children:"×"})})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:n})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:o,children:"Delete"})]})]})}),e.jsx("style",{jsx:!0,children:`
        .modal-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1050;
        }
        .modal-dialog {
          width: 500px;
        }
      `})]}):null}function da(){const[s,a]=l.useState(""),[o,t]=l.useState(""),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(""),[i,f]=l.useState([]),[P,N]=l.useState([]),[k,x]=l.useState(!1),[j,g]=l.useState(null),[v,S]=l.useState(!1),[L,q]=l.useState(null),[I,M]=l.useState(!1),[C,O]=l.useState(null),[y,_]=l.useState(!1),[T,U]=l.useState(10),[ee,se]=l.useState(1),A=P.length;l.useEffect(()=>{fetch("/parts.json").then($=>$.json()).then($=>{const X=$.map((te,re)=>({id:re,partNo:te.part_no,name:te.part_name,partName:te.part_name,supplierName:te.supplier_name,supplierId:te.supplier_code,suppCode:te.supplier_code,childParts:te.sub_part||[],suffix:"00",uniqueNo:`UN-00${re+1}`,parentPartNo:null}));f(X),N([])}).catch($=>console.error("Error fetching parts data:",$))},[]);function z(){if(!s&&!o&&!n&&!h&&!d&&!r){N([...i].reverse()),se(1);return}let X=i.filter(te=>{const re=!s||te.partNo.toLowerCase().includes(s.toLowerCase()),de=!o||te.uniqueNo&&te.uniqueNo.toLowerCase().includes(o.toLowerCase()),xe=!n||te.supplierId&&te.supplierId.toLowerCase().includes(n.toLowerCase())||te.suppCode&&te.suppCode.toLowerCase().includes(n.toLowerCase()),be=!h||te.supplierName.toLowerCase().includes(h.toLowerCase()),ge=!d||te.parentPartNo&&te.parentPartNo.toLowerCase().includes(d.toLowerCase()),we=!r||r==="Yes"&&te.childParts&&te.childParts.length>0||r==="No"&&(!te.childParts||te.childParts.length===0);return re&&de&&xe&&be&&ge&&we});N(X),se(1)}function E(){a(""),t(""),m(""),u(""),c(""),p(""),N([]),se(1)}function D(){g(null),x(!0)}function w(){g(null),x(!1)}function Y($){if(j){const X=i.map(re=>re.id===j.id?{...re,...$}:re);f(X);const te=P.map(re=>re.id===j.id?{...re,...$}:re);N(te)}else{const X={...$,id:i.length};f(te=>[X,...te])}x(!1),g(null)}function J($){g($),x(!0)}function W(){alert("Upload placeholder")}function H(){alert("Template placeholder")}function G($){q($),S(!0)}function B(){if(L){const $=i.filter(te=>te.id!==L.id);f($);const X=P.filter(te=>te.id!==L.id);N(X),q(null)}S(!1)}function R($){se($)}function F($){O($),M(!0)}function b($){if(!$){M(!1),O(null);return}const X=Array.isArray($)?$[0]:$;if(!X){M(!1),O(null);return}const te=X.partNo??X.part_number??X.code??"",re=X.partNo??X.partNoParent??X.parentPartNo??"";C==="partNo"?a(te):C==="parentPart"&&c(re||te),M(!1),O(null)}function V($){$&&(m($.code),u($.name)),_(!1)}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Part List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:D,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Part"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:W,title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:H,title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:s,onChange:Q(a),placeholder:"Part No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Pick Part",onClick:()=>F("partNo"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Unique No"}),e.jsx("input",{className:"form-control form-control-sm",value:o,onChange:Q(t),placeholder:"Unique No"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:n,onChange:Q(m),placeholder:"Supplier ID"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Supplier",onClick:()=>_(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",value:h,onChange:Q(u),placeholder:"Supplier Name"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Parent Part"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:d,onChange:Q(c),placeholder:"Parent Part"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Pick Parent Part",onClick:()=>F("parentPart"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Has Subparts?"}),e.jsxs("select",{className:"form-control form-control-sm",value:r,onChange:$=>p($.target.value),children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})})]}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:z,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:E,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx("div",{className:"table-responsive mb-3",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Unique No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Parent Part No"}),e.jsx("th",{children:"Subparts"}),e.jsx("th",{style:{width:110},children:"Action"})]})}),e.jsx("tbody",{children:P.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"text-center py-4 text-muted",children:"No Data Found"})}):P.slice((ee-1)*T,ee*T).map(($,X)=>e.jsxs("tr",{children:[e.jsx("td",{children:(ee-1)*T+X+1}),e.jsx("td",{children:$.partNo}),e.jsx("td",{children:$.suffixCode??$.suffix}),e.jsx("td",{children:$.uniqueNo}),e.jsx("td",{children:$.partName??$.name}),e.jsx("td",{children:$.suppCode??$.supplierId}),e.jsx("td",{children:$.supplierName}),e.jsx("td",{children:$.parentPartNo??$.parent}),e.jsx("td",{children:$.childParts?$.childParts.length:$.subparts?$.subparts.length:0}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>J($),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>G($),children:e.jsx("i",{className:"fas fa-trash"})})]})]},X))})]})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>R(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>R(Math.max(1,ee-1)),children:"<"}),[...Array(Math.max(1,Math.ceil(A/T))).keys()].map($=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${ee===$+1?"btn-primary":"btn-light"}`,onClick:()=>R($+1),children:$+1},$)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>R(Math.min(Math.ceil(A/T)||1,ee+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",A]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[T," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>U(10),children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>U(25),children:"25"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>U(50),children:"50"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})]}),e.jsx(ca,{show:k,onClose:w,onSave:Y,initialData:j}),e.jsx(Ks,{show:v,onClose:()=>S(!1),onConfirm:B,title:"Deletion Confirmation",message:"Do you want to delete this data?"}),e.jsx(Me,{show:I,onClose:()=>{M(!1),O(null)},onSelect:b}),e.jsx(us,{show:y,onClose:()=>_(!1),onSelect:V})]})}const ma=[{code:"5062",name:"MENARA TERUS MAKMUR",address:"Jl. Jababeka XI Blok H-3 No.12, Kawasan Industri Jababeka, Cikarang, Bekasi"},{code:"722E",name:"TOYOTA MOTOR THAILAND",address:"186/1 Moo 1, Old Railway Road, Samrong Tai, Phra Pradaeng, Samut Prakan 10130, Thailand"},{code:"5453",name:"VELASTO INDONESIA",address:"Kp. Nagrog RT04 / RW02 Desa Kertamukti, Kecamatan Campaka, Purwakarta, Jawa Barat"},{code:"5365",name:"TOKAI RUBBER INDONESIA",address:"Jl. Mitra Timur II Blok E No. 13-14, Parungmulya, Ciampel, Karawang, Jawa Barat"},{code:"5150",name:"NAMICOH INDONESIA",address:"EJIP Industrial Park, Plot 6B-1, Cikarang Selatan, Bekasi, Jawa Barat"},{code:"5028",name:"GARUDA METAL UTAMA",address:"Jl. Kapuk Kamal Raya No.28, RT.6/RW.2, Kamal Muara, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14470"},{code:"5335",name:"DINAR MAKMUR",address:"Jl. Raya Serang No.KM. 78, RW.3, Cijeruk, Kec. Kibin, Kabupaten Serang, Banten 42185"},{code:"5006",name:"NUSAHADI CITRAHARMONIS",address:"Jl. Raya Bekasi No.KM. 28, RT.005/RW.004, Medan Satria, Kecamatan Medan Satria, Kota Bks, Jawa Barat 17132"},{code:"5151",name:"SAKURA JAVA INDONESIA",address:"Kawasan Industri EJIP, Plot 8C/D, Cikarang Selatan, Bekasi, Jawa Barat 17530"},{code:"5010",name:"3 M INDONESIA",address:"Perkantoran Hijau Arkadia, Tower F, 8th Floor, Jl. TB Simatupang No.Kav. 88, RT.1/RW.1, Kebagusan, Ps. Minggu, Kota Jakarta Selatan, Daerah Khusus Ibukota Jakarta 12520"},{code:"5002",name:"ASALTA MANDIRI AGUNG",address:"Jl. Pulo Buaran Raya No.1A, RT.1/RW.8, Pulo Gadung, Kota Jakarta Timur, Daerah Khusus Ibukota Jakarta 13930"}];function ua({show:s=!1,onClose:a=()=>{},onSave:o=()=>{},initialData:t=null}){const[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState("");l.useEffect(()=>{s&&(t?(m(t.code||""),u(t.name||""),c(t.address||"")):(m(""),u(""),c("")))},[s,t]);function r(){if(!n.trim()||!h.trim()){alert("Please enter Supplier Code and Name");return}o({code:n,name:h,address:d})}return s?e.jsxs("div",{className:"modal-backdrop",children:[e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t?"Edit Supplier":"Add Supplier"}),e.jsx("button",{type:"button",className:"close",onClick:a,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control",value:n,onChange:Q(m),readOnly:!!t})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier Name"}),e.jsx("input",{type:"text",className:"form-control",value:h,onChange:Q(u)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("textarea",{className:"form-control",rows:"3",value:d,onChange:p=>c(p.target.value)})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Save"})]})]})}),e.jsx("style",{jsx:!0,children:`
        .modal-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1050;
        }
        .modal-dialog {
          width: 500px;
        }
      `})]}):null}function ha(){const[s,a]=l.useState([]),[o,t]=l.useState([]),[n,m]=l.useState(""),[h,u]=l.useState(""),[d,c]=l.useState(""),[r,p]=l.useState(!1),[i,f]=l.useState(null),[P,N]=l.useState(!1),[k,x]=l.useState(null),[j,g]=l.useState(1),[v,S]=l.useState(5);l.useEffect(()=>{const T=ma.map((U,ee)=>({...U,id:ee}));a(T),t([])},[]);function L(){let T=s.filter(U=>(!n||U.code.toLowerCase().includes(n.toLowerCase()))&&(!h||U.name.toLowerCase().includes(h.toLowerCase()))&&(!d||U.address.toLowerCase().includes(d.toLowerCase())));t(T),g(1)}function q(){m(""),u(""),c(""),t([]),g(1)}function I(){f(null),p(!0)}function M(T){f(T),p(!0)}function C(T){if(i){const U=s.map(ee=>ee.id===i.id?{...i,...T}:ee);a(U),t(U)}else{const ee=[{...T,id:s.length},...s];a(ee),t(ee)}p(!1),f(null)}function O(T){x(T),N(!0)}function y(){if(k){const T=s.filter(U=>U.id!==k.id);a(T),t(T),x(null)}N(!1)}const _=o.slice((j-1)*v,j*v);return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Supplier List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{className:"btn btn-sm btn-success mr-2",onClick:I,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Add Supplier"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Upload placeholder"),title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Template placeholder"),title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:Q(m),placeholder:"Supplier Code"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:h,onChange:Q(u),placeholder:"Supplier Name"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Address"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:d,onChange:T=>c(T.target.value),placeholder:"Address"})]})})}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-right",children:[e.jsxs("button",{className:"btn btn-sm btn-primary mr-2",onClick:L,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{className:"btn btn-sm btn-outline-secondary",onClick:q,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Address"}),e.jsx("th",{style:{width:110},children:"Action"})]})}),e.jsx("tbody",{children:_.length>0?_.map((T,U)=>e.jsxs("tr",{children:[e.jsx("td",{children:(j-1)*v+U+1}),e.jsx("td",{children:T.code}),e.jsx("td",{children:T.name}),e.jsx("td",{children:T.address}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>M(T),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>O(T),children:e.jsx("i",{className:"fas fa-trash"})})]})]},T.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-muted",children:"No Data Found"})})})]})}),e.jsx(Fe,{currentPage:j,totalItems:o.length,itemsPerPage:v,onPageChange:g,onItemsPerPageChange:S})]})]}),e.jsx(ua,{show:r,onClose:()=>p(!1),onSave:C,initialData:i}),e.jsx(Ks,{show:P,onClose:()=>N(!1),onConfirm:y,title:"Deletion Confirmation",message:"Do you want to delete this data?"})]})}function xa(){const s=Oe(),a=()=>{window.confirm("Are you sure you want to clear all saved data?")&&(localStorage.clear(),alert("All data cleared!"),s("/"))};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Settings"})})}),e.jsx("div",{className:"card-body",children:e.jsx("button",{className:"btn btn-danger",onClick:a,children:"Clear All Data"})})]})})}function pa({onSave:s}){const[a,o]=l.useState("inland"),[t,n]=l.useState("02.2025"),[m,h]=l.useState("47.7"),[u,d]=l.useState("86.177"),[c,r]=l.useState("86.177"),[p,i]=l.useState("60.577"),[f,P]=l.useState("64"),[N,k]=l.useState("86.177"),[x,j]=l.useState("106.835"),[g,v]=l.useState("63.249"),[S,L]=l.useState("1"),[q,I]=l.useState("0,31"),[M,C]=l.useState("6"),[O,y]=l.useState("0,31"),[_,T]=l.useState("5,83"),[U,ee]=l.useState(""),[se,A]=l.useState("0,60"),[z,E]=l.useState("5"),[D,w]=l.useState(!1),Y=()=>{const H={tab:a,inland:{period:t,containerM3:m,rent40ft:u,rent20ft:c,milkrunRate:p,milkrunEff:f},labor:{period:t,dlRate:N,idlRate:x,facilityRate:g},manHour:{period:t,receiving:S,inspection:q,deliveryCourse:M,supplyPallet:O,sortingSupply:_,pickPacking:U,vanning:se,emptyBox:z}};w(!0),typeof s=="function"&&s(H),setTimeout(()=>w(!1),1500)},J=()=>{n("02.2025"),h("47.7"),d("86.177"),r("86.177"),i("60.577"),P("64"),k("86.177"),j("106.835"),v("63.249"),L("1"),I("0,31"),C("6"),y("0,31"),T("5,83"),ee(""),A("0,60"),E("5")},W="form-control form-control-sm";return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Parameters"})}),e.jsx("div",{className:"ml-auto btn-group btn-group-sm",children:["inland","labor","manHour","history"].map(H=>e.jsxs("button",{className:`btn btn-sm ${a===H?"btn-primary":"btn-outline-secondary"}`,onClick:()=>o(H),children:[H==="inland"&&"Inland",H==="labor"&&"Labor Cost",H==="manHour"&&"Man Hour",H==="history"&&"History"]},H))})]}),e.jsxs("div",{className:"card-body",children:[a==="inland"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:W,value:t,onChange:H=>n(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Container Volume M3"}),e.jsx("input",{className:W,value:m,onChange:H=>h(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"40 feet container rent rate"}),e.jsx("input",{className:W,value:u,onChange:H=>d(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"20 feet container rent rate"}),e.jsx("input",{className:W,value:c,onChange:H=>r(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Milkrun rate (per m3)"}),e.jsx("input",{className:W,value:p,onChange:H=>i(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Milkrun efficiency rate (%)"}),e.jsx("input",{className:W,value:f,onChange:H=>P(H.target.value)})]})]}),a==="labor"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:W,value:t,onChange:H=>n(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Direct Labor Rate (DL) Rp/Hour"}),e.jsx("input",{className:W,value:N,onChange:H=>k(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Indirect Labor Rate (IDL) Rp/M3"}),e.jsx("input",{className:W,value:x,onChange:H=>j(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Facility Others Rate"}),e.jsx("input",{className:W,value:g,onChange:H=>v(H.target.value)})]})]}),a==="manHour"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:W,value:t,onChange:H=>n(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Receiving"}),e.jsx("input",{className:W,value:S,onChange:H=>L(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Inspection"}),e.jsx("input",{className:W,value:q,onChange:H=>I(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Delivery Course"}),e.jsx("input",{className:W,value:M,onChange:H=>C(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Supply (Pallet)"}),e.jsx("input",{className:W,value:O,onChange:H=>y(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Sorting & Supply (Non Pallet)"}),e.jsx("input",{className:W,value:_,onChange:H=>T(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Pick & Packing"}),e.jsx("input",{className:W,value:U,onChange:H=>ee(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Vanning"}),e.jsx("input",{className:W,value:se,onChange:H=>A(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Empty Box/Pallet Return"}),e.jsx("input",{className:W,value:z,onChange:H=>E(H.target.value)})]})]}),a==="history"&&e.jsx("div",{className:"text-center text-muted py-4",children:"History tab content will appear here."})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-primary mr-2",onClick:Y,children:"Save"}),e.jsx("button",{className:"btn btn-secondary",onClick:J,children:"Cancel"}),D&&e.jsx("span",{className:"ml-3 text-success",children:"Parameters saved"})]})]})})}function ja(){const s=Oe(),a=()=>{s(-1)};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Notification Detail"}),e.jsx("div",{className:"card-tools",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:a,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date :"})," 20 Feb 2025 13:10"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"From :"})," Jonathan Hairi"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dept :"})," PPMD"]}),e.jsx("hr",{}),e.jsx("p",{children:"Harus diganti Qty menjadi 2"}),e.jsx("p",{children:"Agar lebih aman ketika dikirim ke supplier lain"}),e.jsx("p",{children:"dan diganti Material No nya dengan Mat No : #12312312 00"}),e.jsx("p",{children:"dari supplier Materindo Indigo"})]})]})})}function Ne({children:s}){return Ie().user?s:e.jsx(ft,{to:"/login",replace:!0})}function fa(){const s=Ie(),o=As().pathname==="/login",t=!!s.user&&!o;return e.jsxs("div",{className:"wrapper",children:[t&&e.jsx(Jl,{}),t&&e.jsx(zl,{}),e.jsx("div",{className:t?"content-wrapper":"",children:e.jsxs(jt,{children:[e.jsx(fe,{path:"/login",element:e.jsx(Xl,{})}),e.jsx(fe,{path:"/",element:e.jsx(Ne,{children:e.jsx(Na,{})})}),e.jsx(fe,{path:"/projects",element:e.jsx(Ne,{children:e.jsx(aa,{})})}),e.jsx(fe,{path:"/models",element:e.jsx(Ne,{children:e.jsx(ia,{})})}),e.jsx(fe,{path:"/parts",element:e.jsx(Ne,{children:e.jsx(da,{})})}),e.jsx(fe,{path:"/suppliers",element:e.jsx(Ne,{children:e.jsx(ha,{})})}),e.jsx(fe,{path:"/packing/cps",element:e.jsx(Ne,{children:e.jsx(ml,{})})}),e.jsx(fe,{path:"/packing/dpi",element:e.jsx(Ne,{children:e.jsx(El,{})})}),e.jsx(fe,{path:"/packing/CalculatePackingCost",element:e.jsx(Ne,{children:e.jsx(ql,{})})}),e.jsx(fe,{path:"/packing/ComparisonPage",element:e.jsx(Ne,{children:e.jsx(Kl,{})})}),e.jsx(fe,{path:"/module-type",element:e.jsx(Ne,{children:e.jsx(Is,{})})}),e.jsx(fe,{path:"/material",element:e.jsx(Ne,{children:e.jsx(Is,{})})}),e.jsx(fe,{path:"/settings",element:e.jsx(Ne,{children:e.jsx(xa,{})})}),e.jsx(fe,{path:"/params",element:e.jsx(Ne,{children:e.jsx(pa,{})})}),e.jsx(fe,{path:"/notification-detail",element:e.jsx(Ne,{children:e.jsx(ja,{})})})]})}),t&&e.jsxs("footer",{className:"main-footer",children:[e.jsxs("div",{className:"float-right d-none d-sm-block",children:[e.jsx("b",{children:"Version"})," 0.1.0"]}),e.jsxs("strong",{children:["© ",new Date().getFullYear()," My Company."]})]})]})}function Na(){var a,o,t;const s=Ie();return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-sm-6",children:[e.jsx("h1",{children:"Dashboard"}),e.jsxs("small",{children:["User: ",(a=s.user)==null?void 0:a.username," | Dept: ",(o=s.user)==null?void 0:o.department," | Role: ",(t=s.user)==null?void 0:t.role]})]})})})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"container-fluid",children:e.jsx(Zl,{})})})]})}const ba="/packing-cost-fe/";xt(document.getElementById("root")).render(e.jsx(Se.StrictMode,{children:e.jsx(pt,{basename:ba,children:e.jsx(Tt,{children:e.jsx(fa,{})})})}));
