import{r as a,j as e,R as de}from"./react-JHr-MqlU.js";import{R as ws,c as ut}from"./react-dom-ByPjVLjt.js";import{N as ie,B as ht}from"./react-router-dom-C8MBRXQb.js";import{c as Ie,a as Ps,d as xt,e as re,f as pt}from"./react-router-CrFtL5GL.js";import{M as jt,a as ft,b as Nt,c as bt,B as vs,F as gt,L as vt,I as Ct}from"./reactstrap-Sv9f_Q5O.js";import{B as yt}from"./react-chartjs-2-B_DtYEyI.js";import{C as St,a as wt,L as Pt,b as kt,p as It,c as _t,d as At}from"./chart.js-zNwYC2Re.js";import"./classnames-C9FZUsQl.js";import"./scheduler-DYLXRpC5.js";import"./@remix-run-TLZCGUFM.js";import"./prop-types-ZMHxiqrO.js";import"./react-transition-group-Bm7DLXUO.js";import"./@babel-G6YR9G09.js";import"./@kurkle-D8fDXNIl.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&t(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(n){if(n.ep)return;n.ep=!0;const d=o(n);fetch(n.href,d)}})();const me={ADMIN:"admin",ENGINEER:"engineer",PROCUREMENT:"procurement",VIEWER:"viewer"},fe={PSE:"PSE",PCD:"PCD"},Cs={[fe.PSE]:{[me.ADMIN]:{general:{visible:!0,editable:!0},pse:{visible:!0,editable:!0},packing:{visible:!0,editable:!0},images:{visible:!0,editable:!0},logistic:{visible:!0,editable:!0}},[me.ENGINEER]:{general:{visible:!0,editable:!0},pse:{visible:!0,editable:!0},packing:{visible:!0,editable:!0},images:{visible:!0,editable:!0},logistic:{visible:!1,editable:!1}},[me.VIEWER]:{general:{visible:!0,editable:!1},pse:{visible:!0,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!1,editable:!1}}},[fe.PCD]:{[me.PROCUREMENT]:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!0,editable:!0}},[me.VIEWER]:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!0,editable:!1}}},default:{general:{visible:!0,editable:!1},pse:{visible:!1,editable:!1},packing:{visible:!0,editable:!1},images:{visible:!0,editable:!1},logistic:{visible:!1,editable:!1}}},ks=a.createContext(null),Mt=[{username:"khedi.asmoro",password:"1",department:fe.PSE,role:me.ADMIN},{username:"ujang.jayadi",password:"1",department:fe.PSE,role:me.ENGINEER},{username:"anton",password:"1",department:fe.PSE,role:me.ENGINEER},{username:"hanifa",password:"2",department:fe.PCD,role:me.PROCUREMENT},{username:"viewer.pse",password:"1",department:fe.PSE,role:me.VIEWER},{username:"viewer.pcd",password:"1",department:fe.PCD,role:me.VIEWER}];function Dt({children:s}){const[l,o]=a.useState(null),t=Ie(),n=(p,u)=>{const r=Mt.find(m=>m.username===p&&m.password===u);if(r){const{password:m,...i}=r;return o(i),t("/"),!0}else return!1},d=()=>{o(null),t("/login")};return e.jsx(ks.Provider,{value:{user:l,login:n,logout:d},children:s})}function Ne(){return a.useContext(ks)}const Lt=({filters:s,setters:l,onSearch:o,onClear:t,onPersonPicker:n,destinations:d})=>{const p=r=>{const m=r.target.value;l.setDestCode(m);const i=d.find(x=>x.destCode===m);i?l.setDestCountry(`${i.code} - ${i.country}`):l.setDestCountry("")},u=[...new Set(d.map(r=>r.destCode))];return e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CPS/PSI/ECI No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.cpsNo,onChange:r=>l.setCpsNo(r.target.value),placeholder:"CPS/PSI/ECI No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CFC/Model"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.model,onChange:r=>l.setModel(r.target.value),placeholder:"Model"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("select",{className:"form-control form-control-sm mr-2",value:s.destCode,onChange:p,children:[e.jsx("option",{value:"",children:"Select Dest Code"}),u.map(r=>e.jsx("option",{value:r,children:r},r))]}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.destCountry,readOnly:!0,placeholder:"Country Code - Country"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Part No - Part Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm mr-2",value:s.partNo,onChange:r=>l.setPartNo(r.target.value),placeholder:"Part No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.partName,readOnly:!0,placeholder:"Part Name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"From"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.fromUser,onChange:r=>l.setFromUser(r.target.value),placeholder:"From"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Ref CPS No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.refCpsNo,onChange:r=>l.setRefCpsNo(r.target.value),placeholder:"Ref CPS No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.cfcPjt,onChange:r=>l.setCfcPjt(r.target.value),placeholder:"CFC/PJT"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"CPS/PSI/ECI Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:s.cpsPsiEci,onChange:r=>l.setCpsPsiEci(r.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"CPS",children:"CPS"}),e.jsx("option",{value:"PSI",children:"PSI"}),e.jsx("option",{value:"ECI",children:"ECI"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code - Supplier Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm mr-2",value:s.supplierCode,readOnly:!0,placeholder:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.supplierName,readOnly:!0,placeholder:"Supplier Name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"To"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.toUser,onChange:r=>l.setToUser(r.target.value),placeholder:"To"})]})]})]}),e.jsx("div",{className:"row mt-2",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mr-2",onClick:o,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:t,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})})]})};function _e({currentPage:s,totalPages:l,totalItems:o,pageSize:t,onPageChange:n,className:d=""}){const p=()=>{if(l<=1)return null;const u=[],r=5;let m=Math.max(1,s-Math.floor(r/2)),i=Math.min(l,m+r-1);i-m+1<r&&(m=Math.max(1,i-r+1)),m>1&&(u.push(e.jsx("button",{className:`btn btn-sm ${s===1?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(1),children:"1"},1)),m>2&&u.push(e.jsx("span",{className:"mx-1",children:"..."},"start-ellipsis")));for(let x=m;x<=i;x++)u.push(e.jsx("button",{className:`btn btn-sm ${s===x?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(x),children:x},x));return i<l&&(i<l-1&&u.push(e.jsx("span",{className:"mx-1",children:"..."},"end-ellipsis")),u.push(e.jsx("button",{className:`btn btn-sm ${s===l?"btn-primary":"btn-outline-primary"} mr-1`,onClick:()=>n(l),children:l},l))),u};return l<=1?null:e.jsxs("div",{className:`d-flex justify-content-between align-items-center mt-3 bg-light p-2 border rounded ${d}`,children:[e.jsxs("div",{className:"small text-muted",children:["Showing ",(s-1)*t+1," to ",Math.min(s*t,o)," of ",o," entries"]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary mr-2",disabled:s===1,onClick:()=>n(1),children:e.jsx("i",{className:"fas fa-angle-double-left"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary mr-2",disabled:s===1,onClick:()=>n(s-1),children:e.jsx("i",{className:"fas fa-angle-left"})}),p(),e.jsx("button",{className:"btn btn-sm btn-outline-secondary ml-2",disabled:s===l,onClick:()=>n(s+1),children:e.jsx("i",{className:"fas fa-angle-right"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary ml-2",disabled:s===l,onClick:()=>n(l),children:e.jsx("i",{className:"fas fa-angle-double-right"})})]})]})}function Tt({filteredCps:s,page:l,perPage:o,setPage:t,setPerPage:n,onEdit:d}){const p=s.slice((l-1)*o,l*o),u=r=>r.includes("CPS")?"CPS":r.includes("PCI")?"PCI":r.includes("ECI")?"ECI":"";return e.jsxs("div",{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{fontSize:"10pt"},children:"No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"CPS/PCI/ECI No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Type"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Ref CPS No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Part No"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Project Code"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Model"}),e.jsx("th",{style:{fontSize:"10pt"},children:"From"}),e.jsx("th",{style:{fontSize:"10pt"},children:"To"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Status"}),e.jsx("th",{style:{fontSize:"10pt"},children:"Submit Date"}),e.jsx("th",{style:{width:160},children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"12",className:"text-center py-4 text-muted",children:"No Data Found"})}):p.map((r,m)=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:"10pt"},children:(l-1)*o+m+1}),e.jsx("td",{style:{fontSize:"10pt"},children:r.cpsNo}),e.jsx("td",{style:{fontSize:"10pt"},children:u(r.cpsNo)}),e.jsx("td",{style:{fontSize:"10pt"},children:r.refCpsNo}),e.jsx("td",{style:{fontSize:"10pt"},children:r.partNo}),e.jsx("td",{style:{fontSize:"10pt"},children:r.cfcPjtCode}),e.jsx("td",{style:{fontSize:"10pt"},children:r.model}),e.jsx("td",{style:{fontSize:"10pt"},children:r.fromUser}),e.jsx("td",{style:{fontSize:"10pt"},children:r.toUser}),e.jsx("td",{style:{fontSize:"10pt"},children:r.status}),e.jsx("td",{style:{fontSize:"10pt"},children:r.issueDate}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>alert("View placeholder"),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-info mr-1",onClick:()=>d(r),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Clone placeholder"),children:e.jsx("i",{className:"fas fa-clone"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>alert("Delete placeholder"),children:e.jsx("i",{className:"fas fa-trash"})})]})]},m))})]})}),e.jsx(_e,{currentPage:l,totalItems:s.length,itemsPerPage:o,onPageChange:t,onItemsPerPageChange:r=>{n(r),t(1)}})]})}function Et({current:s,partNoQuery:l,partNameQuery:o,supplierQuery:t,onPartNoChange:n,onPartNameChange:d,onSupplierChange:p,onGo:u}){return e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("h5",{className:"mb-0 mr-3",children:"Select part"})}),e.jsxs("div",{className:"row mt-2",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Part No",value:l,onChange:r=>n(r.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Part Name"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Part Name",value:o,onChange:r=>d(r.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"Enter Supplier Name",value:t,onChange:r=>p(r.target.value)})]}),e.jsx("div",{className:"col-md-3 d-flex align-items-end",children:e.jsx("button",{className:"btn btn-sm btn-primary w-100",type:"button",onClick:u,children:"Go"})})]})]})}function Is({count:s=1,isPseUser:l}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsxs(de.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty"}),!l&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Price"}),!l&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Sum"})]},`matLeafHdr-${t}`))})}function _s({arr:s=[],count:l=1,isPseUser:o}){debugger;return e.jsx(e.Fragment,{children:Array.from({length:l}).map((t,n)=>{const d=s[n]||{};return e.jsxs(de.Fragment,{children:[e.jsx("td",{className:"align-middle",children:d.materialNo??"-"}),e.jsx("td",{className:"text-right",children:d.qty??"-"}),!o&&e.jsx("td",{className:"text-right",children:d.price??"-"}),!o&&e.jsx("td",{className:"text-right",children:d.sum??"-"})]},`matLeafData-${n}`)})})}function Rt({count:s=10,isPseUser:l}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsx("th",{colSpan:l?2:4,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:t===0?"Box":`Inner ${t}`},`innerGroupHdr-${t}`))})}function Ot({count:s=10,isPseUser:l}){return e.jsx(Is,{count:s,isPseUser:l})}function As({data:s=[],count:l=10,isPseUser:o}){return e.jsx(_s,{arr:s,count:l,isPseUser:!0})}function Ft({count:s=1}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((l,o)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:2,children:o===0?"Module":`Outer ${o}`},`outerGrp-${o}`))})}function Wt({count:s=10,isPseUser:l}){return e.jsx(Is,{count:s,isPseUser:l})}function Ms({data:s=[],count:l=10,isPseUser:o}){debugger;return e.jsx(_s,{arr:s,count:l,isPseUser:o})}function Bt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Inner"}),e.jsx("th",{className:"align-middle",children:"Outer"}),e.jsx("th",{className:"align-middle",children:"Material"}),e.jsx("th",{className:"align-middle",children:"Labor"}),e.jsx("th",{className:"align-middle",children:"Inland"})]})}function Ds({data:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.subTotalInner??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalOuter??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalMaterial??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalLabor??"-"}),e.jsx("td",{className:"align-middle",children:s.subTotalInland??"-"})]})}function Ht(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Receiving"}),e.jsx("th",{className:"align-middle",children:"Inspection"}),e.jsx("th",{className:"align-middle",children:"Dlvr Course"}),e.jsx("th",{className:"align-middle",children:"Pallet Supply"}),e.jsx("th",{className:"align-middle",children:"Binding"}),e.jsx("th",{className:"align-middle",children:"Sort & Supply"}),e.jsx("th",{className:"align-middle",children:"Pick & Packing"}),e.jsx("th",{className:"align-middle",children:"Vanning"}),e.jsx("th",{className:"align-middle",children:"Box/Valet Rtrn"}),e.jsx("th",{className:"align-middle",children:"Mix Van"}),e.jsx("th",{className:"align-middle",children:"Lashing"}),e.jsx("th",{className:"align-middle",children:"Total Time Req"}),e.jsx("th",{className:"align-middle",children:"Others"})]})}function Ut(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle",children:"Current"}),e.jsx("th",{className:"align-middle",children:"DL"}),e.jsx("th",{className:"align-middle",children:"IDL"}),e.jsx("th",{className:"align-middle",children:"Facility Others"})]})}function Ls({labor:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.receiving??"-"}),e.jsx("td",{className:"align-middle",children:s.inspection??"-"}),e.jsx("td",{className:"align-middle",children:s.deliveryCourse??"-"}),e.jsx("td",{className:"align-middle",children:s.palletSupply??"-"}),e.jsx("td",{className:"align-middle",children:s.binding??"-"}),e.jsx("td",{className:"align-middle",children:s.sorting??"-"}),e.jsx("td",{className:"align-middle",children:s.pickPacking??"-"}),e.jsx("td",{className:"align-middle",children:s.vanning??"-"}),e.jsx("td",{className:"align-middle",children:s.boxValetReturn??"-"}),e.jsx("td",{className:"align-middle",children:s.mixVan??"-"}),e.jsx("td",{className:"align-middle",children:s.lashing??"-"}),e.jsx("td",{className:"align-middle",children:s.totalTimeReq??"-"}),e.jsx("td",{className:"align-middle",children:s.others??"-"})]})}function Ts({labor:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.laborCostCurrent??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostDL??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostIDL??"-"}),e.jsx("td",{className:"align-middle",children:s.laborCostFacility??"-"})]})}function qt(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Pack Time (V-PASS)"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Inland Cost (m³)"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Diff"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap-middle",children:"Milkrun Cost"})]})}function Es({inland:s={}}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.packTimeVPass??"-"}),e.jsx("td",{className:"align-middle",children:s.costM3??"-"}),e.jsx("td",{className:"align-middle",children:s.diff??"-"}),e.jsx("td",{className:"align-middle",children:s.milkrunCost??"-"})]})}function Rs(s=0,l=0,o=!1){const t=[],n=(u,r)=>t.push({key:u,w:r});n("action",50),n("recNo",80),n("cpsNo",140),n("partNo",160),n("partName",260),n("parentNo",140),n("supplierCode",140),n("supplierName",200),n("weightPerPc",100),n("qtyPerBox",100),o||(n("subInner",120),n("subOuter",120),n("subMaterial",120),n("subLabor",120),n("subInland",120),n("diffPct",100));for(let u=0;u<s;u++)n(`in_matNo_${u}`,100),n(`in_qty_${u}`,50),o||(n(`in_price_${u}`,70),n(`in_sum_${u}`,100));for(let u=0;u<l;u++)n(`out_matNo_${u}`,100),n(`out_qty_${u}`,50),o||(n(`out_price_${u}`,70),n(`out_sum_${u}`,100));o||(n("lab_mh_receiving",90),n("lab_mh_inspection",90),n("lab_mh_deliveryCourse",120),n("lab_mh_palletSupply",110),n("lab_mh_binding",90),n("lab_mh_sorting",120),n("lab_mh_pickPacking",120),n("lab_mh_vanning",90),n("lab_mh_boxValetReturn",120),n("lab_mh_mixVan",90),n("lab_mh_lashing",90),n("lab_mh_totalTimeReq",110),n("lab_mh_others",90),n("lab_cost_direct",90),n("lab_cost_indirect",90),n("lab_cost_subTotal",100),n("lab_cost_costPerPc",110),n("inland_trucking",150),n("inland_clp",120),n("inland_delivery",70),n("inland_total",100));const d=t.reduce((u,r)=>u+r.w,0);return{colGroup:e.jsx("colgroup",{children:t.map((u,r)=>e.jsx("col",{style:{width:`${u.w}px`,minWidth:`${u.w}px`}},`${u.key}-${r}`))}),totalWidth:d,cols:t}}function $t(){return e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Name"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Parent No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Code"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Name"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Weight/pc"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty/Box"})]})}function Os({part:s}){return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"align-middle",children:s.partNo??"-"}),e.jsx("td",{className:"align-middle",children:s.partName??s.name??"-"}),e.jsx("td",{className:"align-middle",children:s.parentNo??"-"}),e.jsx("td",{className:"align-middle",children:s.supplierCode??"-"}),e.jsx("td",{className:"align-middle",children:s.supplierName??"-"}),e.jsx("td",{className:"align-middle",children:s.weightPerPc??"-"}),e.jsx("td",{className:"align-middle",children:s.qtyPerBox??"-"})]})}function Kt({current:s={},scrollRef:l,onScroll:o,isPseUser:t,innerCount:n,outerCount:d}){const p=s.inner||[],u=s.outer||[],r=s.labor||{},m=s.inland||{},{colGroup:i,totalWidth:x}=Rs(n,d,t);return e.jsx("div",{className:"mb-3",children:e.jsx("div",{ref:l,onScroll:o,className:"table-responsive mt-2",style:{overflowX:"auto",overflowY:"hidden"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center table-font-size-10pt",style:{minWidth:`${x}px`,tableLayout:"fixed"},children:[i,e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap"}),e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"No"}),e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"CPS No"}),e.jsx("th",{rowSpan:2,colSpan:7,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Part Info"}),!t&&e.jsx("th",{rowSpan:2,colSpan:5,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Sub Total Costs"}),!t&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Diff (%)"}),e.jsx("th",{colSpan:n*(t?2:4),className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inner Info"}),e.jsx("th",{colSpan:d*(t?2:4),className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Outer Info"}),!t&&e.jsx("th",{colSpan:17,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Labor"}),!t&&e.jsx("th",{colSpan:4,rowSpan:2,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inland"})]}),e.jsxs("tr",{children:[e.jsx(Rt,{count:n,isPseUser:t}),e.jsx(Ft,{count:d,isPseUser:t}),!t&&e.jsx("th",{colSpan:13,className:"align-align-middle border text-center tbl-row1-hdr text-nowrap",children:"Man Hour Requirement"}),!t&&e.jsx("th",{colSpan:4,className:"align-align-middle border text-center tbl-row1-hdr text-nowrap",children:"Labor Cost"})]}),e.jsxs("tr",{children:[e.jsx($t,{}),!t&&e.jsx(Bt,{}),e.jsx(Ot,{count:n,isPseUser:t}),e.jsx(Wt,{count:d,isPseUser:t}),!t&&e.jsx(Ht,{}),!t&&e.jsx(Ut,{}),!t&&e.jsx(qt,{})]})]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{className:"align-middle",children:s.recNo??"-"}),e.jsx("td",{className:"align-middle",children:s.cpsNo??"-"}),e.jsx(Os,{part:s}),!t&&e.jsx(Ds,{data:s}),!t&&e.jsx("td",{className:"align-middle",children:s.diffPct??"-"}),e.jsx(As,{data:p,count:n,isPseUser:t}),e.jsx(Ms,{data:u,count:d,isPseUser:t}),!t&&e.jsx(Ls,{labor:r}),!t&&e.jsx(Ts,{labor:r}),!t&&e.jsx(Es,{inland:m})]})})]})})})}function Vt({filteredParts:s=[],onSelectPart:l,scrollRef:o,onScroll:t,isPseUser:n,innerCount:d,outerCount:p}){const{colGroup:u,totalWidth:r,cols:m}=Rs(d,p,n);return e.jsx("div",{className:"mb-1",children:e.jsx("div",{ref:o,onScroll:t,className:"table-responsive",style:{maxHeight:400,overflowY:"auto",overflowX:"auto"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center table-font-size-10pt",style:{minWidth:`${r}px`,tableLayout:"fixed"},children:[u,e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:m.length,className:"text-center text-muted py-3",children:"No results"})}):s.map((i,x)=>e.jsxs("tr",{children:[e.jsx("td",{className:"align-middle",children:e.jsx("input",{type:"checkbox",onChange:()=>l(i)})}),e.jsx("td",{className:"align-middle",children:i.recNo??"-"}),e.jsx("td",{className:"align-middle",children:i.cpsNo??"-"}),e.jsx(Os,{part:i}),!n&&e.jsx(Ds,{data:i}),!n&&e.jsx("td",{className:"align-middle",children:i.diffPct??"-"}),e.jsx(As,{data:i.inner,count:d,isPseUser:n}),e.jsx(Ms,{data:i.outer,count:p,isPseUser:n}),!n&&e.jsx(Ls,{labor:i.labor}),!n&&e.jsx(Ts,{labor:i.labor}),!n&&e.jsx(Es,{inland:i.inland})]},x))})]})})})}function Gt({isOpen:s=!1,onClose:l=()=>{},parts:o=[],current:t={},onSelectPart:n=()=>{}}){const[d,p]=a.useState(""),[u,r]=a.useState(""),[m,i]=a.useState(""),{user:x}=Ne(),c=x&&x.department==="PSE"&&!["pic","sh","dph"].includes(x.role),j=a.useRef(null),S=a.useRef(null),N=a.useRef(!1),D=(C,O)=>{N.current||(N.current=!0,O.current&&C.current&&(O.current.scrollLeft=C.current.scrollLeft),N.current=!1)},g=a.useMemo(()=>o.filter(C=>{const O=d.trim().toLowerCase(),A=u.trim().toLowerCase(),B=m.trim().toLowerCase(),k=O===""||C.partNo&&C.partNo.toLowerCase().includes(O),L=A===""||C.name&&C.name.toLowerCase().includes(A),w=B===""||C.supplier&&C.supplier.toLowerCase().includes(B);return k&&L&&w}),[o,d,u,m]),f=a.useMemo(()=>{const C=[t,...g];return Math.max(...C.map(O=>{var A;return((A=O.inner)==null?void 0:A.length)||0}))},[t,g]),v=a.useMemo(()=>{const C=[t,...g];return Math.max(...C.map(O=>{var A;return((A=O.outer)==null?void 0:A.length)||0}))},[t,g]);return s?e.jsx("div",{className:"np-modal-backdrop multi-parts-modal",style:{zIndex:3e3},onMouseDown:C=>{C.target===C.currentTarget&&l()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1200,width:"100%",display:"flex",flexDirection:"column",height:"700px",maxHeight:"700px",minHeight:"700px"},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"CPS Comparison"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:l,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsx("div",{className:"card-body",style:{verticalAlign:"top",paddingBottom:0,maxHeight:"fit-content"},children:e.jsx(Et,{current:t,partNoQuery:d,partNameQuery:u,supplierQuery:m,onPartNoChange:p,onPartNameChange:r,onSupplierChange:i,onGo:()=>{}})}),e.jsx("hr",{className:"my-0"}),e.jsxs("div",{className:"card-body",style:{flex:1,display:"flex",flexDirection:"column",paddingTop:"8px",paddingBottom:"8px"},children:[e.jsx(Kt,{current:t,scrollRef:j,onScroll:()=>D(j,S),isPseUser:c,innerCount:f,outerCount:v}),e.jsx("hr",{style:{margin:"8px 0"}}),e.jsx(Vt,{filteredParts:g,onSelectPart:n,scrollRef:S,onScroll:()=>D(S,j),isPseUser:c,innerCount:f,outerCount:v})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:()=>{},children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:l,children:"Close"})]}),e.jsx("style",{children:`
          .multi-parts-modal .np-modal { max-width: 1200px; height: 700px; min-height: 700px; max-height: 700px; }
          .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: flex; align-items: center; justify-content: center; padding: 1rem; }
          .np-modal { width: 100%; height: 700px; min-height: 700px; max-height: 700px; }
          .table-sm td, .table-sm th { vertical-align: middle; white-space: nowrap; }
          .card-body { vertical-align: top; }
        `})]})}):null}const Fs=[["848400K010","SWITCH ASSY, BACK DOOR OPENER","TRI"],["848400K030","SWITCH ASSY, BACK DOOR OPENER","TRI"],["893400K010","COMPUTER ASSY, CLEARANCE WARNING","DSI"],["131110E010","RING, COMPRESSION, NO.1","PT.NTPRI"],["131110E020","RING, COMPRESSION, NO.1","PT.NTPRI"],["256300E010","VALVE ASSY, EGR, NO.2","AISAN NASMOCO INDUSTRI"],["261000E020","BODY ASSY, DIESEL THROTTLE","AISAN NASMOCO INDUSTRI"],["122810Y11000","HANGER, ENGINE, NO.1","SETIA GUNA SEJATI"],["130500Y02000","GEAR ASSY, CAMSHAFT TIMING","DENSO INDONESIA CORPORATION (FAJAR)"],["25051BZ15000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["25051BZ26000","CONVERTER SUB-ASSY, EXHAUST MANIFOLD","FUTABA INDONESIA"],["22030BZ15000","BODY ASSY, THROTTLE W/MOTOR","AISAN NASMOCO INDUSTRI"],["90210T000200","WASHER, SEAL","ARAI RUBBER SEAL INDONESIA"],["90430T002300","GASKET","ARAI RUBBER SEAL INDONESIA"],["111150Y03000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["11115BZ16000","GASKET, CYLINDER HEAD","ASTRA NIPPON GASKET INDONESIA"],["171730Y03000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["17173BZ13000","GASKET, EXHAUST MANIFOLD","ASTRA NIPPON GASKET INDONESIA"],["115110Y04000","CAP, CRANKSHAFT BEARING, NO.1","AT INDONESIA"],["115130Y04000","CAP, CRANKSHAFT BEARING, NO.3","AT INDONESIA"],["16261BZ75000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16261BZ76000","HOSE, WATER BY-PASS, NO.1","CATURINDO AGUNGJAYA RUBBER"],["16264BZ38000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16264BZ39000","HOSE, WATER BY-PASS, NO.2","CATURINDO AGUNGJAYA RUBBER"],["16282BZ11000","HOSE, WATER BY-PASS, NO.5","CATURINDO AGUNGJAYA RUBBER"],["89467BZ02000","SENSOR, AIR FUEL RATIO","DENSO INDONESIA CORPORATION (SIP C)"],["111910Y01000","TUBE, SPARK PLUG","FUJIKINZOKU INDONESIA"],["90406T001100","TUBE, UNION","FUJIKINZOKU INDONESIA"],["90406T001300","TUBE, UNION","FUJIKINZOKU INDONESIA"],["23209BZ10000","INJECTOR SET, FUEL","HITACHI ASTEMO BEKASI POWERTRAIN SYS"],["90466T006100","CLIP, HOSE","INDOCIPTA HASTA PERKASA"],["90466T006200","CLIP, HOSE","INDOCIPTA HASTA PERKASA"],["32101BZ10000","GEAR SUB-ASSY DRIVE PLATE & RING","INTI GANDA PERDANA"],["157080Y04000","NOZZLE SUB-ASSY, OIL","ITOKIN"],["90360T001200","BALL","JTEKT INDONESIA"],["90105T027300","BOLT, FLANGE","MEIDOH INDONESIA"],["90119T044400","BOLT, W/WASHER","MEIDOH INDONESIA"],["9004A1020000","BOLT WASHER BASED HEAD HEXAGON","MEIDOH INDONESIA"]];function Ce({show:s=!1,onClose:l,onSelect:o,zIndex:t=4e3,mode:n="multi"}){function d(y,_,I){const Q=((y+1)*9301+49297)%233280/233280;return Math.floor(_+Q*(I-_+1))}const p=Fs.map((y,_)=>{const I=d(_,50,1400),q=d(_+3,20,600),Q=d(_+7,10,800),se=Number((I*q*Q/1e6).toFixed(3)),H="P"+String(1e5+d(_,1,9999)),Y="S"+String(200+_%999);return{partNo:y[0],partName:y[1],supplierName:y[2],parentPartNo:H,supplierId:Y,L:I,W:q,H:Q,boxM3:se}}),[u,r]=a.useState({partNo:"",partName:"",supplierName:""}),[m,i]=a.useState(n==="multi"?{}:null),[x,c]=a.useState(1),[j,S]=a.useState(10);if(a.useEffect(()=>(s?(r({partNo:"",partName:"",supplierName:""}),i(n==="multi"?{}:null),c(1),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),!s)return null;function N(y){const{name:_,value:I}=y.target;r(q=>({...q,[_]:I})),c(1)}function D(){const y=u.partNo.trim().toLowerCase(),_=u.partName.trim().toLowerCase(),I=u.supplierName.trim().toLowerCase();return p.filter(q=>!(y&&!q.partNo.toLowerCase().includes(y)||_&&!q.partName.toLowerCase().includes(_)||I&&!q.supplierName.toLowerCase().includes(I)))}const g=D(),f=g.length,v=Math.max(1,Math.ceil(f/j)),C=g.slice((x-1)*j,x*j);function O(y){i(n==="multi"?_=>({..._,[y]:!_[y]}):y)}function A(y){if(n!=="multi")return;const _=(x-1)*j,I={};C.forEach((q,Q)=>{I[_+Q]=y}),i(q=>({...q,...I}))}function B(){if(n==="multi"){const y=Object.keys(m).filter(_=>m[_]).map(_=>g[Number(_)]);o&&o(y),l&&l()}else if(m!==null){const y=g[m];o&&o(y),l&&l()}else l&&l()}function k(y){c(Math.min(Math.max(1,y),v))}const L={flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},w={position:"sticky",top:0,zIndex:5,background:"white",padding:"1rem 1rem 0.5rem 1rem",borderBottom:"1px solid #e9ecef"},$={overflow:"auto",padding:"0 1rem 1rem 1rem"};return e.jsx("div",{className:"part-picker-modal-backdrop",style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:t,display:"flex",alignItems:"center",justifyContent:"center"},onMouseDown:y=>{y.target===y.currentTarget&&l()},children:e.jsxs("div",{className:"part-picker-modal",style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.2)",zIndex:t+1,minWidth:600,minHeight:400,position:"relative"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"Select Parts"})}),e.jsx("button",{type:"button",className:"close",onClick:l,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"modal-body",style:L,children:[e.jsx("div",{style:w,children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12 col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{name:"partNo",value:u.partNo,onChange:N,className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Part Name"}),e.jsx("input",{name:"partName",value:u.partName,onChange:N,className:"form-control form-control-sm"})]}),e.jsxs("div",{className:"form-group col-12 col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{name:"supplierName",value:u.supplierName,onChange:N,className:"form-control form-control-sm"})]})]})}),e.jsx("div",{style:$,children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-striped table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:36},children:n==="multi"&&e.jsx("input",{type:"checkbox",onChange:y=>A(y.target.checked)})}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Part Name"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Supplier ID"}),e.jsx("th",{children:"Parent Part No"}),e.jsx("th",{children:"L (mm)"}),e.jsx("th",{children:"W (mm)"}),e.jsx("th",{children:"H (mm)"}),e.jsx("th",{children:"Box M3"})]})}),e.jsx("tbody",{children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"text-center text-muted py-4",children:"No Data Found"})}):C.map((y,_)=>{const I=(x-1)*j+_;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:n==="multi"?e.jsx("input",{type:"checkbox",checked:!!m[I],onChange:()=>O(I)}):e.jsx("input",{type:"radio",name:"part-picker-radio",checked:m===I,onChange:()=>O(I)})}),e.jsx("td",{children:y.partNo}),e.jsx("td",{className:"text-left",children:y.partName}),e.jsx("td",{children:y.supplierName}),e.jsx("td",{children:y.supplierId}),e.jsx("td",{children:y.parentPartNo}),e.jsx("td",{children:y.L}),e.jsx("td",{children:y.W}),e.jsx("td",{children:y.H}),e.jsx("td",{children:y.boxM3})]},I)})})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>k(1),children:"<<"}),e.jsx("button",{className:"btn btn-sm btn-light mr-1",onClick:()=>k(Math.max(1,x-1)),children:"<"}),[...Array(v).keys()].map(y=>e.jsx("button",{className:`btn btn-sm mr-1 ${x===y+1?"btn-primary":"btn-light"}`,onClick:()=>k(y+1),children:y+1},y)),e.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>k(Math.min(v,x+1)),children:">"}),e.jsxs("span",{className:"ml-2 small text-muted",children:["Total: ",f]})]}),e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-2",onClick:B,children:"Add Selected"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:l,children:"Cancel"})]})]})]})})}function as({show:s,onClose:l,onAdd:o,selectionMode:t="multi"}){const[n,d]=a.useState([]),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState(""),[S,N]=a.useState(""),[D,g]=a.useState(""),[f,v]=a.useState(""),[C,O]=a.useState(t==="multi"?[]:null),[A,B]=a.useState([]),[k,L]=a.useState(1),w=15;a.useEffect(()=>{fetch("/models.json").then(W=>W.json()).then(W=>{d(W),B(W)})},[]),a.useEffect(()=>{s&&(u(""),m(""),x(""),j(""),N(""),g(""),v(""),O(t==="multi"?[]:null),B(n),L(1))},[s,t]);const $=W=>{O(t==="multi"?J=>J.includes(W)?J.filter(R=>R!==W):[...J,W]:W)},y=()=>{const W=n.filter(J=>J.model_code.toLowerCase().includes(p.toLowerCase())&&J.model_name.toLowerCase().includes(r.toLowerCase())&&(J.model_cfc||"").toLowerCase().includes(i.toLowerCase())&&(J.destination_code||"").toLowerCase().includes(c.toLowerCase())&&(J.model_implementation_period||"").toLowerCase().includes(S.toLowerCase())&&(J.model_type||"").toLowerCase().includes(D.toLowerCase())&&J.model_remark.toLowerCase().includes(f.toLowerCase()));B(W),L(1)},_=()=>{u(""),m(""),x(""),j(""),N(""),g(""),v(""),B(n),L(1)},I=()=>{if(typeof o=="function")if(t==="multi")o(C.map(W=>n.find(J=>J.model_code===W)));else{const W=n.find(J=>J.model_code===C);o(W)}O(t==="multi"?[]:null),typeof l=="function"&&l()},q=k*w,Q=q-w,se=A.slice(Q,q),H=Math.ceil(A.length/w);if(!s)return null;const Y=e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog","aria-modal":"true",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",inset:0,zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",style:{zIndex:2100},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Model"}),e.jsx("button",{type:"button",className:"close",onClick:l,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-row align-items-end mb-3",children:[e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Model Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:p,onChange:W=>u(W.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:W=>m(W.target.value)})]}),e.jsxs("div",{className:"form-group col-md-1",children:[e.jsx("label",{className:"small",children:"CFC"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,onChange:W=>x(W.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Dest Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:c,onChange:W=>j(W.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small",children:"Impl. Period"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:S,onChange:W=>N(W.target.value)})]}),e.jsxs("div",{className:"form-group col-md-1",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:D,onChange:W=>g(W.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2 text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-1",onClick:y,type:"button",children:"Search"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:_,type:"button",children:"Clear"})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Model Code"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"CFC"}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Impl. Period"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Remark"})]})}),e.jsx("tbody",{children:se.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No models found"})}):se.map(W=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"model-selection",checked:t==="multi"?C.includes(W.model_code):C===W.model_code,onChange:()=>$(W.model_code)})}),e.jsx("td",{children:W.model_code}),e.jsx("td",{children:W.model_name}),e.jsx("td",{children:W.model_cfc}),e.jsx("td",{children:W.destination_code}),e.jsx("td",{children:W.model_implementation_period}),e.jsx("td",{children:W.model_type}),e.jsx("td",{children:W.model_remark})]},W.model_code))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>L(W=>Math.max(1,W-1)),disabled:k===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",k," of ",H]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>L(W=>Math.min(H,W+1)),disabled:k===H,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:I,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:l,type:"button",children:"Cancel"})]})]})]})})});return ws.createPortal(Y,typeof document<"u"?document.body:null)}function Yt({show:s=!1,onClose:l=()=>{},onAdd:o=()=>{},selectionMode:t="single",zIndex:n=1050,filter:d="all"}){const[p,u]=a.useState([]),[r,m]=a.useState(""),[i,x]=a.useState(1),[c,j]=a.useState(""),[S,N]=a.useState(""),[D,g]=a.useState(""),[f,v]=a.useState(t==="multi"?[]:null),[C,O]=a.useState([]),A=15;a.useEffect(()=>{fetch("/packing-cost-fe/dpi.json").then(Y=>Y.json()).then(Y=>u(Y)).catch(Y=>console.error("Error fetching materials:",Y))},[]),a.useEffect(()=>{if(s&&p.length>0){let H=p;d&&(d==="module"?H=p.filter(Y=>Y.materialType.toLowerCase()==="module"):d==="outer"?H=p.filter(Y=>Y.materialType.toLowerCase()==="outer"):d==="inner"?H=p.filter(Y=>Y.materialType.toLowerCase()==="inner"):d==="box"&&(H=p.filter(Y=>Y.materialType.toLowerCase()==="box"))),O(H)}else O([]),m(""),x(1)},[s,d,p]);function B(H){v(t==="multi"?Y=>Y.includes(H)?Y.filter(W=>W!==H):[...Y,H]:H)}const k=()=>{const H=p.filter(Y=>(Y.materialNo||"").toLowerCase().includes(c.toLowerCase())&&(Y.materialName||"").toLowerCase().includes(S.toLowerCase())&&(Y.materialType||"").toLowerCase().includes(D.toLowerCase()));O(H),x(1)},L=()=>{j(""),N(""),g(""),O(p),x(1)},w=()=>{if(typeof o=="function")if(t==="multi")o(f.map(H=>p.find(Y=>Y.materialNo===H)));else{const H=p.find(Y=>Y.materialNo===f);console.log(">>>>"+H),o(H)}v(t==="multi"?[]:null),typeof l=="function"&&l()},$=i*A,y=$-A,_=C.slice(y,$),I=Math.ceil(C.length/A),q=H=>typeof H!="number"?H:H.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Q=H=>typeof H!="number"?H:H.toLocaleString("en-US");if(!s)return null;const se=e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",zIndex:n},children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Select Material"}),e.jsx("button",{type:"button",className:"close",onClick:l,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-row align-items-end mb-3",children:[e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small",children:"Material No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:c,onChange:H=>j(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small",children:"Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:S,onChange:H=>N(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:D,onChange:H=>g(H.target.value)})]}),e.jsxs("div",{className:"form-group col-md-2 text-right",children:[e.jsx("button",{className:"btn btn-sm btn-primary mr-1",onClick:k,type:"button",children:"Search"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:L,type:"button",children:"Clear"})]})]}),e.jsx("div",{style:{height:"450px"},children:e.jsx("div",{className:"table-responsive",style:{height:"100%",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"Material No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{style:{textAlign:"right"},children:"L"}),e.jsx("th",{style:{textAlign:"right"},children:"W"}),e.jsx("th",{style:{textAlign:"right"},children:"H"}),e.jsx("th",{style:{textAlign:"right"},children:"Inner"}),e.jsx("th",{style:{textAlign:"right"},children:"Outer"})]})}),e.jsx("tbody",{children:_.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center text-muted",style:{paddingTop:"100px",paddingBottom:"100px"},children:"No materials found"})}):_.map(H=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:t==="multi"?"checkbox":"radio",name:"material-selection",checked:t==="multi"?f.includes(H.materialNo):f===H.materialNo,onChange:()=>B(H.materialNo)})}),e.jsx("td",{children:H.materialNo}),e.jsx("td",{children:H.materialName}),e.jsx("td",{children:H.materialType}),e.jsx("td",{style:{textAlign:"right"},children:Q(H.dimension_length)}),e.jsx("td",{style:{textAlign:"right"},children:Q(H.dimension_width)}),e.jsx("td",{style:{textAlign:"right"},children:Q(H.dimension_height)}),e.jsx("td",{style:{textAlign:"right"},children:q(H.dimension_inner_length*H.dimension_inner_width*H.dimension_inner_height/1e6)}),e.jsx("td",{style:{textAlign:"right"},children:q(H.dimension_outer_length*H.dimension_outer_width*H.dimension_outer_height/1e6)})]},H.materialNo))})]})})})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>x(H=>Math.max(1,H-1)),disabled:i===1,children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",i," of ",I]}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>x(H=>Math.min(I,H+1)),disabled:i===I,children:"Next"})]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-primary",onClick:w,type:"button",children:["Add ",e.jsx("i",{className:"fas fa-check"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:l,type:"button",children:"Cancel"})]})]})]})})});return ws.createPortal(se,typeof document<"u"?document.body:null)}function zt(s){const{cpsNo:l,setCpsNo:o,refCpsNo:t,setRefCpsNo:n,cfcPjtCode:d,setCfcPjtCode:p,model:u,setModel:r,partNo:m,setPartNo:i,partName:x,setPartName:c,supplier:j,setSupplier:S,plantCode:N,setPlantCode:D,dockCode:g,setDockCode:f,openPartPicker:v,openModelPicker:C,setComparisonOpen:O}=s;return e.jsxs("div",{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"CPS/PSI/ECI No."})}),e.jsx("input",{className:"form-control form-control-sm",value:l,onChange:A=>o(A.target.value),placeholder:"CPSxxxx..."})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"CFC/Model"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:u,onChange:A=>r(A.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:C,children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Part No"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:m,onChange:A=>i(A.target.value)}),e.jsxs("div",{className:"input-group-append",children:[e.jsx("button",{id:"partPickerBtn",type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part",onClick:v,children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Compare",style:{marginLeft:6},onClick:()=>O(!0),children:"Compare"})]})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Ref CPS No."})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:t,onChange:A=>n(A.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Ref CPS",onClick:()=>alert("Search Ref CPS placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Project Code"})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:d,onChange:A=>p(A.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>alert("Search CFC/PJT placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Part Name"})}),e.jsx("input",{className:"form-control form-control-sm",value:x,readOnly:!0})]})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:e.jsx("b",{children:"Supplier"})}),e.jsx("input",{className:"form-control form-control-sm",value:j,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Plant Code"}),e.jsx("input",{className:"form-control form-control-sm",value:N,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Dock Code"}),e.jsx("input",{className:"form-control form-control-sm",value:g,readOnly:!0})]})]})]})}function Jt(s){const{config:l,pseOpen:o,setPseOpen:t,packingPlantCurr:n,setPackingPlantCurr:d,packingPlantNext:p,setPackingPlantNext:u,vanningPlantCurr:r,setVanningPlantCurr:m,vanningPlantNext:i,setVanningPlantNext:x,orderPatternCurr:c,setOrderPatternCurr:j,orderPatternNext:S,setOrderPatternNext:N,category:D,setCategory:g,katashiki:f,setKatashiki:v,importerLineProcess:C,setImporterLineProcess:O,caseCode:A,setCaseCode:B,boxNumber:k,setBoxNumber:L,renban:w,setRenban:$,renbanEff:y,setRenbanEff:_,packingProcessBoxing:I,setPackingProcessBoxing:q,packingProcessStacking:Q,setPackingProcessStacking:se,pseOuterRows:H,setPseOuterRows:Y,newPseOuter:W,setNewPseOuter:J,openMaterialPicker:R}=s,[Z,V]=a.useState(!1),[K,F]=a.useState(null),U=()=>{if(!W.materialNo.trim()){alert("Enter Pack Material No");return}Y(h=>[...h,{...W}]),J({materialNo:"",suffix:"",name:"",supplier:"",L:"",W:"",H:"",wtPerPc:"",qty:"",totalWt:""}),V(!1)},T=h=>{Y(P=>P.filter((z,M)=>M!==h))},E=(h,P,z)=>{const M=H.map((G,X)=>{if(X===h){const te={...G,[P]:z};return(P==="qty"||P==="wtPerPc")&&(te.totalWt=(parseFloat(te.qty)||0)*(parseFloat(te.wtPerPc)||0)),te}return G});Y(M)},b=(h,P)=>{const z=K===P;return e.jsxs("tr",{children:[e.jsx("td",{children:z?e.jsxs("div",{className:"input-group",children:[e.jsx("input",{value:h.materialNo,onChange:M=>E(P,"materialNo",M.target.value),className:"form-control form-control-sm"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-sm btn-outline-secondary",type:"button",onClick:()=>R(P===0?"Module":"outer",P),children:e.jsx("i",{className:"fas fa-search"})})})]}):h.materialNo}),e.jsx("td",{children:z?e.jsx("input",{readOnly:!0,value:h.suffix,onChange:M=>E(P,"suffix",M.target.value),className:"form-control form-control-sm"}):h.suffix}),e.jsx("td",{children:h.name}),e.jsx("td",{children:h.supplier}),e.jsx("td",{children:z?e.jsx("input",{readOnly:!0,value:h.L,onChange:M=>E(P,"L",M.target.value),className:"form-control form-control-sm"}):h.L}),e.jsx("td",{children:z?e.jsx("input",{readOnly:!0,value:h.W,onChange:M=>E(P,"W",M.target.value),className:"form-control form-control-sm"}):h.W}),e.jsx("td",{children:z?e.jsx("input",{readOnly:!0,value:h.H,onChange:M=>E(P,"H",M.target.value),className:"form-control form-control-sm"}):h.H}),e.jsx("td",{children:z?e.jsx("input",{value:h.wtPerPc,onChange:M=>E(P,"wtPerPc",M.target.value),className:"form-control form-control-sm"}):h.wtPerPc}),e.jsx("td",{children:z?e.jsx("input",{value:h.qty,onChange:M=>E(P,"qty",M.target.value),className:"form-control form-control-sm"}):h.qty}),e.jsx("td",{children:h.totalWt}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-link",children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-link",children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:z?e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>F(null),disabled:!l.editable,children:"Save"}):e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:M=>{M.stopPropagation(),T(P)},disabled:!l.editable,children:e.jsx("i",{className:"fas fa-trash"})})})]},P)};return e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>t(h=>!h),children:[e.jsx("i",{className:`fas ${o?"fa-chevron-down":"fa-chevron-right"} mr-2`}),e.jsx("strong",{children:"PSE Information"})]}),o&&e.jsx("div",{className:"card card-body mt-2",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Plant (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:n,onChange:h=>d(h.target.value),disabled:!l.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Packing Plant (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:p,onChange:h=>u(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Vanning Plant (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:r,onChange:h=>m(h.target.value),disabled:!l.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Vanning Plant (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:i,onChange:h=>x(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Order Pattern (Curr)"}),e.jsx("input",{className:"form-control form-control-sm",value:c,onChange:h=>j(h.target.value),disabled:!l.editable}),e.jsx("label",{className:"small mb-1 mt-2",children:"Order Pattern (Next)"}),e.jsx("input",{className:"form-control form-control-sm",value:S,onChange:h=>N(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{className:"small mb-1",children:"Category"}),e.jsxs("select",{className:"form-control form-control-sm",value:D,onChange:h=>g(h.target.value),disabled:!l.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"Trim",children:"Trim"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("label",{className:"small mb-1",children:"Katashiki (AD/AU/AF/AX)"}),e.jsxs("div",{className:"form-row",children:[e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AD",value:f.AD,onChange:h=>v(P=>({...P,AD:h.target.value})),disabled:!l.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AU",value:f.AU,onChange:h=>v(P=>({...P,AU:h.target.value})),disabled:!l.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AF",value:f.AF,onChange:h=>v(P=>({...P,AF:h.target.value})),disabled:!l.editable})}),e.jsx("div",{className:"col",children:e.jsx("input",{className:"form-control form-control-sm",placeholder:"AX",value:f.AX,onChange:h=>v(P=>({...P,AX:h.target.value})),disabled:!l.editable})})]})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Importer Line Process"}),e.jsx("input",{className:"form-control form-control-sm",value:C,onChange:h=>O(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Case Code"}),e.jsx("input",{className:"form-control form-control-sm",value:A,onChange:h=>B(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Box Number"}),e.jsx("input",{className:"form-control form-control-sm",value:k,onChange:h=>L(h.target.value),disabled:!l.editable})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Renban"}),e.jsx("input",{className:"form-control form-control-sm",value:w,onChange:h=>$(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Renban Eff"}),e.jsx("input",{className:"form-control form-control-sm",value:y,onChange:h=>_(h.target.value),disabled:!l.editable})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Process - Boxing"}),e.jsxs("select",{className:"form-control form-control-sm",value:I,onChange:h=>q(h.target.value),disabled:!l.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"SUPPLIER",children:"SUPPLIER"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Packing Process - Stacking"}),e.jsxs("select",{className:"form-control form-control-sm",value:Q,onChange:h=>se(h.target.value),disabled:!l.editable,children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"TMMIN",children:"TMMIN"})]})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("label",{className:"small mb-1",children:"OUTER (Pack Material)"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{F(null),V(!0)},disabled:Z||!l.editable,children:"Add"})})]}),e.jsx("div",{className:"table-responsive mt-2",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 small",children:[e.jsx("thead",{style:{backgroundColor:"#cfcfcfff"},children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{style:{width:30},children:"No"}),e.jsx("th",{style:{width:120},children:"Pack Material No"}),e.jsx("th",{style:{width:40},children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier"}),e.jsx("th",{style:{width:60},children:"L"}),e.jsx("th",{style:{width:60},children:"W"}),e.jsx("th",{style:{width:60},children:"H"}),e.jsx("th",{style:{width:60},children:"Wt/pc"}),e.jsx("th",{style:{width:60},children:"Qty"}),e.jsx("th",{style:{width:80},children:"Total Wt"}),e.jsx("th",{style:{width:10},children:"msds"}),e.jsx("th",{style:{width:10},children:"draw"}),e.jsx("th",{style:{width:80},children:"Action"})]})}),e.jsxs("tbody",{children:[H.length===0&&!Z?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-3",children:"No Data Found"})}):H.map(b),Z&&e.jsxs("tr",{children:[e.jsx("td",{children:"+"}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:W.materialNo,onChange:h=>J(P=>({...P,materialNo:h.target.value}))}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>R("Outer","new"),disabled:!l.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.suffix,onChange:h=>J(P=>({...P,suffix:h.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.name})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.supplier})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.L,onChange:h=>J(P=>({...P,L:h.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.W,onChange:h=>J(P=>({...P,W:h.target.value}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.H,onChange:h=>J(P=>({...P,H:h.target.value}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:W.wtPerPc,onChange:h=>J(P=>({...P,wtPerPc:h.target.value,totalWt:(parseFloat(h.target.value)||0)*(parseFloat(P.qty)||0)}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:W.qty,onChange:h=>J(P=>({...P,qty:h.target.value,totalWt:(parseFloat(h.target.value)||0)*(parseFloat(P.wtPerPc)||0)}))})}),e.jsx("td",{children:e.jsx("input",{readOnly:!0,className:"form-control form-control-sm",value:W.totalWt})}),e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:U,disabled:!l.editable,children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>V(!1),disabled:!l.editable,children:"Cancel"})]})})]})]})]})})]})]})})]})})}const Qt=de.memo(({file:s,index:l,onRemove:o})=>{const[t,n]=a.useState(null);a.useEffect(()=>{if(!s)return;const p=URL.createObjectURL(s);return n(p),()=>URL.revokeObjectURL(p)},[s]);const d=a.useCallback(()=>{o(l)},[l,o]);return t?e.jsxs("div",{style:{position:"relative",display:"inline-block",marginRight:"10px",marginBottom:"10px"},children:[e.jsx("img",{src:t,alt:s.name,className:"border",style:{width:"100px",height:"100px",objectFit:"cover"}}),e.jsx("button",{onClick:d,className:"btn btn-danger btn-sm",style:{position:"absolute",top:"0",right:"0",borderRadius:"50%",width:"24px",height:"24px",lineHeight:"1",padding:"0"},children:"×"})]}):null}),Zt=({imagesPart:s,setImagesPart:l,imagesPacking:o,setImagesPacking:t,imagesOuter:n,setImagesOuter:d,imagesQkp:p,setImagesQkp:u,imagesBkp:r,setImagesBkp:m,imagesOpen:i,setImagesOpen:x})=>{const c=D=>g=>{const f=g.target.value;D(v=>({...v,caption:f}))},j=D=>g=>{const f=Array.from(g.target.files);f.length>0&&D(v=>({...v,files:[...v.files,...f]}))},S=D=>g=>{D(f=>{const v=[...f.files];return v.splice(g,1),{...f,files:v}})},N=[{id:"part",title:"Part Images",state:s,setter:l},{id:"packing",title:"Packing Images",state:o,setter:t},{id:"outer",title:"Outer Images",state:n,setter:d},{id:"qkp",title:"QKP Images",state:p,setter:u},{id:"bkp",title:"BKP Images",state:r,setter:m}];return e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>x(D=>!D),"aria-expanded":i,"aria-controls":"imagesSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${i?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Images"]})}),i&&e.jsx("div",{id:"imagesSection",children:e.jsx("div",{className:"row mt-2",children:N.map(({id:D,title:g,state:f,setter:v})=>e.jsxs("div",{className:"col-md-6 mt-2",children:[e.jsx("label",{className:"small",children:g}),e.jsxs("div",{className:"border p-2 mb-2",children:[e.jsx("textarea",{value:f.caption,onChange:c(v),placeholder:"Enter a caption...",rows:"2",className:"form-control mb-2"}),e.jsx("div",{className:"d-flex flex-wrap",children:f.files.length===0?e.jsx("div",{className:"text-muted small",children:"No images"}):f.files.map((C,O)=>e.jsx(Qt,{file:C,index:O,onRemove:S(v)},`${C.name}-${C.lastModified}-${O}`))}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{htmlFor:`${D}-image-input`,className:"btn btn-sm btn-outline-primary",children:"+ Add"}),e.jsx("input",{type:"file",id:`${D}-image-input`,accept:".jpg,.jpeg,.png",multiple:!0,style:{display:"none"},onChange:j(v)})]})]})]},D))})})]})};function Xt(s){const{config:l,innerRows:o,setInnerRows:t,newInner:n,setNewInner:d,handleRemoveInnerRow:p,openMaterialPicker:u,materials:r}=s,[m,i]=a.useState(!1),[x,c]=a.useState(null),j=a.useRef(null);a.useEffect(()=>{x!==null&&j.current&&j.current.focus()},[x]);const S=()=>{if(!n.materialNo.trim()){alert("Enter Pack Material No");return}t(g=>[...g,{...n}]),d({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})},N=(g,f,v)=>{const C=o.map((O,A)=>A===g?{...O,[f]:v}:O);t(C)},D=(g,f)=>{const v=r.find(C=>C.materialNo===g);if(console.log("Blurred ->>"),v){console.log("Material FOund -->",JSON.stringify(v));const C={name:v.materialName,supplierName:v.supplier.supplier_name,L:v.dimension_inner_length,W:v.dimension_inner_width,H:v.dimension_inner_height};if(f==="new")console.log("New Inner -->",n),d(O=>({...O,...C}));else{const O=o.map((A,B)=>B===f?{...A,...C}:A);t(O)}}};return e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("label",{className:"small mb-1",children:"INNER (Pack Material)"}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{c(null),i(!0)},disabled:m||!l.editable,children:"Add"})})]}),e.jsx("div",{className:"table-responsive mt-2",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 small",children:[e.jsx("thead",{style:{backgroundColor:"#cfcfcfff"},children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{style:{width:30},children:"No"}),e.jsx("th",{style:{width:120},children:"Pack Material No"}),e.jsx("th",{style:{width:40},children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier"}),e.jsx("th",{style:{width:60},children:"L"}),e.jsx("th",{style:{width:60},children:"W"}),e.jsx("th",{style:{width:60},children:"H"}),e.jsx("th",{style:{width:60},children:"Wt/pc"}),e.jsx("th",{style:{width:60},children:"Qty"}),e.jsx("th",{style:{width:80},children:"Total Wt"}),e.jsx("th",{style:{width:10},children:"msds"}),e.jsx("th",{style:{width:10},children:"draw"}),e.jsx("th",{style:{width:80},children:"Action"})]})}),e.jsxs("tbody",{children:[o.length===0&&!m?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-3",children:"No Data Found"})}):o.map((g,f)=>x===f?e.jsxs("tr",{children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{ref:j,value:g.materialNo,onChange:C=>N(f,"materialNo",C.target.value),onBlur:C=>D(C.target.value,f),className:"form-control form-control-sm",disabled:!l.editable}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>u(f===0?"box":"inner",f),disabled:!l.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{value:g.suffix,onChange:C=>N(f,"suffix",C.target.value),readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:g.name,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:g.supplierName,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:g.L,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:g.W,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:g.H,readOnly:!0,className:"form-control form-control-sm"})}),e.jsx("td",{children:e.jsx("input",{value:g.wtPerPc,onChange:C=>N(f,"wtPerPc",C.target.value),className:"form-control form-control-sm",disabled:!l.editable})}),e.jsx("td",{children:e.jsx("input",{value:g.qty,onChange:C=>N(f,"qty",C.target.value),className:"form-control form-control-sm",disabled:!l.editable})}),e.jsx("td",{children:(Number(g.wtPerPc||0)*Number(g.qty||0)).toFixed(2)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show MSDS doc for "+g.materialNo),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show Drawing doc for "+g.materialNo),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>c(null),disabled:!l.editable,children:"Save"})})]},f):e.jsxs("tr",{onClick:()=>{l.editable&&(c(f),i(!1))},children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:g.materialNo}),e.jsx("td",{children:g.suffix}),e.jsx("td",{children:g.name}),e.jsx("td",{children:g.supplierName}),e.jsx("td",{children:g.L}),e.jsx("td",{children:g.W}),e.jsx("td",{children:g.H}),e.jsx("td",{children:g.wtPerPc}),e.jsx("td",{children:g.qty}),e.jsx("td",{children:(Number(g.wtPerPc||0)*Number(g.qty||0)).toFixed(2)}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:C=>{C.stopPropagation(),alert("Show MSDS doc for "+g.materialNo)},children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:C=>{C.stopPropagation(),alert("Show Drawing doc for "+g.materialNo)},children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:C=>{C.stopPropagation(),p(f)},disabled:!l.editable,children:e.jsx("i",{className:"fas fa-trash"})})})]},f)),m&&e.jsxs("tr",{children:[e.jsx("td",{children:"+"}),e.jsx("td",{children:e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:n.materialNo,onChange:g=>d(f=>({...f,materialNo:g.target.value})),onBlur:g=>D(g.target.value,"new")}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>u(o.length===0?"box":"inner"),disabled:!l.editable,children:"..."})})]})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.suffix,onChange:g=>d(f=>({...f,suffix:g.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.name,onChange:g=>d(f=>({...f,name:g.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.supplierName,onChange:g=>d(f=>({...f,supplierName:g.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.L,onChange:g=>d(f=>({...f,L:g.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.W,onChange:g=>d(f=>({...f,W:g.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.H,onChange:g=>d(f=>({...f,H:g.target.value})),readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.wtPerPc,onChange:g=>d(f=>({...f,wtPerPc:g.target.value}))})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:n.qty,onChange:g=>d(f=>({...f,qty:g.target.value}))})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show MSDS doc for new material"),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>alert("Show Drawing doc for new material"),children:e.jsx("i",{className:"fas fa-file-alt"})})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:S,disabled:!l.editable,children:"Add"}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{d({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),i(!1)},disabled:!l.editable,children:"Cancel"})]})})]})]})]})})]})})}function el(s){const{packingOpen:l,setPackingOpen:o}=s;return e.jsx("div",{children:e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>o(t=>!t),"aria-expanded":l,"aria-controls":"packingSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${l?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Packing"]})}),l&&e.jsx("div",{id:"packingSection",children:e.jsx(Xt,{...s})})]})})}function sl(s){const{logisticOpen:l,setLogisticOpen:o,tmmindDestDockCode:t,setTmmindDestDockCode:n,logisticRemark:d,setLogisticRemark:p,processType:u,setProcessType:r,addressRack:m,setAddressRack:i}=s;return e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-link p-0 section-header",onClick:()=>o(x=>!x),"aria-expanded":l,"aria-controls":"logisticSection",children:e.jsxs("strong",{children:[e.jsx("i",{className:`fas ${l?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"Logistic Information"]})}),l&&e.jsxs("div",{id:"logisticSection",className:"mt-2",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"TMMIN Dest Dock Code"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{className:"form-control form-control-sm",value:t,onChange:x=>n(x.target.value),placeholder:"Dock Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Address Rack"}),e.jsx("input",{className:"form-control form-control-sm",value:m,onChange:x=>i(x.target.value),placeholder:"Address Rack"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Remark"}),e.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:d,onChange:x=>p(x.target.value),placeholder:"Remark"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Process Type"}),e.jsx("div",{children:["N","W","X","Y"].map(x=>e.jsxs("label",{className:"mr-3",children:[e.jsx("input",{type:"radio",name:"processType",value:x,checked:u===x,onChange:()=>r(x)})," ",x]},x))})]})]})]})}const tl=s=>({cpsNo:s.cpsNo,refCpsNo:s.refCpsNo,issueDate:s.issueDate,effectiveDate:s.effectiveDate,cfcPjtCode:s.cfcPjtCode,model:s.model,partNo:s.partNo,partName:s.partName,supplier:s.supplier,plantCode:s.plantCode,dockCode:s.dockCode,pseInfo:{packingPlantCurr:s.pseInfo.packingPlantCurr,packingPlantNext:s.pseInfo.packingPlantNext,vanningPlantCurr:s.pseInfo.vanningPlantCurr,vanningPlantNext:s.pseInfo.vanningPlantNext,orderPatternCurr:s.pseInfo.orderPatternCurr,orderPatternNext:s.pseInfo.orderPatternNext,category:s.pseInfo.category,katashiki:s.pseInfo.katashiki,importerLineProcess:s.pseInfo.importerLineProcess,caseCode:s.pseInfo.caseCode,boxNumber:s.pseInfo.boxNumber,renban:s.pseInfo.renban,renbanEff:s.pseInfo.renbanEff,packingProcessBoxing:s.pseInfo.packingProcessBoxing,packingProcessStacking:s.pseInfo.packingProcessStacking},images:{part:s.images.part,packing:s.images.packing,outer:s.images.outer,qkp:s.images.qkp,bkp:s.images.bkp},packing:{outerModuleType:s.packing.outerModuleType,outerDimension:s.packing.outerDimension,innerVolume:s.packing.innerVolume,outerVolume:s.packing.outerVolume,innerRows:s.packing.innerRows},notes:s.notes,logistic:{tmmindDestDockCode:s.logistic.tmmindDestDockCode,logisticRemark:s.logistic.logisticRemark,processType:s.logistic.processType,addressRack:s.logistic.addressRack}}),ll=s=>{s.setCpsNo(""),s.setRefCpsNo(""),s.setIssueDate(""),s.setEffectiveDate(""),s.setCfcPjtCode(""),s.setModel(""),s.setPartNo(""),s.setPartName(""),s.setSupplier(""),s.setPlantCode(""),s.setDockCode(""),s.setPseOpen(!1),s.setPackingPlantCurr(""),s.setPackingPlantNext(""),s.setVanningPlantCurr(""),s.setVanningPlantNext(""),s.setOrderPatternCurr(""),s.setOrderPatternNext(""),s.setCategory(""),s.setKatashiki({AD:"",AU:"",AF:"",AX:""}),s.setImporterLineProcess(""),s.setCaseCode(""),s.setBoxNumber(""),s.setRenban(""),s.setRenbanEff(""),s.setPackingProcessBoxing(""),s.setPackingProcessStacking(""),s.setImagesPart({caption:"",files:[]}),s.setImagesPacking({caption:"",files:[]}),s.setImagesOuter({caption:"",files:[]}),s.setImagesQkp({caption:"",files:[]}),s.setImagesBkp({caption:"",files:[]}),s.setOuterModuleType(""),s.setOuterMaterialName(""),s.setOuterDimension({L:"",W:"",H:""}),s.setInnerVolume(""),s.setOuterVolume(""),s.setInnerRows([]),s.setNotes(""),s.setNewInner({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),s.setLogisticOpen(!0),s.setTmmindDestDockCode(""),s.setLogisticRemark(""),s.setProcessType("N"),s.setAddressRack("")};function al({show:s,onClose:l,onSave:o,editData:t,config:n}){const[d,p]=a.useState("general"),[u,r]=a.useState({current:{},comparisons:[]}),[m,i]=a.useState([]),[x,c]=a.useState(""),[j,S]=a.useState(""),[N,D]=a.useState(""),[g,f]=a.useState(""),[v,C]=a.useState(""),[O,A]=a.useState(""),[B,k]=a.useState(""),[L,w]=a.useState(""),[$,y]=a.useState(""),[_,I]=a.useState(""),[q,Q]=a.useState(""),[se,H]=a.useState(!1),[Y,W]=a.useState(""),[J,R]=a.useState(""),[Z,V]=a.useState(""),[K,F]=a.useState(""),[U,T]=a.useState(""),[E,b]=a.useState(""),[h,P]=a.useState(""),[z,M]=a.useState({AD:"",AU:"",AF:"",AX:""}),[G,X]=a.useState(""),[te,oe]=a.useState(""),[he,be]=a.useState(""),[ye,xe]=a.useState(""),[Ae,Me]=a.useState(""),[ns,De]=a.useState(""),[rs,Le]=a.useState(""),[ze,Se]=a.useState([]),[qs,Je]=a.useState({materialNo:"",suffix:"",name:"",supplier:"",L:"",W:"",H:"",wtPerPc:"",qty:"",totalWt:""}),[os,Te]=a.useState({caption:"",files:[]}),[is,Ee]=a.useState({caption:"",files:[]}),[cs,Re]=a.useState({caption:"",files:[]}),[ds,Oe]=a.useState({caption:"",files:[]}),[ms,Fe]=a.useState({caption:"",files:[]}),[$s,Qe]=a.useState(""),[us,ve]=a.useState([]),[hs,We]=a.useState(""),[Be,we]=a.useState({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),[Ks,Vs]=a.useState(!0),[Gs,Ys]=a.useState(!0),[zs,xs]=a.useState(!1),[Js,Ze]=a.useState(!1),[Qs,Xe]=a.useState(!1),[Zs,es]=a.useState(!1),[He,Xs]=a.useState("all"),[et,st]=a.useState(null),[tt,ss]=a.useState(!0),[ps,Ue]=a.useState(""),[js,qe]=a.useState(""),[fs,$e]=a.useState("N"),[Ns,Ke]=a.useState("");a.useEffect(()=>{fetch("/cpsComparison.json").then(ee=>ee.json()).then(ee=>r(ee)),fetch("/materials.json").then(ee=>ee.json()).then(ee=>i(ee))},[]);const lt=u.current,at=u.comparisons;a.useEffect(()=>{s&&(t?(c(t.cpsNo||""),S(t.refCpsNo||""),D(t.issueDate||""),f(t.effectiveDate||""),C(t.cfcPjtCode||""),A(t.model||""),k(t.partNo||""),w(t.partName||""),y(t.supplier||""),I(t.plantCode||""),Q(t.dockCode||""),t.pseInfo&&(W(t.pseInfo.packingPlantCurr||""),R(t.pseInfo.packingPlantNext||""),V(t.pseInfo.vanningPlantCurr||""),F(t.pseInfo.vanningPlantNext||""),T(t.pseInfo.orderPatternCurr||""),b(t.pseInfo.orderPatternNext||""),P(t.pseInfo.category||""),M(t.pseInfo.katashiki||{AD:"",AU:"",AF:"",AX:""}),X(t.pseInfo.importerLineProcess||""),oe(t.pseInfo.caseCode||""),be(t.pseInfo.boxNumber||""),xe(t.pseInfo.renban||""),Me(t.pseInfo.renbanEff||""),De(t.pseInfo.packingProcessBoxing||""),Le(t.pseInfo.packingProcessStacking||""),Se(t.pseInfo.outerRows||[])),t.images&&(Te(t.images.part||{caption:"",files:[]}),Ee(t.images.packing||{caption:"",files:[]}),Re(t.images.outer||{caption:"",files:[]}),Oe(t.images.qkp||{caption:"",files:[]}),Fe(t.images.bkp||{caption:"",files:[]})),t.packing&&(Qe(t.packing.innerVolume||""),ve(t.packing.innerRows||[])),We(t.notes||""),t.logistic&&(Ue(t.logistic.tmmindDestDockCode||""),qe(t.logistic.logisticRemark||""),$e(t.logistic.processType||"N"),Ke(t.logistic.addressRack||""))):(c(""),S(""),D(""),f(""),C(""),A(""),k(""),w(""),y(""),I(""),Q(""),H(!1),W(""),R(""),V(""),F(""),T(""),b(""),P(""),M({AD:"",AU:"",AF:"",AX:""}),X(""),oe(""),be(""),xe(""),Me(""),De(""),Le(""),Se([]),Te({caption:"",files:[]}),Ee({caption:"",files:[]}),Re({caption:"",files:[]}),Oe({caption:"",files:[]}),Fe({caption:"",files:[]}),Qe(""),ve([]),We(""),we({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),ss(!0),Ue(""),qe(""),$e("N"),Ke("")))},[s,t]);function nt(){if(!Be.materialNo.trim()){alert("Enter Pack Material No");return}ve(ee=>[...ee,{...Be}]),we({materialNo:"",suffix:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})}function rt(ee){ve(ue=>ue.filter((ts,ge)=>ge!==ee))}function ot(ee){ee&&(k(ee.partNo),w(ee.partName),y(ee.supplierName)),Ze(!1)}const it=()=>{const ee=tl({cpsNo:x,refCpsNo:j,issueDate:N,effectiveDate:g,cfcPjtCode:v,model:O,partNo:B,partName:L,supplier:$,plantCode:_,dockCode:q,pseInfo:{packingPlantCurr:Y,packingPlantNext:J,vanningPlantCurr:Z,vanningPlantNext:K,orderPatternCurr:U,orderPatternNext:E,category:h,katashiki:z,importerLineProcess:G,caseCode:te,boxNumber:he,renban:ye,renbanEff:Ae,packingProcessBoxing:ns,packingProcessStacking:rs,outerRows:ze},images:{part:os,packing:is,outer:cs,qkp:ds,bkp:ms},packing:{innerVolume:$s,innerRows:us},notes:hs,logistic:{tmmindDestDockCode:ps,logisticRemark:js,processType:fs,addressRack:Ns}});o(ee),bs()},bs=()=>{ll({setCpsNo:c,setRefCpsNo:S,setIssueDate:D,setEffectiveDate:f,setCfcPjtCode:C,setModel:A,setPartNo:k,setPartName:w,setSupplier:y,setPlantCode:I,setDockCode:Q,setPseOpen:H,setPackingPlantCurr:W,setPackingPlantNext:R,setVanningPlantCurr:V,setVanningPlantNext:F,setOrderPatternCurr:T,setOrderPatternNext:b,setCategory:P,setKatashiki:M,setImporterLineProcess:X,setCaseCode:oe,setBoxNumber:be,setRenban:xe,setRenbanEff:Me,setPackingProcessBoxing:De,setPackingProcessStacking:Le,setPseOuterRows:Se,setNewPseOuter:Je,setImagesPart:Te,setImagesPacking:Ee,setImagesOuter:Re,setImagesQkp:Oe,setImagesBkp:Fe,setInnerVolume:Qe,setInnerRows:ve,setNotes:We,setNewInner:we,setLogisticOpen:ss,setTmmindDestDockCode:Ue,setLogisticRemark:qe,setProcessType:$e,setAddressRack:Ke}),l()};function ct(ee){ee&&(Array.isArray(ee)?A(ee.map(ue=>ue.code).join(", ")):A(ee.code||"")),Xe(!1)}function dt(ee){if(ee){const ue=et;if(He==="outer"||He==="module"){const ts={materialNo:ee.materialNo,name:ee.materialName,supplier:ee.supplierName,L:ee.dimension_length,W:ee.dimension_width,H:ee.dimension_height,wtPerPc:ee.unitWeight};if(ue==="new")Je(ge=>({...ge,...ts}));else{const ge=[...ze];ge[ue]={...ge[ue],...ts},Se(ge)}}else He==="inner"&&we({...Be,materialNo:ee.materialNo,name:ee.materialName,L:ee.dimension_length,W:ee.dimension_width,H:ee.dimension_height,wtPerPc:ee.unitWeight})}es(!1)}const mt=()=>Xe(!0),gs=(ee,ue=null)=>{Xs(ee),st(ue),es(!0)};return s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:ee=>{ee.target===ee.currentTarget&&l()},children:[e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1200},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:t?"CPS - Edit":"CPS - New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:l,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[n.general.visible&&e.jsxs(e.Fragment,{children:[e.jsx(zt,{config:n.general,cpsNo:x,setCpsNo:c,refCpsNo:j,setRefCpsNo:S,cfcPjtCode:v,setCfcPjtCode:C,model:O,setModel:A,partNo:B,setPartNo:k,partName:L,setPartName:w,supplier:$,setSupplier:y,plantCode:_,setPlantCode:I,dockCode:q,setDockCode:Q,openPartPicker:()=>Ze(!0),openModelPicker:mt,setComparisonOpen:xs}),n.pse.visible&&e.jsx("hr",{})]}),n.pse.visible&&e.jsxs(e.Fragment,{children:[e.jsx(Jt,{config:n.pse,pseOpen:se,setPseOpen:H,packingPlantCurr:Y,setPackingPlantCurr:W,packingPlantNext:J,setPackingPlantNext:R,vanningPlantCurr:Z,setVanningPlantCurr:V,vanningPlantNext:K,setVanningPlantNext:F,orderPatternCurr:U,setOrderPatternCurr:T,orderPatternNext:E,setOrderPatternNext:b,category:h,setCategory:P,katashiki:z,setKatashiki:M,importerLineProcess:G,setImporterLineProcess:X,caseCode:te,setCaseCode:oe,boxNumber:he,setBoxNumber:be,renban:ye,setRenban:xe,renbanEff:Ae,setRenbanEff:Me,packingProcessBoxing:ns,setPackingProcessBoxing:De,packingProcessStacking:rs,setPackingProcessStacking:Le,pseOuterRows:ze,setPseOuterRows:Se,newPseOuter:qs,setNewPseOuter:Je,openMaterialPicker:gs}),n.images.visible&&e.jsx("hr",{})]}),n.images.visible&&e.jsxs(e.Fragment,{children:[e.jsx(Zt,{config:n.images,imagesOpen:Ks,setImagesOpen:Vs,imagesPart:os,setImagesPart:Te,imagesPacking:is,setImagesPacking:Ee,imagesOuter:cs,setImagesOuter:Re,imagesQkp:ds,setImagesQkp:Oe,imagesBkp:ms,setImagesBkp:Fe}),n.packing.visible&&e.jsx("hr",{})]}),n.packing.visible&&e.jsxs(e.Fragment,{children:[e.jsx(el,{config:n.packing,materials:m,packingOpen:Gs,setPackingOpen:Ys,innerRows:us,setInnerRows:ve,newInner:Be,setNewInner:we,handleAddInnerRow:nt,handleRemoveInnerRow:rt,openMaterialPicker:gs}),n.logistic.visible&&e.jsx("hr",{})]}),n.logistic.visible&&e.jsx(sl,{config:n.logistic,logisticOpen:tt,setLogisticOpen:ss,tmmindDestDockCode:ps,setTmmindDestDockCode:Ue,logisticRemark:js,setLogisticRemark:qe,processType:fs,setProcessType:$e,addressRack:Ns,setAddressRack:Ke}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Note"}),e.jsx("textarea",{className:"form-control form-control-sm",rows:"3",value:hs,onChange:ee=>We(ee.target.value)})]})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-secondary",onClick:bs,children:"Cancel"}),e.jsx("button",{className:"btn btn-primary ml-2",onClick:it,children:"Save"}),e.jsx("button",{className:"btn btn-success ml-2",onClick:()=>alert("Submit action to be implemented."),children:"Submit"})]})]}),e.jsx("style",{children:`
          .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 2000; display:flex; align-items:center; justify-content:center; padding:1rem; }
          .np-modal { width: 100%; max-height: 95vh; overflow: auto; z-index: 2001; }
          .table-sm td, .table-sm th { vertical-align: middle; }
        `})]}),e.jsx(Gt,{isOpen:zs,onClose:()=>xs(!1),parts:at,current:lt,extraClass:"multi-parts-comparison"}),e.jsx(Ce,{show:Js,onClose:()=>Ze(!1),onSelect:ot,zIndex:4e3,mode:"single"}),e.jsx(as,{show:Qs,onClose:()=>Xe(!1),onAdd:ct,selectionMode:"single"}),e.jsx(Yt,{show:Zs,onClose:()=>es(!1),onAdd:dt,zIndex:3e3,filter:He})]}):null}const ys=[{userId:"12345",name:"Rollin Khaider",dept:"PSE",role:"Dept Head"},{userId:"22345",name:"Asep Sumarna",dept:"PPM",role:"Section Head"},{userId:"32345",name:"Khalil Gibran",dept:"PSE",role:"Staff"},{userId:"42345",name:"Jaka T. Mulyo",dept:"PCD",role:"Staff"},{userId:"52345",name:"W.H. Jeanette",dept:"PPM",role:"Staff"}];function nl({show:s=!1,onClose:l,onSelect:o}){const[t,n]=a.useState({userId:"",name:"",dept:"",role:""}),[d,p]=a.useState(null);if(!s)return null;const u=i=>{n({...t,[i.target.name]:i.target.value})},r=()=>n({userId:"",name:"",dept:"",role:""}),m=ys.filter(i=>(!t.userId||i.userId.includes(t.userId))&&(!t.name||i.name.toLowerCase().includes(t.name.toLowerCase()))&&(!t.dept||i.dept.toLowerCase().includes(t.dept.toLowerCase()))&&(!t.role||i.role.toLowerCase().includes(t.role.toLowerCase())));return e.jsxs("div",{className:"np-modal-backdrop",style:{zIndex:3e3},children:[e.jsxs("div",{className:"np-modal card card-outline card-info",style:{maxWidth:600},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h5",{className:"card-title mb-0",style:{fontSize:20},children:e.jsx("b",{children:"Select a Person"})}),e.jsx("button",{className:"btn btn-tool ml-auto",onClick:l,children:e.jsx("span",{style:{fontSize:25},children:"×"})})]}),e.jsxs("div",{className:"card-body pb-2",children:[e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"User Id"}),e.jsx("input",{name:"userId",className:"form-control form-control-sm",value:t.userId,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-3",children:[e.jsx("label",{className:"small mb-1",children:"Name"}),e.jsx("input",{name:"name",className:"form-control form-control-sm",value:t.name,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-2",children:[e.jsx("label",{className:"small mb-1",children:"Dept"}),e.jsx("input",{name:"dept",className:"form-control form-control-sm",value:t.dept,onChange:u})]}),e.jsxs("div",{className:"form-group col-md-4",children:[e.jsx("label",{className:"small mb-1",children:"Role"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{name:"role",className:"form-control form-control-sm",value:t.role,onChange:u}),e.jsxs("div",{className:"input-group-append",children:[e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:r,children:e.jsx("i",{className:"fas fa-times"})})]})]})]})]}),e.jsx("div",{style:{maxHeight:260,overflowY:"auto"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:30}}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Dept"}),e.jsx("th",{children:"Role"})]})}),e.jsx("tbody",{children:m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-muted",children:"No Data Found"})}):m.map((i,x)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"radio",checked:d===i.userId,onChange:()=>p(i.userId)})}),e.jsx("td",{children:i.userId}),e.jsx("td",{children:i.name}),e.jsx("td",{children:i.dept}),e.jsx("td",{children:i.role})]},i.userId))})]})})]}),e.jsx("div",{className:"card-footer text-right",children:e.jsxs("button",{className:"btn btn-success",disabled:!d,onClick:()=>{const i=ys.find(x=>x.userId===d);i&&o&&o(i),l&&l()},children:[e.jsx("i",{className:"fas fa-check mr-1"})," Select"]})})]}),e.jsx("style",{children:`
        .np-modal-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.35);
          z-index: 3000;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }
        .np-modal { width: 100%; z-index: 3001; }
        .table-sm td, .table-sm th { vertical-align: middle; }
      `})]})}const Ye=[{destCode:"301B",code:"TAR",country:"ARGENTINA",company:"Toyota Argentina"},{destCode:"301B",code:"TASA",country:"ARGENTINA",company:"Toyota Argentina S.A."},{destCode:"537B",code:"TSM",country:"AFRIKA",company:"Toyota South Africa Motors"},{destCode:"709B",code:"TKM",country:"INDIA",company:"Toyota Kirloskar Motor"},{destCode:"715B",code:"TMV",country:"VIETNAM",company:"Toyota Motor Vietnam"},{destCode:"717C",code:"IMC",country:"PAKISTAN",company:"Indus Motor Company"},{destCode:"721B",code:"KUO",country:"KUOZUI",company:"Kuozui Motors"},{destCode:"721C",code:"KUO",country:"KUOZUI",company:"Kuozui Motors"},{destCode:"722C",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"722F",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"722B",code:"TMT",country:"THAILAND",company:"Toyota Motor Thailand"},{destCode:"811C",code:"TMP",country:"PHILIPINE",company:"Toyota Motor Philippines"},{destCode:"812B",code:"UMW",country:"MALAYSIA",company:"UMW Toyota Motor"},{destCode:"812K",code:"UMW",country:"MALAYSIA",company:"UMW Toyota Motor"},{destCode:"547A",code:"TEE",country:"MESIR",company:"Toyota Egypt Enterprise"},{destCode:"303B",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"303E",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"303D",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"D55E",code:"TDB",country:"BRAZIL",company:"Toyota do Brasil"},{destCode:"704B",code:"TMY",country:"MYANMAR",company:"Toyota Motor Myanmar"},{destCode:"705A",code:"CAM",country:"CAMBOJA",company:"Cambodia Toyota Motor"},{destCode:"709C",code:"TKAP",country:"INDIA 2",company:"Toyota Kirloskar Auto Parts"},{destCode:"709D",code:"TIEI",country:"INDIA 3",company:"Toyota Industries Engine India"},{destCode:"722S",code:"STM",country:"SIAM THAILAND",company:"Siam Toyota Motor"},{destCode:"811W",code:"TAP",country:"PHILIPINE 2",company:"Toyota Auto Parts Philippines"},{destCode:"807B",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"},{destCode:"807D",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"},{destCode:"807J",code:"TMMIN",country:"INDONESIA",company:"Toyota Motor Manufacturing Indonesia"}],rl=[{id:1,cpsNo:"CPS-2024-001",refCpsNo:"",issueDate:"2024-07-01",effectiveDate:"2024-07-10",dpiNo:"DPI-2024-001",cfcPjtCode:"PJT-A",model:"579W",partNo:"90466T006200",partName:"CLIP, MOULDING",supplier:"Supplier A",plantCode:"TMMIN",dockCode:"D01",pseInfo:{packingPlantCurr:"PLANT-1",packingPlantNext:"PLANT-1",vanningPlantCurr:"VPLANT-A",vanningPlantNext:"VPLANT-A",orderPatternCurr:"A1",orderPatternNext:"A1",category:"CAT-1",katashiki:{AD:"AD1",AU:"AU1",AF:"AF1",AX:"AX1"},importerLineProcess:"ILP-1",caseCode:"CC-001",boxNumber:"B-001",renban:"R-001",renbanEff:"2024-07-10",packingProcessBoxing:"Manual",packingProcessStacking:"Auto"},images:{part:{caption:"Part Image",files:[]},packing:{caption:"Packing Image",files:[]},outer:{caption:"Outer Image",files:[]},qkp:{caption:"QKP Image",files:[]},bkp:{caption:"BKP Image",files:[]}},packing:{outerModuleType:"MOD-A",outerDimension:{L:"100",W:"80",H:"60"},innerVolume:"0.0384",outerVolume:"0.048",innerRows:[{materialNo:"MAT-001",suffix:"S1",name:"Inner Box",parent:"",supplierId:"SUP-001",supplierName:"Supplier Inner",L:"50",W:"40",H:"30",wtPerPc:"0.1",qty:"10"}]},notes:"This is a note for the first CPS.",numParts:5,fromUser:"User A",toUser:"User B",status:"Approved"},{id:2,cpsNo:"CPS-2024-002",refCpsNo:"CPS-2024-001",issueDate:"2024-07-05",effectiveDate:"2024-07-15",dpiNo:"DPI-2024-002",cfcPjtCode:"PJT-B",model:"579W",partNo:"32101BZ10000",partName:"Part B",supplier:"Supplier B",plantCode:"TMMIN",dockCode:"D02",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:8,fromUser:"User C",toUser:"User D",status:"Submitted"},{id:3,cpsNo:"CPS-2024-003",refCpsNo:"",issueDate:"2024-07-12",effectiveDate:"2024-07-20",dpiNo:"DPI-2024-003",cfcPjtCode:"PJT-C",model:"579W",partNo:"90466T006200",partName:"Part C",supplier:"Supplier C",plantCode:"TMMIN",dockCode:"D03",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:3,fromUser:"User E",toUser:"User F",status:"Draft"},{id:4,cpsNo:"CPS-2024-004",refCpsNo:"",issueDate:"2024-07-15",effectiveDate:"2024-07-25",dpiNo:"DPI-2024-004",cfcPjtCode:"PJT-A",model:"579W",partNo:"32101BZ10000",partName:"Part D",supplier:"Supplier D",plantCode:"TMMIN",dockCode:"D04",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:12,fromUser:"User A",toUser:"User G",status:"Rejected"},{id:5,cpsNo:"CPS-2024-005",refCpsNo:"CPS-2024-004",issueDate:"2024-07-20",effectiveDate:"2024-08-01",dpiNo:"DPI-2024-005",cfcPjtCode:"PJT-D",model:"579W",partNo:"90466T006200",partName:"Part E",supplier:"Supplier E",plantCode:"TMMIN",dockCode:"D05",pseInfo:{},images:{},packing:{innerRows:[]},notes:"",numParts:7,fromUser:"User H",toUser:"User I",status:"Approved"}],ol=({onNewCps:s,onUpload:l,onDownload:o,onCreatePsi:t,onCreateEci:n,onComparePcs:d})=>e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:s,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create CPS"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:t,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create PSI"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:n,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Create ECI"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-info",onClick:d,children:[e.jsx("i",{className:"fas fa-exchange-alt mr-1"})," Compare PCS"]}),e.jsxs("div",{className:"btn-group ml-2",children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Upload",onClick:l,children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Download Template",onClick:o,children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),il=()=>{const{user:s}=Ne(),o=(()=>{if(s&&s.department&&s.role){const M=Cs[s.department];if(M&&M[s.role])return M[s.role]}return Cs.default})(),[t,n]=a.useState(rl),[d,p]=a.useState([]),[u,r]=a.useState(!1),[m,i]=a.useState(null),[x,c]=a.useState(!1),[j,S]=a.useState(null),[N,D]=a.useState(""),[g,f]=a.useState(""),[v,C]=a.useState(""),[O,A]=a.useState(""),[B,k]=a.useState(""),[L,w]=a.useState(""),[$,y]=a.useState(""),[_,I]=a.useState(""),[q,Q]=a.useState(""),[se,H]=a.useState(""),[Y,W]=a.useState(""),[J,R]=a.useState({currentPage:1,perPage:5}),Z=()=>{D(""),f(""),C(""),A(""),k(""),w(""),y(""),I(""),Q(""),H(""),W(""),p([])},V=M=>{const G=P,X=t.filter(te=>(G.cpsNo?te.cpsNo.includes(G.cpsNo):!0)&&(G.refCpsNo?te.refCpsNo.includes(G.refCpsNo):!0)&&(G.model?te.model.toLowerCase().includes(G.model.toLowerCase()):!0)&&(G.partNo?te.partNo.includes(G.partNo):!0)&&(G.cfcPjt?te.cfcPjtCode.includes(G.cfcPjt):!0)&&(G.fromUser?new Date(te.issuedDate)>=new Date(G.fromUser):!0)&&(G.toUser?new Date(te.issuedDate)<=new Date(G.toUser):!0)&&(G.status?te.status===G.status:!0)&&(G.destCode?te.destCode===G.destCode:!0)&&(G.cpsPsiEci?te.docType===G.cpsPsiEci:!0));p(X),R(te=>({...te,currentPage:1}))},K=M=>{let G;if(m)G=t.map(X=>X.id===m.id?{...X,...M}:X);else{const X=t.length>0?Math.max(...t.map(te=>te.id))+1:1;G=[...t,{...M,id:X}]}n(G),p(G),r(!1),i(null)},F=M=>{i(M),r(!0)},U=()=>{r(!1),i(null)},T=()=>{console.log("Create PSI clicked")},E=()=>{console.log("Create ECI clicked")},b=()=>{console.log("Compare PCS clicked")},h=M=>{S(M),c(!0)},P={cpsNo:N,refCpsNo:g,model:v,partNo:O,cfcPjt:B,fromUser:L,toUser:$,status:_,destCode:q,destCountry:se,cpsPsiEci:Y},z={setCpsNo:D,setRefCpsNo:f,setModel:C,setPartNo:A,setCfcPjt:k,setFromUser:w,setToUser:y,setStatus:I,setDestCode:Q,setDestCountry:H,setCpsPsiEci:W};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-secondary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"CPS List"})}),e.jsx(ol,{onNewCps:()=>r(!0),onCreatePsi:T,onCreateEci:E,onComparePcs:b})]}),e.jsxs("div",{className:"card-body",children:[e.jsx(Lt,{filters:P,setters:z,onSearch:()=>V(),onClear:Z,onPersonPicker:h,destinations:Ye}),e.jsx("hr",{}),e.jsx(Tt,{filteredCps:d,page:J.currentPage,perPage:J.perPage,setPage:M=>R(G=>({...G,currentPage:M})),setPerPage:M=>R(G=>({...G,perPage:M})),onEdit:F})]})]}),e.jsx(al,{show:u,onClose:U,onSave:K,editData:m,config:o}),x&&e.jsx(nl,{show:x,onClose:()=>c(!1),onSelect:M=>{c(!1)}})]})};function cl({show:s=!1,onClose:l,initial:o=null,onSave:t,onSubmit:n}){const d={dpiNo:"",refDpiNo:"",issuedDate:"",effectiveDate:"",cfcPjt:"",model:"",from:"",to:"",supplier:"",numParts:0,numCps:0,status:"Draft",notes:""},[p,u]=a.useState(o||d),[r,m]=a.useState([]);if(a.useEffect(()=>(s?(u(o||d),m(o&&o.parts||[]),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s,o]),!s)return null;function i(f){const{name:v,value:C}=f.target;u(O=>({...O,[v]:C}))}function x(){const f={cps:"",partNo:"",suffix:"",name:"",parent:"",supplierCode:"",supplierName:"",L:"",W:"",H:"",wtPc:"",qtyBox:"",totalWt:""};m(v=>[...v,f])}function c(f,v,C){m(O=>O.map((A,B)=>B===f?{...A,[v]:C}:A))}function j(f){m(v=>v.filter((C,O)=>O!==f))}async function S(f){return await new Promise(v=>setTimeout(v,200)),null}async function N(){const f=(p.refDpiNo||"").trim();if(f)try{const v=await S(f);v&&(u(C=>({...C,...v})),m(v.parts||[]))}catch(v){console.error("fetch dpi by ref failed",v)}}function D(f){f&&f.preventDefault&&f.preventDefault();const v={...p,status:"Draft",parts:r};t&&t(v)}function g(f){f&&f.preventDefault&&f.preventDefault();const v={...p,status:"Submitted",parts:r};n&&n(v)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,role:"dialog","aria-modal":"true",children:e.jsx("div",{className:"modal-dialog modal-xl",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:e.jsx("strong",{children:"DPI New"})}),e.jsx("button",{type:"button",className:"close",onClick:l,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:e.jsx("strong",{children:"DPI No."})}),e.jsx("input",{name:"dpiNo",className:"form-control form-control-sm",value:p.dpiNo,onChange:i})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CFC / PJT"}),e.jsx("input",{name:"cfcPjt",className:"form-control form-control-sm",value:p.cfcPjt,onChange:i})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Issued Date"}),e.jsx("input",{type:"date",name:"issuedDate",className:"form-control form-control-sm",value:p.issuedDate,onChange:i})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"From"}),e.jsx("input",{name:"from",className:"form-control form-control-sm",value:p.from,onChange:i})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier"}),e.jsx("input",{name:"supplier",className:"form-control form-control-sm",value:p.supplier,onChange:i})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:e.jsx("strong",{children:"DPI Ref No."})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{name:"refDpiNo",className:"form-control form-control-sm",value:p.refDpiNo,onChange:i,onBlur:N}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model"}),e.jsx("input",{name:"model",className:"form-control form-control-sm",value:p.model,onChange:i})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Effective Date"}),e.jsx("input",{type:"date",name:"effectiveDate",className:"form-control form-control-sm",value:p.effectiveDate,onChange:i})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"To"}),e.jsx("input",{name:"to",className:"form-control form-control-sm",value:p.to,onChange:i})]})]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-3 mb-2",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-chevron-down"})," ",e.jsx("strong",{children:"Parts"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:x,children:[e.jsx("i",{className:"fas fa-plus"})," add"]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"CPS"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Wt/pc"}),e.jsx("th",{children:"Qty/box"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsx("tbody",{children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center text-muted py-4",children:'No parts. Click "add" to insert a new part.'})}):r.map((f,v)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.cps,onChange:C=>c(v,"cps",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.partNo,onChange:C=>c(v,"partNo",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.suffix,onChange:C=>c(v,"suffix",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.name,onChange:C=>c(v,"name",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.parent,onChange:C=>c(v,"parent",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.supplierCode,onChange:C=>c(v,"supplierCode",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.supplierName,onChange:C=>c(v,"supplierName",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.L,onChange:C=>c(v,"L",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.W,onChange:C=>c(v,"W",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.H,onChange:C=>c(v,"H",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.wtPc,onChange:C=>c(v,"wtPc",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.qtyBox,onChange:C=>c(v,"qtyBox",C.target.value)})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:f.totalWt,onChange:C=>c(v,"totalWt",C.target.value)})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Edit",children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>j(v),title:"Delete",children:e.jsx("i",{className:"fas fa-trash"})})]})]},v))})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{children:e.jsx("strong",{children:"Note :"})}),e.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:p.notes,onChange:f=>u(v=>({...v,notes:f.target.value}))})]})]}),e.jsxs("div",{className:"modal-footer d-flex justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-success mr-2",onClick:D,children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:g,children:"Submit"})]})]})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]})}function dl(s){console.log("Props received by SearchSection:",s);const{filters:l,setters:o,onSearch:t,onClear:n,onPartSearch:d}=s,{modelCode:p,destCode:u,partNo:r,supplierCode:m,cpsNo:i,implementationPeriod:x}=l||{},{setModelCode:c,setDestCode:j,setPartNo:S,setSupplierCode:N,setCpsNo:D,setImplementationPeriod:g}=o||{},[f,v]=a.useState(""),C=B=>{if(B.key===" "||B.key===","){B.preventDefault();const k=f.trim();k&&S(L=>[...new Set([...L,k])]),v("")}},O=B=>{S(k=>k.filter(L=>L!==B))},A=()=>{console.log("Search button clicked in SearchSection"),t?t():console.error("onSearch prop is NOT DEFINED in SearchSection. Check the parent component.")};return e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Model Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:p||"",onChange:B=>c&&c(B.target.value),placeholder:"Model Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Model Code",onClick:()=>alert("Search Model Code placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Implementation Period"}),e.jsx("div",{className:"input-group input-group-sm",children:e.jsx("input",{className:"form-control form-control-sm",value:x||"",onChange:B=>g&&g(B.target.value),placeholder:"Implementation Period"})})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"4px"},children:[r.map(B=>e.jsxs("span",{className:"badge badge-primary",style:{display:"flex",alignItems:"center",padding:"4px 8px"},children:[B,e.jsx("button",{type:"button",className:"close","aria-label":"Remove",onClick:()=>O(B),style:{color:"white",marginLeft:"8px",textShadow:"none",opacity:1,fontSize:"1rem"},children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},B)),e.jsx("input",{style:{border:"none",outline:"none",flex:"1",minWidth:"100px"},value:f,onChange:B=>v(B.target.value),onKeyDown:C,placeholder:"Type and press space"})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part No",onClick:d,children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:u||"",onChange:B=>j&&j(B.target.value),placeholder:"Dest Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Dest Code",onClick:()=>alert("Search Dest Code placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"CPS No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:i||"",onChange:B=>D&&D(B.target.value),placeholder:"CPS No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search CPS No",onClick:()=>alert("Search CPS No placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:m||"",onChange:B=>N&&N(B.target.value),placeholder:"Supplier Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Supplier",onClick:()=>alert("Search Supplier placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})}),e.jsxs("div",{className:"col-12 d-flex",children:[e.jsx("div",{className:"col-md-6"}),e.jsxs("div",{className:"col-md-6 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:A,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:n,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})]})]})})}function Ws({count:s=1,visibleColumns:l}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsx(de.Fragment,{children:t===0?e.jsxs(e.Fragment,{children:[l.materialCode&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),l.length&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Length"}),l.width&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Width"}),l.height&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Height"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Volume Inner"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Volume Outer"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Usage"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Source"})]}):e.jsxs(e.Fragment,{children:[l.materialCode&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Mat No"}),e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Usage"})]})},`matLeafHdr-${t}`))})}function Bs({arr:s=[],count:l=1,visibleColumns:o}){return e.jsx(e.Fragment,{children:s.map((t,n)=>e.jsx(de.Fragment,{children:n===0?e.jsxs(e.Fragment,{children:[o.materialCode&&e.jsx("td",{children:t.material_no||"-"}),o.length&&e.jsx("td",{children:t.dimension_length||"-"}),o.width&&e.jsx("td",{children:t.dimension_width||"-"}),o.height&&e.jsx("td",{children:t.dimension_height||"-"}),e.jsx("td",{children:t.volume_inner||"-"}),e.jsx("td",{children:t.volume_outer||"-"}),e.jsx("td",{children:t.qty||"-"}),e.jsx("td",{children:t.source||"-"})]}):e.jsxs(e.Fragment,{children:[o.materialCode&&e.jsx("td",{children:t.material_no||"+"}),e.jsx("td",{children:t.qty||"+"})]})},`matLeafCell-${n}`))})}function ml({count:s=1,visibleColumns:l}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:t===0?8:2,children:t===0?"Box":`Inner ${t}`},`innerGrp-${t}`))})}const ul=({count:s,visibleColumns:l})=>e.jsx(Ws,{count:s,visibleColumns:l}),hl=({data:s,count:l,visibleColumns:o})=>e.jsx(Bs,{arr:s,count:l,visibleColumns:o});function xl({count:s=1,visibleColumns:l}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((o,t)=>e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr text-nowrap",colSpan:t===0?8:2,children:t===0?"Module":`Outer ${t}`},`outerGrp-${t}`))})}const pl=({count:s,visibleColumns:l})=>e.jsx(Ws,{count:s,visibleColumns:l}),jl=({data:s,count:l,visibleColumns:o})=>e.jsx(Bs,{arr:s,count:l,visibleColumns:o});function fl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("destination")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Destination"}),s.includes("model")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Model"}),s.includes("impl_period")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Impl Period"}),s.includes("cps_no")&&e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"CPS No"})]})}function Nl({mainInfo:s,checked:l}){var p,u,r,m;const{destination:o,model_name:t,impl_period:n,cps_no:d}=s||{};debugger;return e.jsxs(e.Fragment,{children:[l.includes("destination")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((r=(u=(p=s==null?void 0:s.cps)==null?void 0:p.model)==null?void 0:u.destination)==null?void 0:r.code)??"-"}),l.includes("model")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(s==null?void 0:s.model_code)??"-"}),l.includes("impl_period")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(s==null?void 0:s.implementation_period)??"-"}),l.includes("cps_no")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((m=s==null?void 0:s.cps)==null?void 0:m.cps_no)??"-"})]})}function bl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("part_no_part")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part No "}),s.includes("part_name")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Name"}),s.includes("parent_part")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Parent Part"}),s.includes("supplier_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Supplier Code"}),s.includes("supplier_name")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Supplier Name"}),s.includes("part_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part Status"}),s.includes("dtl_part_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Dtl Part Status"}),s.includes("pack_spec_status")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Pack Spec Status"}),s.includes("weight_pc")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Weight/Pc (Kg)"}),s.includes("qty_box")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qty/Box"})]})}function gl({partInfo:s,checked:l}){var o,t;return e.jsxs(e.Fragment,{children:[l.includes("part_no_part")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.part_no??"-"}),l.includes("part_name")&&e.jsx("td",{className:"align-middle",children:s.part_name??"-"}),l.includes("parent_part")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.parent_no??"-"}),l.includes("supplier_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:((o=s.supplier)==null?void 0:o.supplier_code)??"-"}),l.includes("supplier_name")&&e.jsx("td",{className:"align-middle",children:((t=s.supplier)==null?void 0:t.supplier_name)??"-"}),l.includes("part_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.part_status??"-"}),l.includes("dtl_part_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.detail_part_status??"-"}),l.includes("pack_spec_status")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.packing_spec_status??"-"}),l.includes("weight_pc")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.weightPerPc??"-"}),l.includes("qty_box")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:s.qtyPerBox??"-"})]})}function vl({checked:s}){const l=s.includes("packing_plant_current")||s.includes("packing_plant_next"),o=[s.includes("packing_plant_current"),s.includes("packing_plant_next")].filter(Boolean).length,t=s.includes("vanning_plant_current")||s.includes("vanning_plant_next"),n=[s.includes("vanning_plant_current"),s.includes("vanning_plant_next")].filter(Boolean).length,d=s.includes("order_pattern_current")||s.includes("order_pattern_next"),p=[s.includes("order_pattern_current"),s.includes("order_pattern_next")].filter(Boolean).length,u=s.includes("katashiiki_ad")||s.includes("katashiiki_au")||s.includes("katashiiki_af")||s.includes("katashiiki_ax"),r=[s.includes("katashiiki_ad"),s.includes("katashiiki_au"),s.includes("katashiiki_af"),s.includes("katashiiki_ax")].filter(Boolean).length,m=s.includes("packing_process_boxing")||s.includes("packing_process_stacking"),i=[s.includes("packing_process_boxing"),s.includes("packing_process_stacking")].filter(Boolean).length;return e.jsxs(e.Fragment,{children:[l&&e.jsx("th",{colSpan:o,className:"align-middle border text-center tbl-row2-hdr",children:"Packing Plant"}),t&&e.jsx("th",{colSpan:n,className:"align-middle border text-center tbl-row2-hdr",children:"Vanning Plant"}),d&&e.jsx("th",{colSpan:p,className:"align-middle border text-center tbl-row2-hdr",children:"Order Pattern"}),u&&e.jsx("th",{colSpan:r,className:"align-middle border text-center tbl-row2-hdr",children:"Katashiiki"}),s.includes("importer_line_process")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Importer Line Process"}),s.includes("case_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Case code"}),s.includes("box_number")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Box Number"}),s.includes("renban")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Renban"}),s.includes("renban_eff")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr",children:"Renban Eff"}),m&&e.jsx("th",{colSpan:i,className:"align-middle border text-center tbl-row2-hdr",children:"Packing Process"})]})}function Cl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("packing_plant_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("packing_plant_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("vanning_plant_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("vanning_plant_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("order_pattern_current")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Current"}),s.includes("order_pattern_next")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Next"}),s.includes("katashiiki_ad")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AD"}),s.includes("katashiiki_au")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AU"}),s.includes("katashiiki_af")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AF"}),s.includes("katashiiki_ax")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"AX"}),s.includes("packing_process_boxing")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Boxing"}),s.includes("packing_process_stacking")&&e.jsx("th",{className:"align-middle border text-center tbl-row2-hdr",children:"Stacking"})]})}function yl({pseInfo:s,checked:l}){const{packing_plant_curr:o,packing_plant_next:t,vanning_plant_curr:n,vanning_plant_next:d,order_pattern_curr:p,order_pattern_next:u,katashiki:r,importer_line_process:m,case_code:i,box_number:x,renban:c,renban_eff:j,packing_process_boxing:S,packing_process_stacking:N}=s||{};return e.jsxs(e.Fragment,{children:[l.includes("packing_plant_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:o??"-"}),l.includes("packing_plant_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:t??"-"}),l.includes("vanning_plant_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:n??"-"}),l.includes("vanning_plant_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:d??"-"}),l.includes("order_pattern_current")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:p??"-"}),l.includes("order_pattern_next")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:u??"-"}),l.includes("katashiiki_ad")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(r==null?void 0:r.AD)??"-"}),l.includes("katashiiki_au")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(r==null?void 0:r.AU)??"-"}),l.includes("katashiiki_af")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(r==null?void 0:r.AF)??"-"}),l.includes("katashiiki_ax")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:(r==null?void 0:r.AX)??"-"}),l.includes("importer_line_process")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:m??"-"}),l.includes("case_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:i??"-"}),l.includes("box_number")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:x??"-"}),l.includes("renban")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:c??"-"}),l.includes("renban_eff")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:j??"-"}),l.includes("packing_process_boxing")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:S??"-"}),l.includes("packing_process_stacking")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:N??"-"})]})}function Sl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("dock_code")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Dock Code"}),s.includes("address")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Address"}),s.includes("process_type")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Process Type"})]})}function wl({logisticInfo:s,checked:l}){const{dock_code:o,address_rack:t,process_type:n}=s||{};return e.jsxs(e.Fragment,{children:[l.includes("dock_code")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:o??"-"}),l.includes("address")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:t??"-"}),l.includes("process_type")&&e.jsx("td",{className:"align-middle",style:{whiteSpace:"nowrap"},children:n??"-"})]})}const Ve={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},content:{position:"relative",background:"#fff",padding:"20px",borderRadius:"5px",maxWidth:"80vw",maxHeight:"80vh"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},image:{maxWidth:"calc(80vw - 40px)",maxHeight:"calc(80vh - 40px)"}};function Pl({imageUrl:s,isOpen:l,onClose:o}){return!l||!s?null:e.jsx("div",{style:Ve.overlay,onClick:o,children:e.jsxs("div",{style:Ve.content,onClick:t=>t.stopPropagation(),children:[e.jsx("button",{style:Ve.closeButton,onClick:o,children:"×"}),e.jsx("img",{src:s,alt:"Enlarged view",style:Ve.image})]})})}function kl({checked:s}){return e.jsxs(e.Fragment,{children:[s.includes("part_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Part"}),s.includes("packing_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Packing"}),s.includes("outer_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Outer"}),s.includes("qkp_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Qkp"}),s.includes("bkp_image")&&e.jsx("th",{rowSpan:2,className:"align-middle border text-center tbl-row2-hdr text-nowrap",children:"Bkp"})]})}function Pe({files:s}){const[l,o]=a.useState(!1);if(!s||s.length===0)return"-";const t=s[0],n=()=>o(!0),d=()=>o(!1);return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t,alt:"thumbnail",style:{width:"50px",height:"auto",cursor:"pointer"},onClick:n}),e.jsx(Pl,{imageUrl:t,isOpen:l,onClose:d})]})}function Il({images:s,checked:l}){const{part:o,packing:t,outer:n,qkp:d,bkp:p}=s||{};return e.jsxs(e.Fragment,{children:[l.includes("part_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Pe,{files:o==null?void 0:o.files})}),l.includes("packing_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Pe,{files:t==null?void 0:t.files})}),l.includes("outer_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Pe,{files:n==null?void 0:n.files})}),l.includes("qkp_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Pe,{files:d==null?void 0:d.files})}),l.includes("bkp_image")&&e.jsx("td",{className:"align-middle",children:e.jsx(Pe,{files:p==null?void 0:p.files})})]})}function _l({rows:s,visibleRows:l,page:o,perPage:t,total:n,totalPages:d,goToPage:p,setPerPage:u,checked:r}){var k,L,w,$,y;visibleColumns;const m=((k=l[0])==null?void 0:k.cps)||{},i=((w=(L=m.packing)==null?void 0:L.inner)==null?void 0:w.length)||1,x=((y=($=m.packing)==null?void 0:$.outer)==null?void 0:y.length)||1,j=["part_no_part","part_name","parent_part","supplier_code","supplier_name","part_status","dtl_part_status","pack_spec_status","weight_pc","qty_box"].filter(_=>r.includes(_)).length,S=j>0,D=["packing_plant_current","packing_plant_next","vanning_plant_current","vanning_plant_next","order_pattern_current","order_pattern_next","katashiiki_ad","katashiiki_au","katashiiki_af","katashiiki_ax","importer_line_process","case_code","box_number","renban","renban_eff","packing_process_boxing","packing_process_stacking"].filter(_=>r.includes(_)).length,g=D>0,v=["dock_code","address","process_type"].filter(_=>r.includes(_)).length,C=v>0,A=["part_image","packing_image","outer_image","qkp_image","bkp_image"].filter(_=>r.includes(_)).length,B=A>0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2"}),e.jsx("div",{className:"table-responsive mt-2",style:{overflowX:"auto",overflowY:"hidden"},children:e.jsxs("table",{className:"table table-sm table-bordered mb-0 text-center",style:{tableLayout:"fixed",width:"auto"},children:[e.jsxs("thead",{style:{fontSize:"8pt"},children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:3,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"No"}),e.jsx(fl,{checked:r}),S&&e.jsx("th",{colSpan:j,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Part Information"}),g&&e.jsx("th",{colSpan:D,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"PSE Information"}),C&&e.jsx("th",{colSpan:v,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Logistic Information"}),B&&e.jsx("th",{colSpan:A,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Images"}),e.jsx("th",{colSpan:i>0?i*2+6:0,className:"align-middle border text-center tbl-row1-hdr text-nowrap",children:"Inner Materials"}),e.jsx("th",{colSpan:x>0?x*2+6:0,className:"align-middle border text-center tbl-row1-hdr text-nowrap\\",children:"Outer Materials"})]}),e.jsxs("tr",{children:[e.jsx(bl,{checked:r}),e.jsx(vl,{checked:r}),e.jsx(Sl,{checked:r}),e.jsx(kl,{checked:r}),e.jsx(ml,{count:i}),e.jsx(xl,{count:x})]}),e.jsxs("tr",{children:[e.jsx(Cl,{checked:r}),e.jsx(ul,{count:i}),e.jsx(pl,{count:x})]})]}),e.jsx("tbody",{style:{fontSize:"8pt"},children:l.map((_,I)=>{var J,R;const q=_.cps||{},Q=q.pse_info||{},se=q.logistic_info||{},H=q.images||{},Y=((J=q.packing)==null?void 0:J.inner)||[],W=((R=q.packing)==null?void 0:R.outer)||[];return q.labor,q.inland,e.jsxs("tr",{children:[e.jsx("td",{children:(o-1)*t+I+1}),e.jsx(Nl,{mainInfo:_,checked:r}),e.jsx(gl,{partInfo:q,checked:r}),e.jsx(yl,{pseInfo:Q,checked:r}),e.jsx(wl,{logisticInfo:se,checked:r}),e.jsx(Il,{images:H,checked:r}),e.jsx(hl,{data:Y,count:i}),e.jsx(jl,{data:W,count:x})]},I)})})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>p(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>p(Math.max(1,o-1)),children:"<"}),[...Array(d).keys()].map(_=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${o===_+1?"btn-primary":"btn-light"}`,onClick:()=>p(_+1),children:_+1},_)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>p(Math.min(d,o+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",n]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[t," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(10),p(1)},children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(25),p(1)},children:"25"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{u(50),p(1)},children:"50"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})}function Al({onViewDpi:s,onUpload:l,onTemplate:o,onCreateDpi:t,onCreatePci:n,onToggleColumnSelector:d,viewDpiDisabled:p}){return e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:s,title:"View DPI",disabled:p,children:[e.jsx("i",{className:"fas fa-eye"})," View DPI"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:d,title:"Select Columns",children:e.jsx("i",{className:"fas fa-cog"})}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:l,title:"Upload",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-2",onClick:o,title:"Template",children:[e.jsx("i",{className:"fas fa-cloud-download-alt"})," Template"]})]})}const pe=[{value:"main_info",label:"Main Info",children:[{value:"destination",label:"Destination"},{value:"model",label:"Model"},{value:"impl_period",label:"Implementation Period"},{value:"cps_no",label:"CPS No"}]},{value:"part_info",label:"Part Info",children:[{value:"part_no_part",label:"Part No"},{value:"part_name",label:"Part Name"},{value:"parent_part",label:"Parent Part"},{value:"supplier_code",label:"Supplier Code"},{value:"supplier_name",label:"Supplier Name"},{value:"part_status",label:"Part Status"},{value:"dtl_part_status",label:"Dtl Part Status"},{value:"pack_spec_status",label:"Pack Spec Status"},{value:"weight_pc",label:"Weight/Pc"},{value:"qty_box",label:"Qty/Box"}]},{value:"pse_info",label:"PSE Info",children:[{value:"packing_plant",label:"Packing Plant",children:[{value:"packing_plant_current",label:"Current"},{value:"packing_plant_next",label:"Next"}]},{value:"vanning_plant",label:"Vanning Plant",children:[{value:"vanning_plant_current",label:"Current"},{value:"vanning_plant_next",label:"Next"}]},{value:"order_pattern",label:"Order Pattern",children:[{value:"order_pattern_current",label:"Current"},{value:"order_pattern_next",label:"Next"}]},{value:"katashiiki",label:"Katashiiki",children:[{value:"katashiiki_ad",label:"AD"},{value:"katashiiki_au",label:"AU"},{value:"katashiiki_af",label:"AF"},{value:"katashiiki_ax",label:"AX"}]},{value:"importer_line_process",label:"Importer Line Process"},{value:"case_code",label:"Case Code"},{value:"box_number",label:"Box Number"},{value:"renban",label:"Renban"},{value:"renban_eff",label:"Renban Eff"},{value:"packing_process",label:"Packing Process",children:[{value:"packing_process_boxing",label:"Boxing"},{value:"packing_process_stacking",label:"Stacking"}]}]},{value:"logistic_info",label:"Logistic Info",children:[{value:"dock_code",label:"Dock Code"},{value:"address",label:"Address"},{value:"process_type",label:"Process Type"}]},{value:"images",label:"Images",children:[{value:"part_image",label:"Part"},{value:"packing_image",label:"Packing"},{value:"outer_image",label:"Outer"},{value:"qkp_image",label:"QKP"},{value:"bkp_image",label:"BKP"}]},{value:"inner_materials",label:"Inner Materials",children:[{value:"box",label:"Box",children:[{value:"box_mat_no",label:"Mat No"},{value:"box_length",label:"Length"},{value:"box_width",label:"Width"},{value:"box_height",label:"Height"},{value:"box_volume_inner",label:"Volume Inner"},{value:"box_volume_outer",label:"Volume Outer"},{value:"box_usage",label:"Usage"},{value:"box_source",label:"Source"}]},...[...Array(9).keys()].map(s=>({value:`outer_${s+1}`,label:`Outer ${s+1}`,children:[{value:`outer_${s+1}_mat_no`,label:"Mat No"},{value:`outer_${s+1}_usage`,label:"Usage"}]}))]},{value:"outer_materials",label:"Outer Materials",children:[{value:"module",label:"Module",children:[{value:"module_mat_no",label:"Mat No"},{value:"module_length",label:"Length"},{value:"module_width",label:"Width"},{value:"module_height",label:"Height"},{value:"module_volume_inner",label:"Volume Inner"},{value:"module_usage",label:"Usage"}]}]}],Ml=({isOpen:s,toggle:l,checked:o,onCheckedChange:t})=>{const[n,d]=a.useState([]);a.useEffect(()=>{if(s){let x=[...o],c=!1;const j=S=>{S.forEach(N=>{N.children&&(N.children.every(g=>x.includes(g.value))&&!x.includes(N.value)&&(x.push(N.value),c=!0),j(N.children))})};j(pe),c&&t([...new Set(x)])}},[s,o,t]);const p=(x,c=[])=>(x.children&&x.children.forEach(j=>{c.push(j.value),p(j,c)}),c),u=(x,c)=>{var j;for(const S of c){if((j=S.children)!=null&&j.some(N=>N.value===x))return S;if(S.children){const N=u(x,S.children);if(N)return N}}return null},r=x=>{let c=[...o];const j=c.includes(x.value),S=p(x);if(j){c=c.filter(D=>D!==x.value&&!S.includes(D));let N=u(x.value,pe);for(;N;)c=c.filter(D=>D!==N.value),N=u(N.value,pe)}else{c.push(x.value),x.children&&c.push(...S);let N=u(x.value,pe);for(;N;)N.children.every(g=>c.includes(g.value))&&(c.includes(N.value)||c.push(N.value)),N=u(N.value,pe)}t([...new Set(c)])},m=x=>{d(c=>c.includes(x)?c.filter(j=>j!==x):[...c,x])},i=(x,c=0)=>x.map(j=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",paddingLeft:`${c*20}px`},children:[j.children&&e.jsx("span",{style:{cursor:"pointer",marginRight:"5px"},onClick:()=>m(j.value),children:n.includes(j.value)?"−":"+"}),e.jsx(gt,{check:!0,style:{margin:0,marginLeft:j.children?"0":"20px"},children:e.jsxs(vt,{check:!0,children:[e.jsx(Ct,{type:"checkbox",checked:o.includes(j.value),onChange:()=>r(j)})," ",c===0?e.jsx("strong",{children:j.label}):j.label]})})]}),j.children&&n.includes(j.value)&&e.jsx("div",{children:i(j.children,c+1)})]},j.value));return e.jsxs(jt,{isOpen:s,toggle:l,zIndex:9999,size:"lg",children:[e.jsx(ft,{toggle:l,children:"Column Selection"}),e.jsx(Nt,{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:i(pe.slice(0,3))}),e.jsx("div",{className:"col-md-4",children:i(pe.slice(3,5))}),e.jsx("div",{className:"col-md-4",children:i(pe.slice(5))})]})}),e.jsxs(bt,{children:[e.jsx(vs,{color:"primary",onClick:l,children:"Apply"}),e.jsx(vs,{color:"secondary",onClick:l,children:"Cancel"})]})]})};function Dl(){const[s,l]=a.useState(""),[o,t]=a.useState(""),[n,d]=a.useState([]),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState(!1),[S,N]=a.useState(!1),[D,g]=a.useState(!1),[f,v]=a.useState([]),[C,O]=a.useState([]),[A,B]=a.useState(10),[k,L]=a.useState(1),w=f.length,$=Math.max(1,Math.ceil(w/A));a.useEffect(()=>{fetch("/packing-cost-fe/dpi.json").then(E=>{if(!E.ok)throw new Error("Network response was not ok");return E.json()}).then(E=>{const h=[...E.dpiData||[]].sort((P,z)=>(z.implementation_period||"").localeCompare(P.implementation_period||""));O(h),v([])}).catch(E=>{console.error("Error fetching DPI data:",E)})},[]);function y(){if(!s&&(!n||n.length===0)&&!o&&!p&&!r&&!i){v(C),L(1);return}let E=[...C];if(s&&(E=E.filter(h=>{var P;return(P=h.model_code)==null?void 0:P.toLowerCase().includes(s.toLowerCase())})),n&&n.length>0){const h=n.map(P=>P.toLowerCase());E=E.filter(P=>{var z,M,G;return h.includes((z=P.part_no)==null?void 0:z.toLowerCase())||h.includes((G=(M=P.cps)==null?void 0:M.part_no)==null?void 0:G.toLowerCase())})}o&&(E=E.filter(h=>{var P,z,M,G;return(G=(M=(z=(P=h.cps)==null?void 0:P.model)==null?void 0:z.destination)==null?void 0:M.code)==null?void 0:G.toLowerCase().includes(o.toLowerCase())})),p&&(E=E.filter(h=>{var P,z,M;return(M=(z=(P=h.cps)==null?void 0:P.supplier)==null?void 0:z.supplier_code)==null?void 0:M.toLowerCase().includes(p.toLowerCase())})),r&&(E=E.filter(h=>{var P,z;return(z=(P=h.cps)==null?void 0:P.cps_no)==null?void 0:z.toLowerCase().includes(r.toLowerCase())})),i&&(E=E.filter(h=>{var P;return(P=h.implementation_period)==null?void 0:P.toLowerCase().includes(i.toLowerCase())}));const b=E.sort((h,P)=>(P.implementation_period||"").localeCompare(h.implementation_period||""));v(b),L(1)}function _(T){if(T&&T.length>0){const E=T.map(b=>b.partNo);d(b=>[...new Set([...b,...E])])}N(!1)}function I(){l(""),t(""),d([]),u(""),m(""),x(""),v(C),L(1)}function q(){j(!0)}function Q(){alert("Create PCI - placeholder")}function se(){alert("Upload placeholder")}function H(){alert("Download template placeholder")}function Y(){g(T=>!T)}function W(T){setChecked(T)}function J(){const T=window.open("","_blank","fullscreen=yes");T.document.write("<html><head><title>DPI View</title>"),T.document.write('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />'),T.document.write('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">'),T.document.write("</head><body>"),T.document.write('<button id="download-pdf">Download PDF</button>'),T.document.write('<button id="download-csv">Download CSV</button>'),T.document.write('<div id="dpi-content" class="card card-outline card-primary"></div>'),T.document.write("</body></html>"),T.document.close();const E=document.getElementById("result-section").innerHTML,b=T.document.getElementById("dpi-content");b&&(b.innerHTML=E),T.document.getElementById("download-pdf").addEventListener("click",()=>T.print()),T.document.getElementById("download-csv").addEventListener("click",()=>{const h=b.querySelector("table");let P=[];for(const X of h.rows){const te=[];for(const oe of X.cells)te.push(oe.innerText);P.push(te.join(","))}const z="data:text/csv;charset=utf-8,"+P.join("\\n"),M=encodeURI(z),G=document.createElement("a");G.setAttribute("href",M),G.setAttribute("download","dpi_data.csv"),document.body.appendChild(G),G.click(),document.body.removeChild(G)})}function R(T){const E=Math.min(Math.max(1,T),$);L(E)}const Z=f.slice((k-1)*A,k*A);function V(T){const E={dpiNo:T.dpiNo||"",refDpiNo:T.refDpiNo||"",issuedDate:T.issuedDate||"",effectiveDate:T.effectiveDate||"",cfcPjt:T.cfcPjt||"",model:T.model||"",parts:T.parts||[],numCps:T.numCps||0,supplier:T.supplier||"",fromUser:T.from||"",toUser:T.to||"",status:"Draft",raw:T};v(b=>[E,...b]),j(!1),L(1)}function K(T){const E={dpiNo:T.dpiNo||"",refDpiNo:T.refDpiNo||"",issuedDate:T.issuedDate||"",effectiveDate:T.effectiveDate||"",cfcPjt:T.cfcPjt||"",model:T.model||"",parts:T.parts||[],numCps:T.numCps||0,supplier:T.supplier||"",fromUser:T.from||"",toUser:T.to||"",status:"Submitted",raw:T};v(b=>[E,...b]),j(!1),L(1)}const F={modelCode:s,destCode:o,partNo:n,supplierCode:p,cpsNo:r,implementationPeriod:i},U={setModelCode:l,setDestCode:t,setPartNo:d,setSupplierCode:u,setCpsNo:m,setImplementationPeriod:x};return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"DPI List"})}),e.jsx(Al,{onViewDpi:J,onUpload:se,onTemplate:H,onCreateDpi:q,onCreatePci:Q,onToggleColumnSelector:Y,viewDpiDisabled:f.length===0})]}),e.jsx(dl,{filters:F,setters:U,onSearch:y,onClear:I,onPartSearch:()=>N(!0)}),e.jsx("div",{id:"result-section",children:e.jsx(_l,{rows:f,visibleRows:Z,page:k,perPage:A,total:w,totalPages:$,goToPage:R,setPerPage:B,checked})})]}),e.jsx(cl,{show:c,onClose:()=>j(!1),onSave:V,onSubmit:K}),e.jsx(Ce,{show:S,onClose:()=>N(!1),onSelect:_,mode:"multi"}),e.jsx(Ml,{isOpen:D,toggle:Y,checked,onCheckedChange:W})]})}function Ll({form:s,change:l,setShowPartPicker:o,setShowModelPicker:t,handleCalculate:n,handleClear:d,onModelRemove:p,onPartRemove:u,onModelCfcKeyDown:r,onPartKeyDown:m}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model CFC"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:[s.modelCfc.map(i=>e.jsxs("span",{className:"badge badge-pill badge-info",style:{display:"flex",alignItems:"center"},children:[i,e.jsx("button",{type:"button",className:"close","aria-label":"Close",style:{color:"white",marginLeft:"5px",textShadow:"none",opacity:.7,fontSize:"1.2em",lineHeight:"0.8"},onClick:()=>p(i),children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},i)),e.jsx("input",{type:"text",name:"modelCfcInput",value:s.modelCfcInput,onChange:l,onKeyDown:r,style:{border:"none",outline:"none",flexGrow:1,padding:0,margin:0,height:"20px"}})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Model CFC",onClick:()=>t(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Implementation Period"}),e.jsxs("select",{className:"form-control form-control-sm",name:"period",value:s.period,onChange:l,children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"01.2025"}),e.jsx("option",{children:"02.2025"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dest Code"}),e.jsxs("select",{className:"form-control form-control-sm",name:"destCode",value:s.destCode,onChange:l,children:[e.jsx("option",{children:"All"}),e.jsx("option",{value:"TASA",children:"TASA - Argentina"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Part"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsxs("div",{className:"form-control form-control-sm",style:{height:"auto",display:"flex",flexWrap:"wrap",gap:"5px",alignItems:"center"},children:[Array.isArray(s.part)&&s.part.map(i=>e.jsxs("span",{className:"badge badge-pill badge-info",style:{display:"flex",alignItems:"center"},children:[i,e.jsx("button",{type:"button",className:"close","aria-label":"Close",style:{color:"white",marginLeft:"5px",textShadow:"none",opacity:.7,fontSize:"1.2em",lineHeight:"0.8"},onClick:()=>u(i),children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]},i)),e.jsx("input",{type:"text",name:"partInput",value:s.partInput,onChange:l,onKeyDown:m,style:{border:"none",outline:"none",flexGrow:1,padding:0,margin:0,height:"20px"}})]}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Part",onClick:()=>o(!0),children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})]}),e.jsxs("div",{className:"d-flex justify-content-end my-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:n,children:[e.jsx("i",{className:"fas fa-calculator mr-1"})," Calculate"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:d,children:[e.jsx("i",{className:"fas fa-eraser mr-1"})," Clear"]})]})]})}function Tl({count:s=10}){return e.jsx(e.Fragment,{children:Array.from({length:s}).map((l,o)=>e.jsxs(de.Fragment,{children:[e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Part No"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Qty"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Price"}),e.jsx("th",{className:"align-middle border text-center text-nowrap",children:"Sum"})]},`mat-leaf-hdr-${o}`))})}function El({arr:s=[],count:l=10}){const o=[];for(let t=0;t<l;t++){const n=s[t];o.push(e.jsxs(de.Fragment,{children:[e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.materialNo)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.qty)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.price)??"-"}),e.jsx("td",{className:"align-middle",children:(n==null?void 0:n.sum)??"-"})]},`mat-leaf-cell-${t}`))}return e.jsx(e.Fragment,{children:o})}const Hs=({part:s})=>{var r,m,i,x,c,j,S;const[l,o]=a.useState({inner:!0,outer:!0,labor:!0,inland:!0}),t=N=>{o(D=>({...D,[N]:!D[N]}))};if(!s)return null;const n=N=>{if(N==null||N==="")return"";const D=Number(N);return isNaN(D)?String(N):D.toFixed(2)},d=(N,D)=>{const g=D.toLowerCase(),f=l[g],v=10,C=[];for(let O=1;O<=v;O++)C.push(e.jsxs("th",{colSpan:"4",children:["Material ",O]},`material-header-${D}-${O}`));return e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t(g),children:[e.jsx("i",{className:`fas ${f?"fa-chevron-down":"fa-chevron-right"} mr-2`}),D.toUpperCase()]}),f&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"2000px"},children:[e.jsxs("thead",{style:{backgroundColor:"#e9ecef"},children:[e.jsx("tr",{children:C}),e.jsx("tr",{children:e.jsx(Tl,{count:v})})]}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx(El,{arr:N,count:v})})})]})})]})},p=(N,D)=>{const g=l.labor;return!N||!D?null:e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t("labor"),children:[e.jsx("i",{className:`fas ${g?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"LABOR"]}),g&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"1500px"},children:[e.jsx("thead",{style:{backgroundColor:"#e9ecef"},children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receiving"}),e.jsx("th",{children:"Inspection"}),e.jsx("th",{children:"Delivery Course (Pallet)"}),e.jsx("th",{children:"Supply"}),e.jsx("th",{children:"Binding"}),e.jsx("th",{children:"Sorting & Supply"}),e.jsx("th",{children:"Pick & Packing"}),e.jsx("th",{children:"Vanning"}),e.jsx("th",{children:"Box/Valet Return"}),e.jsx("th",{children:"Mix Van"}),e.jsx("th",{children:"Lashing"}),e.jsx("th",{children:"Total Time"}),e.jsx("th",{children:"Requirement"}),e.jsx("th",{children:"Current DL"}),e.jsx("th",{children:"IDL"}),e.jsx("th",{children:"Facility Others"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:n(N.receiving)}),e.jsx("td",{children:n(N.inspection)}),e.jsx("td",{children:n(N.deliveryCourse)}),e.jsx("td",{children:n(N.supply)}),e.jsx("td",{children:n(N.binding)}),e.jsx("td",{children:n(N.sortingSupply)}),e.jsx("td",{children:n(N.pickPacking)}),e.jsx("td",{children:n(N.vanning)}),e.jsx("td",{children:n(N.boxValetReturn)}),e.jsx("td",{children:n(N.mixVan)}),e.jsx("td",{children:n(N.lashing)}),e.jsx("td",{children:n(N.totalTime)}),e.jsx("td",{children:n(N.requirement)}),e.jsx("td",{children:n(N.currentDL)}),e.jsx("td",{children:n(D.idl)}),e.jsx("td",{children:n(D.facility)})]})})]})})]})},u=N=>{const D=l.inland;return N?e.jsxs(e.Fragment,{children:[e.jsxs("h5",{style:{fontSize:"8pt",textAlign:"left",fontWeight:"bold",cursor:"pointer",backgroundColor:"#f7fbff"},onClick:()=>t("inland"),children:[e.jsx("i",{className:`fas ${D?"fa-chevron-down":"fa-chevron-right"} mr-2`}),"INLAND"]}),D&&e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm",style:{minWidth:"800px"},children:[e.jsx("thead",{style:{backgroundColor:"#e9ecef"},children:e.jsxs("tr",{children:[e.jsx("th",{children:"Pack Time (V-PASS)"}),e.jsx("th",{children:"Inland Cost"}),e.jsx("th",{children:"Inland Cost M3"}),e.jsx("th",{children:"Diff"}),e.jsx("th",{children:"Milkrun cost"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:N.packing_time||"-"}),e.jsx("td",{children:n(N.inland_cost)||"-"}),e.jsx("td",{children:n(N.inlandCostM3)||"-"}),e.jsx("td",{children:N.diff||"-"}),e.jsx("td",{children:n(N.milkrun_cost)||"-"})]})})]})})]}):null};return e.jsx("td",{colSpan:"32",children:e.jsxs("div",{className:"p-2",children:[d((m=(r=s.cps)==null?void 0:r.packing)==null?void 0:m.inner,"Inner"),d((x=(i=s.cps)==null?void 0:i.packing)==null?void 0:x.outer,"Outer"),p((c=s.cps)==null?void 0:c.manhour,(j=s.cps)==null?void 0:j.labor),u((S=s.cps)==null?void 0:S.inland)]})})},ne=s=>{if(s==null||s==="")return"";const l=Number(s);return isNaN(l)?String(s):l.toFixed(2)};function Rl({visibleParts:s,selectedRows:l,handleCheckboxChange:o,page:t,perPage:n,remarks:d,handleRemarkChange:p,expandedRows:u,handleToggleExpand:r,threshold_percentage:m=5}){return e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-sm text-center w-100",style:{fontSize:"8pt"},children:[e.jsxs("thead",{children:[e.jsxs("tr",{style:{backgroundColor:"#f7fbff"},children:[e.jsx("th",{rowSpan:2,style:{width:40},children:e.jsx("input",{type:"checkbox",checked:s.length>0&&s.every((i,x)=>l[(t-1)*n+x]),onChange:i=>{const x=i.target.checked,c={...l};s.forEach((j,S)=>{c[(t-1)*n+S]=x}),o(c)}})}),e.jsx("th",{rowSpan:2,style:{width:40}}),e.jsx("th",{rowSpan:2,style:{width:40},children:"No"}),e.jsx("th",{rowSpan:2,children:"Model CFC"}),e.jsx("th",{rowSpan:2,children:"Dest Code"}),e.jsx("th",{rowSpan:2,children:"Implementation Period"}),e.jsx("th",{rowSpan:2,children:"Part No"}),e.jsx("th",{rowSpan:2,children:"Suffix"}),e.jsx("th",{rowSpan:2,children:"Part Name"}),e.jsx("th",{rowSpan:2,children:"Parent Part No"}),e.jsx("th",{rowSpan:2,children:"Supplier Code"}),e.jsx("th",{rowSpan:2,children:"Supplier Name"}),e.jsx("th",{rowSpan:2,children:"L"}),e.jsx("th",{rowSpan:2,children:"W"}),e.jsx("th",{rowSpan:2,children:"H"}),e.jsx("th",{rowSpan:2,children:"Box M3"}),e.jsx("th",{colSpan:3,children:"INNER"}),e.jsx("th",{colSpan:3,children:"OUTER"}),e.jsx("th",{colSpan:3,children:"MATERIAL"}),e.jsx("th",{colSpan:3,children:"LABOR"}),e.jsx("th",{colSpan:3,children:"INLAND"}),e.jsx("th",{colSpan:3,children:"TOTAL"}),e.jsx("th",{rowSpan:2,children:"Remark"})]}),e.jsx("tr",{style:{backgroundColor:"#dee2e6"},children:[...Array(6)].map((i,x)=>e.jsxs(de.Fragment,{children:[e.jsx("th",{children:"Prev"}),e.jsx("th",{children:"Current"}),e.jsx("th",{children:"Diff"})]},x))})]}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:35,className:"text-center py-4 text-muted",children:"No Data Found"})}):s.map((i,x)=>{var D,g,f,v,C,O,A,B,k,L,w,$,y,_,I,q,Q,se,H,Y,W,J,R,Z,V,K,F,U,T,E,b,h,P,z,M,G,X,te,oe,he,be,ye;debugger;if(!i)return null;const c=(t-1)*n+x,j=u&&u[c];Number(((g=(D=i.subtotals)==null?void 0:D.total)==null?void 0:g.total)??0),Number(((v=(f=i.subtotals)==null?void 0:f.total)==null?void 0:v.prev_year)??0);const S=Number(((O=(C=i.subtotals)==null?void 0:C.total)==null?void 0:O.diff)??0),N=S>m;debugger;return e.jsxs(de.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:!!(l&&l[c]),onChange:xe=>{const Ae={...l,[c]:xe.target.checked};o(Ae)}})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-xs btn-link",onClick:()=>r(c),children:e.jsx("i",{className:`fas ${j?"fa-chevron-up":"fa-chevron-down"}`})})}),e.jsx("td",{children:c+1}),e.jsx("td",{children:i.model_cfc}),e.jsx("td",{children:i.destination}),e.jsx("td",{children:i.implementation_period}),e.jsx("td",{children:i.partNo}),e.jsx("td",{children:i.suffix}),e.jsx("td",{children:i.partName}),e.jsx("td",{children:i.parentPartNo}),e.jsx("td",{children:i.supplierCode}),e.jsx("td",{children:i.supplierName}),e.jsx("td",{children:ne(i.L)}),e.jsx("td",{children:ne(i.W)}),e.jsx("td",{children:ne(i.H)}),e.jsx("td",{children:ne(i.boxM3)}),e.jsx("td",{children:ne((B=(A=i.subtotals)==null?void 0:A.inner)==null?void 0:B.prev_year)}),e.jsx("td",{children:ne((L=(k=i.subtotals)==null?void 0:k.inner)==null?void 0:L.total)}),e.jsx("td",{children:ne(($=(w=i.subtotals)==null?void 0:w.inner)==null?void 0:$.diff)}),e.jsx("td",{children:ne((_=(y=i.subtotals)==null?void 0:y.outer)==null?void 0:_.prev_year)}),e.jsx("td",{children:ne((q=(I=i.subtotals)==null?void 0:I.outer)==null?void 0:q.total)}),e.jsx("td",{children:ne((se=(Q=i.subtotals)==null?void 0:Q.outer)==null?void 0:se.diff)}),e.jsx("td",{children:ne((Y=(H=i.subtotals)==null?void 0:H.material)==null?void 0:Y.prev_year)}),e.jsx("td",{children:ne((J=(W=i.subtotals)==null?void 0:W.material)==null?void 0:J.total)}),e.jsx("td",{children:ne((Z=(R=i.subtotals)==null?void 0:R.material)==null?void 0:Z.diff)}),e.jsx("td",{children:ne((K=(V=i.subtotals)==null?void 0:V.labor)==null?void 0:K.prev_year)}),e.jsx("td",{children:ne((U=(F=i.subtotals)==null?void 0:F.labor)==null?void 0:U.total)}),e.jsx("td",{children:ne((E=(T=i.subtotals)==null?void 0:T.labor)==null?void 0:E.diff)}),e.jsx("td",{children:ne((h=(b=i.subtotals)==null?void 0:b.inland)==null?void 0:h.prev_year)}),e.jsx("td",{children:ne((z=(P=i.subtotals)==null?void 0:P.inland)==null?void 0:z.total)}),e.jsx("td",{children:ne((G=(M=i.subtotals)==null?void 0:M.inland)==null?void 0:G.diff)}),e.jsx("td",{children:ne((te=(X=i.subtotals)==null?void 0:X.total)==null?void 0:te.prev_year)}),e.jsx("td",{children:ne((he=(oe=i.subtotals)==null?void 0:oe.total)==null?void 0:he.total)}),e.jsx("td",{style:{color:S>m?"red":void 0,fontWeight:S>m?"bold":void 0},children:ne((ye=(be=i.subtotals)==null?void 0:be.total)==null?void 0:ye.diff)}),e.jsx("td",{children:N?e.jsx("textarea",{className:"form-control form-control-sm",style:{minWidth:220,width:"100%"},value:d&&d[c]||"",onChange:xe=>p(c,xe.target.value),placeholder:"Enter remark",rows:3}):null})]}),j&&e.jsx("tr",{className:"expandable-row",children:e.jsx(Hs,{part:i})})]},c)})})]})})}function Ol({page:s,totalPages:l,goToPage:o,perPage:t}){return e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>o(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>o(Math.max(1,s-1)),children:"<"}),[...Array(l).keys()].map(n=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${s===n+1?"btn-primary":"btn-light"}`,onClick:()=>o(n+1),children:n+1},n)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>o(Math.min(l,s+1)),children:">"})]}),e.jsx("div",{className:"form-inline small",children:e.jsxs("span",{className:"mr-3",children:[t," per page"]})})]})}const ls={part:[],partInput:"",period:"All",destCode:"All",modelCfc:[],modelCfcInput:"",type:"PxP"};function Fl({show:s=!1,onClose:l,onSave:o}){const[t,n]=a.useState(ls),[d,p]=a.useState([]),[u,r]=a.useState([]),[m,i]=a.useState(5),[x,c]=a.useState(1),[j,S]=a.useState(!1),[N,D]=a.useState(!1),[g,f]=a.useState({}),[v,C]=a.useState({}),[O,A]=a.useState({}),[B,k]=a.useState([]);if(a.useEffect(()=>(s?(n(ls),p([]),r([]),c(1),A({}),document.body.classList.add("modal-open")):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[s]),a.useEffect(()=>{fetch("/generatedData.json").then(U=>U.json()).then(U=>{k(U.cpsData)}).catch(U=>console.error("Error loading generated data:",U))},[]),!s)return null;function L(U){const{name:T,value:E}=U.target;n(b=>({...b,[T]:E}))}function w(U){if(U.key===" "&&t.modelCfcInput.trim()){U.preventDefault();const T=t.modelCfcInput.trim();n(E=>E.modelCfc.includes(T)?{...E,modelCfcInput:""}:{...E,modelCfc:[...E.modelCfc,T],modelCfcInput:""})}}function $(U){if(U.key===" "&&t.partInput.trim()){U.preventDefault();const T=t.partInput.trim();n(E=>E.part.includes(T)?{...E,partInput:""}:{...E,part:[...E.part,T],partInput:""}),r(E=>E.some(h=>h.partNo===T)?E:[...E,{partNo:T}])}}const y=()=>{if(!B||!B.length){console.error("CPS data is not loaded yet.");return}let U=B;t.modelCfc.length>0&&(U=U.filter(E=>E.model_cfc&&t.modelCfc.includes(E.model_cfc)));let T=[];u.length>0?T=u.flatMap(E=>{const b=U.filter(h=>h&&h.part_no===E.partNo);return b.length===0?[{partNo:E.partNo,description:"NOT FOUND",calculationTime:new Date().toISOString()}]:b.map(h=>{var P,z;return{partNo:E.partNo,description:((P=h.part)==null?void 0:P.description)||"NOT FOUND",partName:h.partName,supplierName:h.supplierName,supplierCode:h.supplierCcode,destination:h.model?`${h.model.destinationCode} - ${h.model.destinationName}`:"N/A",model:(z=h.model)==null?void 0:z.name,parentNo:h.parentNo,cpsNo:h.cpsNo,calculationTime:new Date().toISOString(),subtotals:h.subtotals,total:h.total,cps:h.cps}})}):t.modelCfc.length>0&&(T=U.map(E=>{var b,h;return{partNo:E.part_no,description:((b=E.part)==null?void 0:b.description)||"NOT FOUND",partName:E.partName,supplierName:E.supplierName,supplierCode:E.supplierCcode,destination:E.model?`${E.model.destinationCode} - ${E.model.destinationName}`:"N/A",model:(h=E.model)==null?void 0:h.name,parentNo:E.parentNo,cpsNo:E.cpsNo,calculationTime:new Date().toISOString(),subtotals:E.subtotals,total:E.total,cps:E.cps}})),p(T)};function _(){n(ls),p([]),r([])}function I(U){if(Array.isArray(U)&&U.length>0){const T=U.map(E=>E.cfc);n(E=>{const b=E.modelCfc||[],h=T.filter(P=>!b.includes(P));return{...E,modelCfc:[...b,...h],modelCfcInput:""}})}D(!1)}function q(U){n(T=>({...T,modelCfc:T.modelCfc.filter(E=>E!==U)}))}function Q(){const U={...t,parts:d};o&&o(U)}function se(){l&&l()}function H(U){if(!Array.isArray(U)||U.length===0){S(!1);return}const T=U.map(b=>({partNo:b.partNo,suffix:"",partName:b.partName,parentPartNo:b.parentPartNo||b.parent||"",supplierId:b.supplierName&&(b.supplierId||b.supplierCode)||"",supplierName:b.supplierName,L:b.L||"",W:b.W||"",H:b.H||"",boxM3:b.boxM3||"",inner:{totalCost:b.innerTotal??0,prevYear:b.prevYear??0,diff:b.diffPerc??"0%",materials:b.innerMaterials||[]},outer:{totalCost:b.outerTotal??0,prevYear:b.prevYear??0,diff:b.diffPerc??"0%",materials:b.outerMaterials||[]},material:{totalCost:b.materialTotal??0,prevYear:b.prevYear??0,diff:b.diffPerc??"0%"},labor:{totalCost:b.laborTotal??20,prevYear:b.prevYear??0,diff:b.diffPerc??"0%",manHour:b.laborManHour??1.5,cost:b.laborCost??25,receiving:.1,inspection:.2,deliveryCourse:.1,supply:.1,binding:.1,sortingSupply:.2,pickPacking:.3,vanning:.2,boxValetReturn:.1,mixVan:.1,lashing:.1,totalTime:1.5,requirement:1,currentDL:1,idl:0,facilityOthers:0},inland:{totalCost:b.inlandTotal??30,prevYear:b.prevYear??0,diff:b.diffPerc??"0%",cost:b.inlandCost??35,packTime:b.inlandPackTime??"10:00",inlandCost:b.inlandInlandCost??40,inlandCostM3:b.inlandInlandCostM3??5,milkrunCost:b.inlandMilkrunCost??15},total:{totalCost:b.totalCost??0,prevYear:b.prevYear??0,diff:b.diffPerc??"0%"}}));r(b=>{const h=b.map(z=>z.partNo),P=T.filter(z=>!h.includes(z.partNo));return[...b,...P]});const E=T.map(b=>b.partNo);n(b=>{const h=b.part||[],P=E.filter(z=>!h.includes(z));return{...b,part:[...h,...P]}}),S(!1)}function Y(U){n(T=>({...T,part:T.part.filter(E=>E!==U)})),r(T=>T.filter(E=>E.partNo!==U))}const W=d.length,J=Math.max(1,Math.ceil(W/m));function R(U){c(Math.min(Math.max(1,U),J))}const Z=d.slice((x-1)*m,x*m);function V(U,T){f(E=>({...E,[U]:T}))}function K(U){C(U)}function F(U){A(T=>({...T,[U]:!T[U]}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"np-modal-backdrop",onMouseDown:U=>{U.target===U.currentTarget&&se()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:"95vw",maxHeight:"90vh",width:"95vw",height:"90vh"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h5",{className:"card-title mb-0",children:e.jsx("strong",{children:"Packing Cost Calculation New"})}),e.jsx("button",{type:"button",className:"close",onClick:se,"aria-label":"Close",children:e.jsx("span",{"aria-hidden":!0,children:"×"})})]}),e.jsxs("div",{className:"card-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsx(Ll,{form:t,change:L,setShowPartPicker:S,setShowModelPicker:D,handleCalculate:y,handleClear:_,onModelRemove:q,onPartRemove:Y,onModelCfcKeyDown:w,onPartKeyDown:$}),e.jsx(Rl,{visibleParts:Z,selectedRows:v,handleCheckboxChange:K,page:x,perPage:m,remarks:g,handleRemarkChange:V,expandedRows:O,handleToggleExpand:F,threshold_percentage:5}),e.jsx(Ol,{page:x,totalPages:J,goToPage:R,perPage:m})]}),e.jsxs("div",{className:"card-footer d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-success mr-2",onClick:Q,children:[e.jsx("i",{className:"fas fa-download mr-1"})," Save"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:se,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]})}),j&&e.jsx(Ce,{show:j,onClose:()=>S(!1),onSelect:H}),N&&e.jsx(as,{show:N,onClose:()=>D(!1),onAdd:I,selectionMode:"multi"})]})}function Wl({calCode:s,setCalCode:l,period:o,setPeriod:t,destCode:n,setDestCode:d,modelCode:p,setModelCode:u,type:r,setType:m,handleFilter:i,handleClear:x}){return e.jsxs("div",{className:"card-body",children:[e.jsx("form",{onSubmit:i,className:"mb-3",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Pack Cost Cal Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:s,onChange:c=>l(c.target.value),placeholder:"Pack Cost Cal Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Dest Code"}),e.jsxs("select",{className:"form-control form-control-sm",value:n,onChange:c=>d(c.target.value),children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"024W",children:"024W"}),e.jsx("option",{value:"ARG",children:"ARG"})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Type"}),e.jsxs("div",{className:"form-control form-control-sm",style:{minHeight:44},children:[e.jsxs("div",{className:"form-check form-check-inline mr-3",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_all",value:"All",checked:r==="All",onChange:()=>m("All")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_all",children:"All"})]}),e.jsxs("div",{className:"form-check form-check-inline mr-3",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_pxp",value:"PxP",checked:r==="PxP",onChange:()=>m("PxP")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_pxp",children:"PxP"})]}),e.jsxs("div",{className:"form-check form-check-inline",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"typeRadio",id:"type_lot",value:"Lot",checked:r==="Lot",onChange:()=>m("Lot")}),e.jsx("label",{className:"form-check-label ml-2",htmlFor:"type_lot",children:"Lot"})]})]})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Period"}),e.jsxs("select",{className:"form-control form-control-sm",value:o,onChange:c=>t(c.target.value),children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"01.2025"}),e.jsx("option",{children:"02.2025"}),e.jsx("option",{children:"03.2025"})]})]}),e.jsxs("div",{className:"form-group col-12",children:[e.jsx("label",{className:"small mb-1",children:"Model Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:p,onChange:c=>u(c.target.value),placeholder:"Model Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search",children:e.jsx("i",{className:"fas fa-search"})})})]})]})]})})]})}),e.jsxs("div",{className:"d-flex justify-content-end mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:i,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:x,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})]})}function Bl({rows:s,visibleRows:l,page:o,totalPages:t,goToPage:n,perPage:d,setPerPage:p,total:u}){const[r,m]=a.useState(null),i=c=>{if(c==null||c==="")return"";const j=Number(c);return isNaN(j)?String(c):j.toFixed(2)},x=c=>{m(r===c?null:c)};return e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Pack Cost Cal Code"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Dest Code"}),e.jsx("th",{children:"Dest Country"}),e.jsx("th",{children:"Model Code"}),e.jsx("th",{children:"# Parts"}),e.jsx("th",{children:"Type"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-4 text-muted",children:"No Data Found"})}):l.map((c,j)=>{const S=(o-1)*d+j;return e.jsxs(de.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:String(S+1).padStart(2,"0")}),e.jsx("td",{children:c.calCode}),e.jsx("td",{children:c.period}),e.jsx("td",{children:c.destCode}),e.jsx("td",{children:c.destCountry}),e.jsx("td",{children:c.modelCode}),e.jsx("td",{children:i(c.numParts)}),e.jsx("td",{children:c.type}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>x(S),children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>alert("Delete placeholder"),children:e.jsx("i",{className:"fas fa-trash"})})]})]}),r===S&&e.jsx("tr",{children:e.jsx("td",{colSpan:"9",children:c.parts&&c.parts.length>0?c.parts.map((N,D)=>e.jsx(Hs,{part:N},D)):e.jsx("div",{className:"p-3 text-center text-muted",children:"No part details available for this calculation."})})})]},j)})})]})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>n(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>n(Math.max(1,o-1)),children:"<"}),[...Array(t).keys()].map(c=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${o===c+1?"btn-primary":"btn-light"}`,onClick:()=>n(c+1),children:c+1},c)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>n(Math.min(t,o+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",u]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[d," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{p(3),setPage(1)},children:"3"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{p(10),setPage(1)},children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>{p(25),setPage(1)},children:"25"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})}function Hl(){const[s,l]=a.useState(""),[o,t]=a.useState("All"),[n,d]=a.useState("All"),[p,u]=a.useState(""),[r,m]=a.useState("All"),[i,x]=a.useState([]),[c,j]=a.useState([]),[S,N]=a.useState(3),[D,g]=a.useState(1),f=i.length,v=Math.max(1,Math.ceil(f/S)),[C,O]=a.useState(!1);a.useEffect(()=>{fetch("/packing-cost-fe/generatedData.json").then(y=>{if(!y.ok)throw new Error("Network response was not ok");return y.json()}).then(y=>{debugger;const _=y.map(I=>({id:I.id,calCode:I.pack_cost_cal_code,period:I.implementation_period,destCode:I.destination_code,destCountry:I.destination_country,modelCode:I.model_cfc,numParts:I.parts?I.parts.length:0,type:I.type,parts:I.parts||[]}));j(_),x([])}).catch(y=>{console.error("Error fetching packing cost data:",y)})},[]);function A($){$&&$.preventDefault&&$.preventDefault();let y=[...c];s&&(y=y.filter(_=>_.calCode.toLowerCase().includes(s.toLowerCase()))),o!=="All"&&(y=y.filter(_=>_.period===o)),n!=="All"&&(y=y.filter(_=>_.destCode===n)),p&&(y=y.filter(_=>_.modelCode.toLowerCase().includes(p.toLowerCase()))),r!=="All"&&(y=y.filter(_=>_.type===r)),x(y),g(1)}function B(){l(""),t("All"),d("All"),u(""),m("All"),x([]),g(1)}function k($){const y=Math.min(Math.max(1,$),v);g(y)}const L=i.slice((D-1)*S,D*S);function w($){console.log("Packing cost saved payload:",$);const y={...$,numParts:$.parts.length};x(_=>[..._,y]),O(!1)}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Packing Cost Calculation List"})}),e.jsxs("div",{className:"card-tools ml-auto d-flex align-items-center gap-2",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",title:"Calculate Packing Cost",onClick:()=>O(!0),children:[e.jsx("i",{className:"fas fa-calculator mr-1"})," Calculate Packing Cost"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Template",children:[e.jsx("i",{className:"fas fa-cloud-download-alt"})," Template"]})]})]}),e.jsx(Wl,{calCode:s,setCalCode:l,period:o,setPeriod:t,destCode:n,setDestCode:d,modelCode:p,setModelCode:u,type:r,setType:m,handleFilter:A,handleClear:B}),e.jsx(Bl,{rows:i,visibleRows:L,page:D,totalPages:v,goToPage:k,perPage:S,setPerPage:N,total:f})]}),e.jsx(Fl,{show:C,onClose:()=>O(!1),onSave:w})]})}function ke({title:s,value1:l,value2:o,diff:t,children:n}){const[d,p]=a.useState(!0),u=s.match(/^(.*?)\s*(\([^)]*\))?$/),r=u?u[1].trim():s,m=u&&u[2]?u[2]:"",i=c=>{if(c==null||c==="")return!1;if(typeof c=="number")return!0;let j=String(c).trim();return j.endsWith("%")&&(j=j.slice(0,-1)),j=j.replace(/[^0-9.\-]/g,""),j===""||j==="-"||j==="."||j==="-."?!1:/^-?\d+(\.\d+)?$/.test(j)},x=c=>({textAlign:i(c)?"right":"left",whiteSpace:"nowrap"});return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{style:{backgroundColor:"#f9f9f9",cursor:"pointer"},onClick:()=>p(!d),children:[e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{marginRight:6},children:d?"▼":"▶"}),e.jsx("span",{children:e.jsx("strong",{children:r})})]}),m&&e.jsx("span",{children:m})]})}),e.jsx("td",{style:x(l),children:l}),e.jsx("td",{style:x(o),children:o}),e.jsx("td",{style:x(t),children:t})]}),d&&n]})}const le=s=>{if(s==null||s==="")return"";const l=Number(s);return isNaN(l)?String(s):l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},Ge=s=>`Rp ${Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,ce=(s,l)=>{if(s==null||l==null)return"";const o=Number(s),t=Number(l);return isNaN(o)||isNaN(t)||o===0?"":`${((t-o)/o*100).toFixed(2)}%`},ae={textAlign:"right",whiteSpace:"nowrap"};function Ul(){const[s,l]=a.useState(0),[o,t]=a.useState(1),[n,d]=a.useState("2025"),[p,u]=a.useState("2026"),[r,m]=a.useState([]),[i,x]=a.useState([]);if(a.useEffect(()=>{fetch("/comparison.json").then(k=>k.json()).then(k=>m(k)),fetch("/cpsComparison.json").then(k=>k.json()).then(k=>x(k))},[]),r.length===0)return e.jsx("div",{children:"Loading..."});const c=r[s],j=r[o],S=c.materials.inner.reduce((k,L)=>k+L.value,0),N=j.materials.inner.reduce((k,L)=>k+L.value,0),D=c.materials.outer.reduce((k,L)=>k+L.value,0),g=j.materials.outer.reduce((k,L)=>k+L.value,0),f=S+D,v=N+g,C=c.labor.dl+c.labor.idl+c.labor.facility,O=j.labor.dl+j.labor.idl+j.labor.facility,A=c.inland.inlandCost+c.inland.milkrunCost,B=j.inland.inlandCost+j.inland.milkrunCost;return e.jsxs("div",{className:"container mt-3",children:[e.jsx("h5",{children:"Packing Cost Comparison"}),e.jsxs("table",{className:"table table-bordered table-sm",style:{fontSize:"0.85rem"},children:[e.jsxs("thead",{style:{backgroundColor:"#efefef"},children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Part No"}),e.jsx("th",{children:e.jsx("select",{className:"form-control form-control-sm",value:s,onChange:k=>l(Number(k.target.value)),children:r.map((k,L)=>e.jsxs("option",{value:L,children:[k.partNo," - ",k.code]},L))})}),e.jsx("th",{children:e.jsx("select",{className:"form-control form-control-sm",value:o,onChange:k=>t(Number(k.target.value)),children:r.map((k,L)=>e.jsxs("option",{value:L,children:[k.partNo," - ",k.code]},L))})}),e.jsx("th",{children:"Diff"})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Periode"}),e.jsx("th",{children:e.jsx("input",{value:n,onChange:k=>d(k.target.value),className:"form-control form-control-sm"})}),e.jsx("th",{children:e.jsx("input",{value:p,onChange:k=>u(k.target.value),className:"form-control form-control-sm"})}),e.jsx("th",{})]})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Part Name"}),e.jsx("td",{children:(c==null?void 0:c.name)||""}),e.jsx("td",{children:(j==null?void 0:j.name)||""}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Supplier"}),e.jsx("td",{children:(c==null?void 0:c.supplier)||""}),e.jsx("td",{children:(j==null?void 0:j.supplier)||""}),e.jsx("td",{})]}),e.jsxs("tr",{style:{fontWeight:"bold"},children:[e.jsx("td",{children:"TOTAL COST (Rp)"}),e.jsx("td",{style:ae,children:le(c==null?void 0:c.totalCost)}),e.jsx("td",{style:ae,children:le(j==null?void 0:j.totalCost)}),e.jsx("td",{style:ae,children:ce(c==null?void 0:c.totalCost,j==null?void 0:j.totalCost)})]}),e.jsxs(ke,{title:"Material (Rp)",value1:le(f),value2:le(v),diff:ce(f,v),children:[e.jsx(ke,{title:"Inner (Rp)",value1:le(S),value2:le(N),diff:ce(S,N),children:c.materials.inner.map((k,L)=>{const w=j.materials.inner[L];return e.jsxs(de.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:k.name}),e.jsx("td",{style:ae,children:le(k.value)}),e.jsx("td",{style:ae,children:le(w==null?void 0:w.value)}),e.jsx("td",{style:ae,children:ce(k.value,w==null?void 0:w.value)})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",k.detail.partNo]}),e.jsxs("div",{children:["- Code: ",k.detail.code]}),e.jsxs("div",{children:["- Qty: ",le(k.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ge(k.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",le(k.detail.qty*k.detail.price)]})]}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",w==null?void 0:w.detail.partNo]}),e.jsxs("div",{children:["- Code: ",w==null?void 0:w.detail.code]}),e.jsxs("div",{children:["- Qty: ",le(w==null?void 0:w.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ge(w==null?void 0:w.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",le((w==null?void 0:w.detail.qty)*(w==null?void 0:w.detail.price))]})]}),e.jsx("td",{})]})]},`inner-${L}`)})}),e.jsx(ke,{title:"Outer (Rp)",value1:le(D),value2:le(g),diff:ce(D,g),children:c.materials.outer.map((k,L)=>{const w=j.materials.outer[L];return e.jsxs(de.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:k.name}),e.jsx("td",{style:ae,children:le(k.value)}),e.jsx("td",{style:ae,children:le(w==null?void 0:w.value)}),e.jsx("td",{style:ae,children:ce(k.value,w==null?void 0:w.value)})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",k.detail.partNo]}),e.jsxs("div",{children:["- Code: ",k.detail.code]}),e.jsxs("div",{children:["- Qty: ",le(k.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ge(k.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",le(k.detail.qty*k.detail.price)]})]}),e.jsxs("td",{style:{paddingLeft:"40px",verticalAlign:"top"},children:[e.jsxs("div",{children:["- Part No: ",w==null?void 0:w.detail.partNo]}),e.jsxs("div",{children:["- Code: ",w==null?void 0:w.detail.code]}),e.jsxs("div",{children:["- Qty: ",le(w==null?void 0:w.detail.qty)]}),e.jsxs("div",{children:["- Price: ",Ge(w==null?void 0:w.detail.price)]}),e.jsxs("div",{children:["- Subtotal: ",le((w==null?void 0:w.detail.qty)*(w==null?void 0:w.detail.price))]})]}),e.jsx("td",{})]})]},`outer-${L}`)})})]}),e.jsxs(ke,{title:"Labor (Rp)",value1:le(C),value2:le(O),diff:ce(C,O),children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- DL"}),e.jsx("td",{style:ae,children:le(c.labor.dl)}),e.jsx("td",{style:ae,children:le(j.labor.dl)}),e.jsx("td",{style:ae,children:ce(c.labor.dl,j.labor.dl)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- IDL"}),e.jsx("td",{style:ae,children:le(c.labor.idl)}),e.jsx("td",{style:ae,children:le(j.labor.idl)}),e.jsx("td",{style:ae,children:ce(c.labor.idl,j.labor.idl)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Facility/Others"}),e.jsx("td",{style:ae,children:le(c.labor.facility)}),e.jsx("td",{style:ae,children:le(j.labor.facility)}),e.jsx("td",{style:ae,children:ce(c.labor.facility,j.labor.facility)})]})]}),e.jsxs(ke,{title:"Inland (Rp)",value1:le(A),value2:le(B),diff:ce(A,B),children:[e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Inland Cost"}),e.jsx("td",{style:ae,children:le(c.inland.inlandCost)}),e.jsx("td",{style:ae,children:le(j.inland.inlandCost)}),e.jsx("td",{style:ae,children:ce(c.inland.inlandCost,j.inland.inlandCost)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingLeft:"20px"},children:"- Milkrun Cost"}),e.jsx("td",{style:ae,children:le(c.inland.milkrunCost)}),e.jsx("td",{style:ae,children:le(j.inland.milkrunCost)}),e.jsx("td",{style:ae,children:ce(c.inland.milkrunCost,j.inland.milkrunCost)})]})]})]})]})]})}function ql({show:s,onClose:l,onSave:o,initialData:t=null,mode:n="new"}){const[d,p]=a.useState(""),[u,r]=a.useState(""),[m,i]=a.useState(""),[x,c]=a.useState(""),[j,S]=a.useState(""),[N,D]=a.useState(""),[g,f]=a.useState(""),[v,C]=a.useState(""),[O,A]=a.useState(""),[B,k]=a.useState(""),[L,w]=a.useState(""),[$,y]=a.useState(""),[_,I]=a.useState(""),[q,Q]=a.useState(""),[se,H]=a.useState(""),[Y,W]=a.useState(""),[J,R]=a.useState(""),[Z,V]=a.useState("");a.useEffect(()=>{s&&t?(p(t.materialNo||""),r(t.materialName||""),i(t.price??""),c(t.materialType||""),S(t.supplierCode||""),D(t.supplierName||""),f(t.address||""),C(t.plantCode||""),A(t.eWarehouse||""),k(t.eWarehousePrice||""),w(t.dimLength||""),y(t.dimWeightPc||""),I(t.dimWidth||""),Q(t.dimQtyBundling||""),H(t.dimHeight||""),W(t.totalDimWeight||""),R(t.docMSDS||""),V(t.docDrawing||"")):s||F()},[s,t]);function K(){if(!d||!u||!x){alert("Please fill in Material No, Material Name, and Material Type");return}const h={id:t==null?void 0:t.id,materialNo:d,materialName:u,price:m,materialType:x,supplierCode:j,supplierName:N,address:g,plantCode:v,eWarehouse:O,eWarehousePrice:B,dimLength:L,dimWeightPc:$,dimWidth:_,dimQtyBundling:q,dimHeight:se,totalDimWeight:Y,docMSDS:J,docDrawing:Z,createdDate:n==="edit"?(t==null?void 0:t.createdDate)||new Date().toLocaleDateString():new Date().toLocaleDateString()};o(h,n),F()}function F(){p(""),r(""),i(""),c(""),S(""),D(""),f(""),C(""),A(""),k(""),w(""),y(""),I(""),Q(""),H(""),W(""),R(""),V("")}function U(){const h=`EWH-${Math.random().toString(36).substr(2,9).toUpperCase()}`,P=(Math.random()*1e3).toFixed(2);A(h),k(P),i(P)}function T(){F(),l()}if(!s)return null;const E=n==="edit"?"Material - Edit":"Material - New",b=n==="edit"?"Save Changes":"Save Material";return e.jsx("div",{className:"np-modal-backdrop",onMouseDown:h=>{h.target===h.currentTarget&&T()},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:800},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:E})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:T,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",style:{fontSize:"0.7rem"},children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Item No ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",value:d,onChange:h=>p(h.target.value),placeholder:"Enter Item No",autoFocus:!0}),e.jsx("div",{className:"input-group-append",children:e.jsxs("button",{className:"btn btn-primary",type:"button",style:{fontSize:"0.8rem"},onClick:U,disabled:!d,children:[e.jsx("i",{className:"fas fa-search mr-1"}),"Search eWH"]})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Material Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",value:u,onChange:h=>r(h.target.value),placeholder:"Enter Material Name"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:m,onChange:h=>i(h.target.value),placeholder:"Enter Price",step:"0.01",min:"0"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"eWarehouse Price"}),e.jsx("input",{type:"number",className:"form-control",value:B,onChange:h=>k(h.target.value),placeholder:"eWarehouse Price",step:"0.01",min:"0",readOnly:!0})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Material Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{className:"form-control",value:x,onChange:h=>c(h.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),e.jsx("option",{value:"Inner",children:"Inner"}),e.jsx("option",{value:"Outer",children:"Outer"}),e.jsx("option",{value:"Module",children:"Module"}),e.jsx("option",{value:"Module",children:"Box"})]})]})]})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Supplier"})}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Code"}),e.jsx("input",{type:"text",className:"form-control",value:j,onChange:h=>S(h.target.value),placeholder:"Enter Supplier Code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Address"}),e.jsx("input",{type:"text",className:"form-control",value:g,readOnly:!0,placeholder:"Address"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",value:N,readOnly:!0,placeholder:"Supplier Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Plant Code"}),e.jsx("input",{type:"text",className:"form-control",value:v,readOnly:!0,placeholder:"Plant Code"})]})]})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Dimension"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Length (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:L,onChange:h=>w(h.target.value),placeholder:"Length (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Weight/pc (gr)"}),e.jsx("input",{type:"number",className:"form-control",value:$,onChange:h=>y(h.target.value),placeholder:"Weight/pc (gr)"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Width (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:_,onChange:h=>I(h.target.value),placeholder:" Width (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Qty/Bundling"}),e.jsx("input",{type:"number",className:"form-control",value:q,onChange:h=>Q(h.target.value),placeholder:"Qty/Bundling"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:["Height (mm) ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"number",className:"form-control",value:se,onChange:h=>H(h.target.value),placeholder:"Height (mm)"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Total Weight (gr)"}),e.jsx("input",{type:"number",className:"form-control",value:Y,onChange:h=>W(h.target.value),placeholder:"Total Weight (gr)"})]})})]}),e.jsx("h6",{className:"mt-3",children:e.jsx("b",{children:"Documents"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"MSDS"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-image"})})}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:h=>{var P;return R(((P=h.target.files[0])==null?void 0:P.name)||"")}})]})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Drawing"}),e.jsxs("div",{className:"input-group",children:[e.jsx("div",{className:"input-group-prepend",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-image"})})}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:h=>{var P;return V(((P=h.target.files[0])==null?void 0:P.name)||"")}})]})]})})]})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary mr-2",onClick:T,children:[e.jsx("i",{className:"fas fa-times mr-1"}),"Cancel"]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:K,children:[e.jsx("i",{className:"fas fa-save mr-1"}),b]})]})]})})}function $l({materialNo:s,setMaterialNo:l,materialName:o,setMaterialName:t,parentMaterial:n,setParentMaterial:d,itemNo:p,setItemNo:u,price:r,setPrice:m,materialType:i,setMaterialType:x,onFilter:c,onClearFilters:j}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Item No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s,onChange:S=>l(S.target.value),placeholder:"Material No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Material Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:o,onChange:S=>t(S.target.value),placeholder:"Material Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Parent Material"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:S=>d(S.target.value),placeholder:"Parent Material"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"eWarehouse Item No"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:p,onChange:S=>u(S.target.value),placeholder:"Item No"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Price"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:S=>m(S.target.value),placeholder:"Price"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Material Type"}),e.jsxs("select",{className:"form-control form-control-sm",value:i,onChange:S=>x(S.target.value),children:[e.jsx("option",{value:"",children:"Select Material Type"}),e.jsx("option",{value:"Inner",children:"Inner"}),e.jsx("option",{value:"Outer",children:"Outer"}),e.jsx("option",{value:"Module",children:"Module"}),e.jsx("option",{value:"Box",children:"Module"})]})]})]})]}),e.jsxs("div",{className:"form-group text-right mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:c,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:j,children:[e.jsx("i",{className:"fas fa-undo mr-1"})," Clear"]})]})]})}function Kl({materials:s,allMaterials:l,totalMaterials:o,currentPage:t,totalPages:n,pageSize:d,onPageChange:p,onDeleteMaterial:u,onEditMaterial:r}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50},className:"text-center",children:"No"}),e.jsx("th",{className:"text-center",children:"Item No"}),e.jsx("th",{className:"text-center",children:"Material Name"}),e.jsx("th",{className:"text-center",children:"Price"}),e.jsx("th",{className:"text-center",children:"eWH Item No"}),e.jsx("th",{className:"text-center",children:"eWH Price"}),e.jsx("th",{className:"text-center",children:"Material Type"}),e.jsx("th",{style:{width:120},className:"text-center",children:"Action"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-4 text-muted text-center",children:"No Data Found"})}):s.map((m,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:(t-1)*d+i+1}),e.jsx("td",{className:"text-center",children:m.materialNo}),e.jsx("td",{children:m.materialName}),e.jsx("td",{className:"text-center",children:m.price}),e.jsx("td",{className:"text-center",children:m.eWarehouse}),e.jsx("td",{className:"text-center",children:m.eWarehousePrice}),e.jsx("td",{className:"text-center",children:m.materialType}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>r&&r(m),title:"Edit Material",children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>u&&u(i),title:"Delete Material",children:e.jsx("i",{className:"fas fa-trash"})})]})]},m.id||i))})]})}),n>1&&e.jsx(_e,{currentPage:t,totalPages:n,totalItems:o,pageSize:d,onPageChange:p})]})}function Ss(){const[s,l]=a.useState(""),[o,t]=a.useState(""),[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState(!1),[S,N]=a.useState("new"),[D,g]=a.useState(null),[f,v]=a.useState(1),C=10,[O,A]=a.useState([]),[B,k]=a.useState([]);a.useEffect(()=>{fetch("/packing-cost-fe/materials.json").then(J=>{if(!J.ok)throw new Error("Network response was not ok");return J.json()}).then(J=>{A(J),k([])}).catch(J=>{console.error("Error fetching materials:",J)})},[]);const L=Math.ceil(B.length/C),w=(f-1)*C,$=w+C,y=B.slice(w,$);function _(){let W=O.filter(R=>{const Z=!s||R.materialNo&&R.materialNo.toLowerCase().includes(s.toLowerCase()),V=!o||R.materialName&&R.materialName.toLowerCase().includes(o.toLowerCase()),K=!n||R.parentMaterial&&R.parentMaterial.toLowerCase().includes(n.toLowerCase()),F=!p||R.itemNo&&R.itemNo.toLowerCase().includes(p.toLowerCase()),U=!r||R.price&&R.price.toString().includes(r),T=!i||R.materialType===i;return Z&&V&&K&&F&&U&&T});k(!s&&!o&&!n&&!p&&!r&&!i?[...O].reverse():W),v(1),console.log(`Filtered ${W.length} materials from ${O.length} total`)}function I(){l(""),t(""),d(""),u(""),m(""),x(""),k([]),v(1)}function q(){g(null),N("new"),j(!0)}function Q(){j(!1),g(null),N("new")}function se(W,J="new"){if(J==="edit"&&D){const R=D.materialNo,Z=O.map(K=>K.materialNo===R?{...K,...W}:K),V=B.map(K=>K.materialNo===R?{...K,...W}:K);A(Z),k(V)}else A(R=>[W,...R]),k(R=>[W,...R]);j(!1),g(null),N("new")}function H(W){if(!confirm("Delete this material?"))return;const J=(f-1)*C+W,R=B[J];if(!R)return;const Z=B.filter((F,U)=>U!==J),V=O.filter(F=>F.materialNo!==R.materialNo);k(Z),A(V);const K=Math.ceil(Z.length/C);f>K&&K>0&&v(K)}function Y(W){g(W),N("edit"),j(!0)}return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Material List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:q,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Material"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Upload placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Download template placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-download-alt"})," Template"]})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsx($l,{materialNo:s,setMaterialNo:l,materialName:o,setMaterialName:t,parentMaterial:n,setParentMaterial:d,itemNo:p,setItemNo:u,price:r,setPrice:m,materialType:i,setMaterialType:x,onFilter:_,onClearFilters:I}),e.jsx(Kl,{materials:y,allMaterials:O,totalMaterials:B.length,currentPage:f,totalPages:L,pageSize:C,onPageChange:v,onDeleteMaterial:H,onEditMaterial:Y})]}),e.jsx(ql,{show:c,onClose:Q,onSave:se,initialData:D,mode:S})]})})}function Vl(){const s=Ne(),[l,o]=a.useState(!1),[t,n]=a.useState(!1),d=Ps(),p=Ie();a.useEffect(()=>{const m=(d.pathname||"").toLowerCase();m.startsWith("/projects")||m.startsWith("/models")||m.startsWith("/parts")||m.startsWith("/suppliers")||m.startsWith("/material")||m.startsWith("/module-type")||m.startsWith("/params")?o(!0):o(!1),m.startsWith("/packing")||m.startsWith("/cps")||m.startsWith("/dpi")||m.startsWith("/calculate-packing-cost")||m.startsWith("/calculate")?n(!0):n(!1)},[d.pathname]);const u=({isActive:m})=>"nav-link"+(m?" active":"");function r(m){m&&m.preventDefault&&m.preventDefault();try{s&&typeof s.logout=="function"&&s.logout()}catch{}p("/login")}return e.jsxs("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",style:{minHeight:"100vh"},children:[e.jsx("div",{className:"brand-link",children:e.jsx(ie,{to:"/",className:"d-block text-decoration-none",children:e.jsx("span",{className:"brand-text font-weight-light",children:"My App"})})}),e.jsx("div",{className:"sidebar d-flex flex-column",style:{minHeight:"calc(100vh - 56px)"},children:e.jsx("nav",{className:"mt-2 flex-grow-1",children:e.jsxs("ul",{className:"nav nav-pills nav-sidebar flex-column",role:"menu","aria-orientation":"vertical",style:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/",className:u,end:!0,children:[e.jsx("i",{className:"nav-icon fas fa-tachometer-alt"}),e.jsx("p",{children:"Dashboard"})]})}),e.jsxs("li",{className:`nav-item has-treeview ${l?"menu-open":""}`,children:[e.jsxs("div",{role:"button",onClick:()=>o(m=>!m),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&o(i=>!i)},tabIndex:0,"aria-expanded":l,className:`nav-link d-flex align-items-center ${l?"active":""}`,style:{cursor:"pointer",userSelect:"none"},children:[e.jsx("i",{className:"nav-icon fas fa-database"}),e.jsx("p",{className:"flex-grow-1 mb-0 ml-2",children:"Master"}),e.jsx("i",{className:`right fas ${l?"fa-angle-down":"fa-angle-left"}`})]}),e.jsxs("ul",{className:"nav nav-treeview",style:{display:l?"block":"none"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/projects",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Projects"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/models",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Models"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/material",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Material"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/parts",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Parts"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/suppliers",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Suppliers"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/params",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Parameters"})]})})]})]}),e.jsxs("li",{className:`nav-item has-treeview ${t?"menu-open":""}`,children:[e.jsxs("div",{role:"button",onClick:()=>n(m=>!m),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&n(i=>!i)},tabIndex:0,"aria-expanded":t,className:`nav-link d-flex align-items-center ${t?"active":""}`,style:{cursor:"pointer",userSelect:"none"},children:[e.jsx("i",{className:"nav-icon fas fa-box-open"}),e.jsx("p",{className:"flex-grow-1 mb-0 ml-2",children:"Packing Spec"}),e.jsx("i",{className:`right fas ${t?"fa-angle-down":"fa-angle-left"}`})]}),e.jsxs("ul",{className:"nav nav-treeview",style:{display:t?"block":"none"},children:[e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/packing/cps",className:({isActive:m})=>"nav-link"+(m?" active":""),children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"CPS"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/packing/DPI",className:({isActive:m})=>"nav-link"+(m?" active":""),children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"DPI"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/packing/CalculatePackingCost",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Calculate Packing Cost"})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs(ie,{to:"/packing/ComparisonPage",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Comparison"})]})})]})]}),e.jsx("li",{style:{marginTop:"auto"}}),e.jsx("li",{className:"nav-item",style:{padding:"0.5rem 0"},children:e.jsxs(ie,{to:"/settings",className:u,children:[e.jsx("i",{className:"far fa-circle nav-icon"}),e.jsx("p",{children:"Settings"})]})}),e.jsx("li",{className:"nav-item",style:{padding:"0.5rem 0"},children:e.jsxs("button",{type:"button",onClick:r,className:"btn btn-block btn-outline-danger d-flex align-items-center",style:{justifyContent:"flex-start"},children:[e.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),e.jsx("span",{children:"Logout"})]})})]})})})]})}function Gl(){const s=Ne(),l=Ie(),o=()=>{l("/notification-detail")};return e.jsxs("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[e.jsxs("ul",{className:"navbar-nav",children:[e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:e.jsx("i",{className:"fas fa-bars"})})}),e.jsx("li",{className:"nav-item d-none d-sm-inline-block",children:e.jsx("a",{href:"#",className:"nav-link",children:"Home"})})]}),e.jsxs("ul",{className:"navbar-nav ml-auto",children:[e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs("a",{className:"nav-link","data-toggle":"dropdown",href:"#",children:[e.jsx("i",{className:"far fa-bell"}),e.jsx("span",{className:"badge badge-warning navbar-badge",children:"2"})]}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[e.jsx("span",{className:"dropdown-item dropdown-header",children:"2 Notifications"}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-item",children:[e.jsx("p",{style:{fontWeight:"bold"},children:"Date : 20 Feb 2025 13:15"}),e.jsx("p",{className:"text-sm",children:"You have new form request to review."}),e.jsx("p",{className:"text-sm text-muted",children:"From : Jonathan Hairi at 20 Feb 2025 13:10"}),e.jsx("p",{className:"text-sm text-muted",children:"Dept : PPMD"}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"See Detail"})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-item",children:[e.jsx("p",{style:{fontWeight:"bold"},children:"Date : 19 Feb 2025 12:15"}),e.jsx("p",{className:"text-sm",children:"Your form submission has been rejected by :"}),e.jsx("p",{className:"text-sm text-muted",children:"By : Jonathan Hairi at 19 Feb 2025 13:10"}),e.jsx("p",{className:"text-sm text-muted",children:"Dept : PPMD"}),e.jsx("p",{className:"text-sm text-muted",children:"Comment: Sheet tersebut sudah tidak ada di pasaran dan akan diganti sheet yg sama dari supplier lain."}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"See Detail"})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsx("a",{href:"#",className:"dropdown-item dropdown-footer",children:"See All Notifications"})]})]}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:e.jsx("i",{className:"fas fa-expand-arrows-alt"})})}),s.user&&e.jsx("li",{className:"nav-item d-none d-sm-inline-block",children:e.jsx("span",{className:"nav-link",children:s.user.username})})]})]})}St.register(wt,Pt,kt,It,_t,At);const Yl={labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Orders",data:[12,19,7,14,10],backgroundColor:"#007bff"}]};function zl(){return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Sales"})}),e.jsx("div",{className:"card-body",children:e.jsx(yt,{data:Yl})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Quick Stats"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"info-box mb-3 bg-info",children:[e.jsx("span",{className:"info-box-icon",children:e.jsx("i",{className:"fas fa-shopping-cart"})}),e.jsxs("div",{className:"info-box-content",children:[e.jsx("span",{className:"info-box-text",children:"Orders"}),e.jsx("span",{className:"info-box-number",children:"1,250"})]})]})})]})}),e.jsx("div",{className:"col-12 mt-3",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Recent Items"})}),e.jsx("div",{className:"card-body p-0",children:e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Qty"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"1"}),e.jsx("td",{children:"33504-BZ292-C1"}),e.jsx("td",{children:"Hose"}),e.jsx("td",{children:"10"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"2"}),e.jsx("td",{children:"122810Y110"}),e.jsx("td",{children:"Hanger"}),e.jsx("td",{children:"2"})]})]})]})})]})})]})}function Jl(){const s=Ne(),[l,o]=a.useState(""),[t,n]=a.useState(""),[d,p]=a.useState(""),u=r=>{r.preventDefault(),s.login(l,t)||p("Invalid username or password")};return e.jsx("div",{className:"login-page bg-light min-vh-100 d-flex align-items-center justify-content-center",children:e.jsx("div",{className:"card shadow-sm",style:{width:"360px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Sign In"}),d&&e.jsx("div",{className:"alert alert-danger py-2",role:"alert",children:d}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),e.jsx("input",{type:"text",id:"username",className:"form-control",value:l,onChange:r=>o(r.target.value),placeholder:"Enter username",required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",id:"password",className:"form-control",value:t,onChange:r=>n(r.target.value),placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]})]})})})}function Ql({visible:s,onClose:l,onSave:o,initialData:t}){const[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState("Draft"),[i,x]=a.useState(""),[c,j]=a.useState(""),[S,N]=a.useState(""),[D,g]=a.useState([]),[f,v]=a.useState(!1);a.useEffect(()=>{t?(d(t.project_code||""),u(t.project_name||""),m(t.project_status||"Draft"),x(t.project_manager||""),j(t.description||""),N(t.note||""),g(t.models||[])):(d(""),u(""),m("Draft"),x(""),j(""),N(""),g([]))},[t,s]);const C=()=>{v(!0)},O=L=>{g(w=>[...w,...L]),v(!1)},A=(L,w,$)=>{g(y=>y.map((_,I)=>I===L?{..._,[w]:$}:_))},B=L=>{g(w=>w.filter(($,y)=>y!==L))},k=()=>{o&&o({code:n,name:p,status:r,manager:i,description:c,note:S,models:D})};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"np-modal-backdrop",style:{position:"fixed",inset:0,zIndex:1040},children:e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:1e3,margin:"40px auto",zIndex:1041},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:t?"Project - Edit":"Project - New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool","aria-label":"Close",onClick:l,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"small",children:["Project Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:n,onChange:L=>d(L.target.value),placeholder:"Project Code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Project Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:p,onChange:L=>u(L.target.value),placeholder:"Project Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"small",children:["Status ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("select",{className:"form-control form-control-sm mb-2",value:r,onChange:L=>m(L.target.value),children:[e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"On Hold"}),e.jsx("option",{children:"Completed"})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Project Manager"}),e.jsxs("div",{className:"input-group input-group-sm mb-2",children:[e.jsx("input",{className:"form-control form-control-sm",value:i,onChange:L=>x(L.target.value),placeholder:"Project Manager"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user"})})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Description"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:c,onChange:L=>j(L.target.value),placeholder:"Description"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small",children:"Note"}),e.jsx("textarea",{className:"form-control form-control-sm mb-2",value:S,onChange:L=>N(L.target.value),rows:2,placeholder:"Note"})]})]})]}),e.jsx("div",{className:"card mt-3",children:e.jsxs("div",{className:"card-body p-2",children:[e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:C,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Add Model"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",children:[e.jsx("i",{className:"fas fa-cloud-download-alt"})," Template"]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40,textAlign:"center"},children:"No"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Code"}),e.jsx("th",{style:{textAlign:"center"},children:"CFC"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Impl. Period"}),e.jsx("th",{style:{textAlign:"center"},children:"Dest. Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Type"}),e.jsx("th",{style:{textAlign:"center"},children:"Remark"}),e.jsx("th",{style:{width:90,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center text-muted py-4",children:"No Data Found"})}):D.map((L,w)=>e.jsxs("tr",{children:[e.jsx("td",{children:w+1}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_code,onChange:$=>A(w,"model_code",$.target.value),placeholder:"Model Code"})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_cfc,onChange:$=>A(w,"model_cfc",$.target.value),placeholder:"CFC",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_name,onChange:$=>A(w,"model_name",$.target.value),placeholder:"Model Name",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_implementation_period,onChange:$=>A(w,"model_implementation_period",$.target.value),placeholder:"Implementation Period",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_destination_code,onChange:$=>A(w,"model_destination_code",$.target.value),placeholder:"Destination Code",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_type,onChange:$=>A(w,"model_type",$.target.value),placeholder:"Type",readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{className:"form-control form-control-sm",value:L.model_remark,onChange:$=>A(w,"model_remark",$.target.value),placeholder:"Remark",readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>B(w),children:e.jsx("i",{className:"fas fa-trash"})})})]},w))})]})})]})})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{type:"button",className:"btn btn-primary mr-2",onClick:k,children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:l,children:"Cancel"})]})]})}),e.jsx(as,{show:f,onClose:()=>v(!1),onAdd:O})]}):null}function Zl({code:s,setCode:l,name:o,setName:t,models:n,setModels:d,manager:p,setManager:u,statuses:r,setStatuses:m,handleSearch:i,clearFilters:x,handleOpenNew:c}){function j(S){if(S==="all"){const N=!r.all;m({all:N,draft:!1,active:!1,onhold:!1,completed:!1})}else m(N=>({...N,[S]:!N[S],all:!1}))}return e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:s,onChange:S=>l(S.target.value),className:"form-control form-control-sm",placeholder:"Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search code",children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Name"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:o,onChange:S=>t(S.target.value),className:"form-control form-control-sm",placeholder:"Project name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search name",children:e.jsx("i",{className:"fas fa-search"})})})]})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Related Models"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:n,onChange:S=>d(S.target.value),className:"form-control form-control-sm",placeholder:"Model code / name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Select Model",children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Project Manager"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:p,onChange:S=>u(S.target.value),className:"form-control form-control-sm",placeholder:"Manager name"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-user"})})})]})]})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 col-md-6",children:[e.jsx("label",{className:"small mb-1 d-block",children:"Status"}),e.jsx("div",{className:"form-inline flex-wrap",children:["all","draft","active","onhold","completed"].map(S=>{const N=`status-${S}`;return e.jsxs("div",{className:"form-check mr-3",children:[e.jsx("input",{id:N,type:"checkbox",className:"form-check-input",checked:r[S],onChange:()=>j(S)}),e.jsx("label",{className:"form-check-label small ml-1",htmlFor:N,children:S==="onhold"?"On Hold":S.charAt(0).toUpperCase()+S.slice(1)})]},S)})})]})}),e.jsx("div",{className:"row mt-2",children:e.jsxs("div",{className:"col-12 d-flex justify-content-end",children:[e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mr-2",onClick:i,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:x,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})})]})}function Xl({results:s,handleEdit:l,handleDelete:o,currentPage:t,setCurrentPage:n,pageSize:d}){const p=Math.ceil(s.length/d),u=s.slice((t-1)*d,t*d);return e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{className:"thead-light",style:{position:"sticky",top:0,zIndex:5},children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50},children:"No"}),e.jsx("th",{children:"Project Code"}),e.jsx("th",{children:"Project Name"}),e.jsx("th",{children:"Project Manager"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Models"}),e.jsx("th",{style:{width:120},children:"Action"})]})}),e.jsxs("tbody",{children:[u.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:"No Data Found"})}),u.map((r,m)=>e.jsxs("tr",{children:[e.jsx("td",{children:(t-1)*d+m+1}),e.jsx("td",{children:r.project_code}),e.jsx("td",{children:r.project_name}),e.jsx("td",{children:r.project_manager}),e.jsx("td",{children:r.project_status}),e.jsx("td",{children:Array.isArray(r.models)?r.models.map(i=>typeof i=="string"?i:i.model_code).join(", "):r.models}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>l((t-1)*d+m),children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>o((t-1)*d+m),children:e.jsx("i",{className:"fas fa-trash"})})]})]},m))]})]})}),e.jsx(_e,{currentPage:t,totalPages:p,totalItems:s.length,pageSize:d,onPageChange:n})]})}function ea(){const[s,l]=a.useState(""),[o,t]=a.useState(""),[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState({all:!0,draft:!1,active:!1,onhold:!1,completed:!1}),[i,x]=a.useState(!1),[c,j]=a.useState(null),[S,N]=a.useState([]),[D,g]=a.useState([]),[f,v]=a.useState(1),C=10;a.useEffect(()=>{fetch("/packing-cost-fe/projects.json").then(_=>{if(!_.ok)throw new Error("Network response was not ok");return _.json()}).then(_=>{g(_)}).catch(_=>{console.error("Error fetching projects:",_)})},[]);function O(){l(""),t(""),d(""),u(""),m({all:!0,draft:!1,active:!1,onhold:!1,completed:!1}),N([]),v(1)}function A(){const y=!s&&!o&&!n&&!p&&r.all;let _=D.filter(I=>{var q,Q,se;return(!s||((q=I.code)==null?void 0:q.toLowerCase().includes(s.toLowerCase())))&&(!o||((Q=I.name)==null?void 0:Q.toLowerCase().includes(o.toLowerCase())))&&(!n||(Array.isArray(I.models)?I.models.join(", ").toLowerCase().includes(n.toLowerCase()):(I.models||"").toLowerCase().includes(n.toLowerCase())))&&(!p||((se=I.manager)==null?void 0:se.toLowerCase().includes(p.toLowerCase())))});if(!r.all){const I=[];r.draft&&I.push("Draft"),r.active&&I.push("Active"),r.onhold&&I.push("On Hold"),r.completed&&I.push("Completed"),I.length>0&&(_=_.filter(q=>I.includes(q.status)))}N(y?[..._].reverse():_),v(1)}function B(){j(null),x(!0)}function k(){x(!1)}function L(y){if(c!==null)N(_=>_.map((I,q)=>q!==c?I:{...I,project_code:y.code,project_name:y.name,project_manager:y.manager,project_status:y.status,description:y.description,note:y.note,models:y.models}));else{const _={project_code:y.code||`CFC-${((S||[]).length+1).toString().padStart(3,"0")}`,project_name:y.name||"(No name)",project_manager:y.manager||"",project_status:y.status||"Draft",description:y.description,note:y.note,models:y.models};N(I=>[_,...I||[]])}x(!1),j(null)}function w(y){j(y),x(!0)}function $(y){N(_=>_.filter((I,q)=>q!==y))}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-secondary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Project List"})}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:B,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," New Project"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Download Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(Zl,{code:s,setCode:l,name:o,setName:t,models:n,setModels:d,manager:p,setManager:u,statuses:r,setStatuses:m,handleSearch:A,clearFilters:O,handleOpenNew:B}),e.jsx(Xl,{results:S,handleEdit:w,handleDelete:$,currentPage:f,setCurrentPage:v,pageSize:C})]}),e.jsx(Ql,{visible:i,onClose:k,onSave:L,initialData:c!==null&&S&&S[c]?{...S[c],models:Array.isArray(S[c].models)?S[c].models.map(y=>typeof y=="string"?{code:y,name:"",remark:""}:y):(S[c].models||"").split(",").map(y=>({code:y.trim(),name:"",remark:""}))}:null})]})}function sa({show:s,onClose:l,onSave:o,initialData:t}){const[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState(""),[S,N]=a.useState(""),[D,g]=a.useState(""),[f,v]=a.useState(""),[C,O]=a.useState(""),[A,B]=a.useState(""),[k,L]=a.useState(""),[w,$]=a.useState([]),[y,_]=a.useState(!1),[I,q]=a.useState([]);a.useEffect(()=>{var R,Z;s&&(t?(d(((R=t.project)==null?void 0:R.project_code)||""),u(((Z=t.project)==null?void 0:Z.project_name)||""),m(t.model_code||""),x(t.model_name||""),j(t.model_remark||""),v(t.model_implementation_period||""),O(t.model_destination_code||""),B(t.destinationCountryCode||""),L(t.country||""),$(t.parts||[]),N(t.model_cfc||""),g(t.model_type||"")):(d(""),u(""),m(""),x(""),j(""),v(""),O(""),B(""),L(""),$([]),N(""),g("")),_(!1))},[s,t]),a.useEffect(()=>{fetch("/projects.json").then(R=>R.json()).then(R=>q(R))},[]),a.useEffect(()=>{if(n){const R=I.find(Z=>Z.project_code===n);u(R?R.project_name:"")}else u("")},[n]);function Q(){_(!0)}function se(R){const Z=R.map(V=>({partNo:V.partNo||"",suffix:"",name:V.partName||"",parent:V.parentPartNo||"",supplierId:V.supplierId||"",supplierName:V.supplierName||"",L:V.L||0,W:V.W||0,H:V.H||0,wtPerPc:V.wtPerPc||0,qty:1,totalWt:V.wtPerPc?(1*V.wtPerPc).toFixed(2):0}));$(V=>[...V,...Z]),_(!1)}function H(R){$(Z=>Z.filter((V,K)=>K!==R))}function Y(R,Z,V){const K=[...w],F={...K[R]};if(F[Z]=V,Z==="qty"||Z==="wtPerPc"){const U=Z==="qty"?V:F.qty,T=Z==="wtPerPc"?V:F.wtPerPc;F.totalWt=(Number(U)*Number(T)).toFixed(2)}K[R]=F,$(K)}function W(R){O(R);const Z=Ye.find(V=>V.destCode===R);Z?(B(Z.code),L(Z.country)):(B(""),L(""))}function J(){if(!r.trim()){alert("Please enter Model Code");return}const R={...t||{},model_code:r,model_name:i,model_remark:c,model_implementation_period:f,model_destination_code:C,destinationCountryCode:A,country:k,parts:w.slice(),model_cfc:S,model_type:D,project:{...(t==null?void 0:t.project)||{},project_code:n,project_name:p}};console.log("Saving model:",R),o(R)}return s?e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:R=>{R.target===R.currentTarget&&l()},children:[e.jsxs("div",{className:"np-modal card card-outline card-success",style:{maxWidth:1200},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsxs("b",{children:["Model - ",t?"Edit":"New"]})}),e.jsx("div",{className:"ml-2 text-muted small",style:{marginLeft:8},children:"|"}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:l,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Model Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:r,onChange:R=>m(R.target.value),placeholder:"Model Code"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Model Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:i,onChange:R=>x(R.target.value),placeholder:"Model Name"})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"CFC"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:S,onChange:R=>N(R.target.value),placeholder:"CFC"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Type"}),e.jsxs("select",{className:"form-control form-control-sm mb-2",value:D,onChange:R=>g(R.target.value),children:[e.jsx("option",{value:"",children:"-- Select Type --"}),e.jsx("option",{value:"PxP",children:"PxP"}),e.jsx("option",{value:"Lot",children:"Lot"}),e.jsx("option",{value:"Engine",children:"Engine"})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Project Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:n,onChange:R=>d(R.target.value),placeholder:"Project Code"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Project Name"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:p,placeholder:"Project Name",readOnly:!0,style:{backgroundColor:"#f8f9fa"}})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Implementation Period ",e.jsx("span",{style:{color:"red"},children:"*"})," ",e.jsx("span",{className:"text-muted ml-2",children:e.jsx("i",{children:"e.g., 02.2025"})})]}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:f,onChange:R=>v(R.target.value),placeholder:"Implementation Period"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"small",children:["Destination Code ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("div",{className:"input-group input-group-sm mb-2",children:[e.jsx("input",{className:"form-control form-control-sm",value:C,onChange:R=>W(R.target.value),placeholder:"Destination Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-map-marker-alt"})})})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Destination Country Code"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:A,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"small",children:"Country"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:k,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"small",children:"Remark"}),e.jsx("input",{className:"form-control form-control-sm mb-2",value:c,onChange:R=>j(R.target.value),placeholder:"Remark"})]})}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-2",onClick:Q,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Part"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-2",onClick:()=>alert("Upload placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-upload-alt mr-1"})," Upload"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Download template placeholder"),children:[e.jsx("i",{className:"fas fa-cloud-download-alt mr-1"})," Template"]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",style:{fontSize:"0.8rem"},children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:130,textAlign:"center"},children:"Part No"}),e.jsx("th",{style:{width:50,textAlign:"center"},children:"Suffix"}),e.jsx("th",{style:{textAlign:"center"},children:"Name"}),e.jsx("th",{style:{textAlign:"center"},children:"Parent"}),e.jsx("th",{style:{width:50,textAlign:"center"},children:"Supplier ID"}),e.jsx("th",{style:{textAlign:"center"},children:"Supplier Name"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"L"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"W"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"H"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"Wt/pc"}),e.jsx("th",{style:{width:60,textAlign:"center"},children:"Qty"}),e.jsx("th",{style:{width:70,textAlign:"center"},children:"Total Wt"}),e.jsx("th",{style:{width:70,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"13",className:"text-center text-muted",children:"- No parts added yet -"})}):w.map((R,Z)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.partNo,onChange:V=>Y(Z,"partNo",V.target.value)})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.suffix,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.name,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.parent,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.supplierId,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.supplierName,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:R.L,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:R.W,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:R.H,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",style:{textAlign:"right"},value:R.wtPerPc,readOnly:!0})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-control form-control-sm",style:{textAlign:"right"},value:R.qty,onChange:V=>Y(Z,"qty",V.target.value)})}),e.jsx("td",{children:e.jsx("input",{type:"text",className:"form-control form-control-sm",value:R.totalWt,readOnly:!0})}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>H(Z),children:e.jsx("i",{className:"fas fa-trash"})})})]},Z))})]})})]}),e.jsxs("div",{className:"card-footer text-right",style:{marginTop:8},children:[e.jsxs("button",{type:"button",className:"btn btn-primary mr-2",onClick:J,children:[e.jsx("i",{className:"fas fa-save mr-1"})," Save"]}),e.jsxs("button",{type:"button",className:"btn btn-outline-secondary",onClick:l,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]}),y&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(Ce,{show:y,onClose:()=>_(!1),onSelect:se})}),e.jsx("style",{children:`
        /* Modal Backdrop Styling */
        .np-modal-backdrop {
          position: fixed;                    /* Fixed position overlay */
          inset: 0;                          /* Cover entire viewport */
          background: rgba(0,0,0,0.35);      /* Semi-transparent dark background */
          z-index: 2000;                     /* High z-index for overlay */
          display: flex;                     /* Flexbox for centering */
          align-items: center;               /* Vertical centering */
          justify-content: center;           /* Horizontal centering */
          padding: 1rem;                     /* Padding around modal */
        }
        
        /* Modal Container Styling */
        .np-modal { 
          width: 100%;                       /* Full width within constraints */
          z-index: 2001;                     /* Higher z-index than backdrop */
        }
        
        /* Table Cell Alignment */
        .table-sm td, .table-sm th { 
          vertical-align: middle;            /* Middle vertical alignment for table cells */
        }
      `})]}):null}function ta({code:s,setCode:l,filterName:o,setFilterName:t,filterCfc:n,setFilterCfc:d,filterType:p,setFilterType:u,filterRemark:r,setFilterRemark:m,implementationPeriod:i,setImplementationPeriod:x,destinationCode:c,setDestinationCode:j,destinationCountryCode:S,setDestinationCountryCode:N,country:D,setCountry:g,handleFilter:f,handleClearFilters:v,handleOpenNew:C}){const O=A=>{j(A);const B=Ye.find(k=>k.destCode===A);B?(N(B.code),g(B.country)):(N(""),g(""))};return e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"form-row mb-3",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Model Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{value:s,onChange:A=>l(A.target.value),className:"form-control form-control-sm",placeholder:"Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search code",onClick:()=>alert("Search code placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Model Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:o,onChange:A=>t(A.target.value),placeholder:"Name"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"CFC"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:A=>d(A.target.value),placeholder:"CFC"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Type"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:p,onChange:A=>u(A.target.value),placeholder:"Type"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Implementation Period"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:i,onChange:A=>x(A.target.value),placeholder:"Implementation Period"})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Destination Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",value:c,onChange:A=>O(A.target.value),placeholder:"Destination Code"}),e.jsx("div",{className:"input-group-append",children:e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-map-marker-alt"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Destination Country Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:S,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Country"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:D,readOnly:!0,placeholder:"Auto-filled",style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"form-group col-md-12",children:[e.jsx("label",{className:"small mb-1",children:"Remark"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:A=>m(A.target.value),placeholder:"Remark"})]}),e.jsxs("div",{className:"form-group col-md-12 text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:f,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:v,children:[e.jsx("i",{className:"fas fa-undo mr-1"})," Reset"]})]})]})})}function la({models:s,handleDeleteModel:l,handleEditModel:o,currentPage:t,setCurrentPage:n,pageSize:d}){const p=Math.ceil(s.length/d),u=s.slice((t-1)*d,t*d);return e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{className:"thead-light",style:{position:"sticky",top:0,zIndex:5,fontSize:"0.8rem"},children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:50,textAlign:"center"},children:"No"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Model Name"}),e.jsx("th",{style:{textAlign:"center"},children:"CFC"}),e.jsx("th",{style:{textAlign:"center"},children:"Type"}),e.jsx("th",{style:{textAlign:"center"},children:"Project Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Impl Period"}),e.jsx("th",{style:{textAlign:"center"},children:"Dest Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country Code"}),e.jsx("th",{style:{textAlign:"center"},children:"Country"}),e.jsx("th",{style:{textAlign:"center"},children:"Remark"}),e.jsx("th",{style:{textAlign:"center"},children:"Parts"}),e.jsx("th",{style:{width:120,textAlign:"center"},children:"Action"})]})}),e.jsx("tbody",{style:{fontSize:"0.8rem"},children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"13",className:"text-center",children:"No models found"})}):u.map((r,m)=>{var x;const i=Ye.find(c=>c.destCode===r.model_destination_code);return e.jsxs("tr",{children:[e.jsx("td",{children:(t-1)*d+m+1}),e.jsx("td",{style:{textAlign:"center"},children:r.model_code}),e.jsx("td",{style:{textAlign:"center"},children:r.model_name}),e.jsx("td",{style:{textAlign:"center"},children:r.model_cfc}),e.jsx("td",{style:{textAlign:"center"},children:r.model_type}),e.jsx("td",{style:{textAlign:"center"},children:(x=r.project)==null?void 0:x.project_code}),e.jsx("td",{style:{textAlign:"center"},children:r.model_implementation_period}),e.jsx("td",{style:{textAlign:"center"},children:r.model_destination_code}),e.jsx("td",{style:{textAlign:"center"},children:i?i.code:""}),e.jsx("td",{style:{textAlign:"center"},children:i?i.country:""}),e.jsx("td",{style:{textAlign:"center"},children:r.model_remark}),e.jsx("td",{style:{textAlign:"right"},children:Array.isArray(r.parts)?r.parts.length:0}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>o((t-1)*d+m),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>l((t-1)*d+m),children:e.jsx("i",{className:"fas fa-trash"})})]})]},m)})})]})}),e.jsx(_e,{currentPage:t,totalPages:p,totalItems:s.length,pageSize:d,onPageChange:n})]})}function aa(){const[s,l]=a.useState(""),[o,t]=a.useState(""),[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState(""),[S,N]=a.useState(""),[D,g]=a.useState(""),[f,v]=a.useState(""),[C,O]=a.useState(!1),[A,B]=a.useState(null),[k,L]=a.useState(null),[w,$]=a.useState([]),[y,_]=a.useState([]),[I,q]=a.useState(1),Q=10;a.useEffect(()=>{fetch("/packing-cost-fe/models.json").then(K=>{if(!K.ok)throw new Error("Network response was not ok");return K.json()}).then(K=>{const F=K.sort((U,T)=>new Date(T.model_implementation_period)-new Date(U.model_implementation_period));$(F),_([])}).catch(K=>{console.error("Error fetching models:",K)})},[]);function se(){if(!s&&!o&&!n&&!p&&!r&&!i&&!c&&!S){_([...w].reverse()),q(1);return}let K=w.filter(F=>{var U,T,E,b,h,P,z,M;return(!s||((U=F.model_code)==null?void 0:U.toLowerCase().includes(s.toLowerCase())))&&(!o||((T=F.project.project_code)==null?void 0:T.toLowerCase().includes(o.toLowerCase())))&&(!n||((E=F.model_name)==null?void 0:E.toLowerCase().includes(n.toLowerCase())))&&(!p||((b=F.model_cfc)==null?void 0:b.toLowerCase().includes(p.toLowerCase())))&&(!r||((h=F.model_type)==null?void 0:h.toLowerCase().includes(r.toLowerCase())))&&(!i||((P=F.model_remark)==null?void 0:P.toLowerCase().includes(i.toLowerCase())))&&(!c||((z=F.model_implementation_period)==null?void 0:z.toLowerCase().includes(c.toLowerCase())))&&(!S||((M=F.model_destination_code)==null?void 0:M.toLowerCase().includes(S.toLowerCase())))});_(K),q(1)}function H(){l(""),t(""),d(""),u(""),m(""),x(""),j(""),N(""),g(""),v(""),_([]),q(1)}function Y(){B(null),L(null),O(!0)}function W(){O(!1),B(null),L(null)}function J(V){var K,F,U,T,E,b,h,P;if(A!==null){const z=w.map((G,X)=>X===A?V:G);$(z);const M=y.map(G=>G.model_code===k.model_code&&G.model_name===k.model_name&&G.model_remark===k.model_remark?V:G);_(M)}else{const z=[V,...w];$(z),(!s||((K=V.model_code)==null?void 0:K.toLowerCase().includes(s.toLowerCase())))&&(!o||((F=V.project.project_code)==null?void 0:F.toLowerCase().includes(o.toLowerCase())))&&(!n||((U=V.model_name)==null?void 0:U.toLowerCase().includes(n.toLowerCase())))&&(!p||((T=V.model_cfc)==null?void 0:T.toLowerCase().includes(p.toLowerCase())))&&(!r||((E=V.model_type)==null?void 0:E.toLowerCase().includes(r.toLowerCase())))&&(!i||((b=V.model_remark)==null?void 0:b.toLowerCase().includes(i.toLowerCase())))&&(!c||((h=V.model_implementation_period)==null?void 0:h.toLowerCase().includes(c.toLowerCase())))&&(!S||((P=V.model_destination_code)==null?void 0:P.toLowerCase().includes(S.toLowerCase())))&&_([V,...y])}console.log("Model saved:",V),O(!1),B(null),L(null)}function R(V){const K=y[V],F=w.findIndex(U=>U.model_code===K.model_code&&U.model_name===K.model_name&&U.model_remark===K.model_remark);console.log("Editing model:",K),console.log("Original index:",F),B(F),L(K),O(!0)}function Z(V){if(!confirm("Delete this model?"))return;const K=y[V],F=w.findIndex(U=>U.model_code===K.model_code&&U.model_name===K.model_name&&U.model_remark===K.model_remark);if(F!==-1){const U=w.filter((E,b)=>b!==F);$(U);const T=y.filter((E,b)=>b!==V);_(T)}}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Model List"})}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:Y,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add New Model"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",title:"Upload",onClick:()=>alert("Upload placeholder"),children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",title:"Template",onClick:()=>alert("Download template placeholder"),children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsx(ta,{code:s,setCode:l,projectCode:o,setProjectCode:t,filterName:n,setFilterName:d,filterCfc:p,setFilterCfc:u,filterType:r,setFilterType:m,filterRemark:i,setFilterRemark:x,implementationPeriod:c,setImplementationPeriod:j,destinationCode:S,setDestinationCode:N,destinationCountryCode:D,setDestinationCountryCode:g,country:f,setCountry:v,handleFilter:se,handleClearFilters:H,handleOpenNew:Y}),e.jsx(la,{models:y,handleDeleteModel:Z,handleEditModel:R,currentPage:I,setCurrentPage:q,pageSize:Q})]}),e.jsx(sa,{show:C,onClose:W,onSave:J,initialData:k})]})}function na({show:s=!1,onClose:l=()=>{},onSave:o=()=>{},initialData:t=null}){const[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState(""),[S,N]=a.useState(""),[D,g]=a.useState(""),[f,v]=a.useState(""),[C,O]=a.useState(""),[A,B]=a.useState(""),[k,L]=a.useState(""),[w,$]=a.useState(""),[y,_]=a.useState(""),[I,q]=a.useState(""),[Q,se]=a.useState(""),[H,Y]=a.useState([]),[W,J]=a.useState(!1),[R,Z]=a.useState({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""}),[V,K]=a.useState(!1),[F,U]=a.useState("parent");a.useEffect(()=>{var M,G,X;s&&(t?(d(t.partNo||""),u(t.uniqueNo||""),m(t.suffixCode||""),x(t.partName||""),j(t.parentPartNo||""),N(t.suppCode||""),g(t.supplierName||""),v(t.supplierAddress||""),O(t.plantCode||""),B(t.uniqueNo2||""),L(((M=t.dimensions)==null?void 0:M.L)||""),$(((G=t.dimensions)==null?void 0:G.W)||""),_(((X=t.dimensions)==null?void 0:X.H)||""),q(t.weightPerPc||""),se(t.qtyBox||""),Y(t.childParts||[]),J(!1),Z({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})):(d(""),u(""),m(""),x(""),j(""),N(""),g(""),v(""),O(""),B(""),L(""),$(""),_(""),q(""),se(""),Y([]),J(!1),Z({partNo:"",suffix:"",uniqueNo:"",name:"",parent:"",supplierId:"",supplierName:"",L:"",W:"",H:"",wtPerPc:"",qty:""})))},[s,t]);function T(M,G,X){const te=Number(M)||0,oe=Number(G)||0,he=Number(X)||0;return!te||!oe||!he?"":(te*oe*he/1e6).toFixed(3)}function E(M,G){const X=Number(M)||0,te=Number(G)||0;return!X||!te?"":(X*te).toFixed(3)}function b(M){Y(G=>G.filter((X,te)=>te!==M))}function h(){if(!n.trim()){alert("Please enter Part No");return}const M={partNo:n,uniqueNo:p,suffixCode:r,partName:i,parentPartNo:c,suppCode:S,supplierName:D,supplierAddress:f,plantCode:C,uniqueNo2:A,dimensions:{L:k,W:w,H:y},weightPerPc:Number(I)||0,qtyBox:Number(Q)||0,totalWeight:Number(E(I,Q))||0,childParts:H.slice()};o(M)}function P(M){M&&j(M.partNo),K(!1)}function z(M){if(M&&M.length>0){const G=M.map(X=>({partNo:X.partNo||X[0]||"",suffix:X.suffix||X[1]||"",uniqueNo:X.uniqueNo||"",name:X.name||X[2]||"",parent:X.parent||"",supplierId:X.supplierId||"",supplierName:X.supplierName||X[3]||"",L:X.L||"",W:X.W||"",H:X.H||"",wtPerPc:X.wtPerPc||"",qty:X.qty||"",totalWt:X.totalWt||""}));Y(X=>[...X,...G])}K(!1)}return s?e.jsxs("div",{className:"np-modal-backdrop",onMouseDown:M=>{M.target===M.currentTarget&&l()},children:[e.jsxs("div",{className:"np-modal card card-outline card-primary",style:{maxWidth:980},children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Part New"})}),e.jsx("div",{className:"card-tools ml-auto",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:l,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6 d-flex",children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsx("input",{className:"form-control form-control-sm mb-1",value:n,onChange:M=>d(M.target.value)})]}),e.jsxs("div",{style:{width:"30%",marginLeft:8},children:[e.jsx("label",{className:"small mb-1",children:"Suffix Code"}),e.jsx("input",{className:"form-control form-control-sm mb-1",value:r,onChange:M=>m(M.target.value)})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Parent Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:c,onChange:M=>j(M.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>{U("parent"),K(!0)},children:e.jsx("i",{className:"fas fa-search"})})})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Unique No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:p,onChange:M=>u(M.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>alert("Flash/Generate Unique No"),children:e.jsx("i",{className:"fas fa-bolt"})})})]})]}),e.jsx("div",{className:"form-group col-md-6"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:S,onChange:M=>N(M.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-outline-secondary btn-sm",type:"button",onClick:()=>alert("Search Supplier placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",value:D,readOnly:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Address"}),e.jsx("input",{className:"form-control form-control-sm",value:f,readOnly:!0})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Plant Code"}),e.jsx("input",{className:"form-control form-control-sm",value:C,readOnly:!0})]})]}),e.jsxs("div",{className:"form-row align-items-end",children:[e.jsxs("div",{className:"form-group col-md-6 mb-0",children:[e.jsx("label",{className:"small",children:"Dimension (mm)"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-4 mb-0",children:[e.jsx("label",{className:"small mb-1",children:"Length"}),e.jsx("input",{className:"form-control form-control-sm",value:k,onChange:M=>L(M.target.value)})]}),e.jsxs("div",{className:"form-group col-md-4 mb-0",children:[e.jsx("label",{className:"small mb-1",children:"Width"}),e.jsx("input",{className:"form-control form-control-sm",value:w,onChange:M=>$(M.target.value)})]}),e.jsxs("div",{className:"form-group col-md-4 mb-0",children:[e.jsx("label",{className:"small mb-1",children:"Height"}),e.jsx("input",{className:"form-control form-control-sm",value:y,onChange:M=>_(M.target.value)})]})]})]}),e.jsx("div",{className:"form-group col-md-6 mb-0 d-flex align-items-end",children:e.jsxs("div",{style:{width:"100%"},children:[e.jsx("label",{className:"small mb-1",children:"Volume (m³)"}),e.jsx("input",{className:"form-control form-control-sm",value:T(k,w,y),readOnly:!0})]})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6 d-flex",children:[e.jsxs("div",{style:{flex:1,marginRight:8},children:[e.jsx("label",{className:"small mb-1",children:"Weight/PC (gr)"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:I,onChange:M=>q(M.target.value)})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"small mb-1",children:"Qty/Box"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:Q,onChange:M=>se(M.target.value)})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"small mb-1",children:"Total Weight (gr)"}),e.jsx("input",{className:"form-control form-control-sm",value:E(I,Q),readOnly:!0})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{U("child"),K(!0)},children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Child Part"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm table-bordered mb-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"No"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Unique No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Supplier ID"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Wt/PC"}),e.jsx("th",{children:"Qty"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:90},children:"Action"})]})}),e.jsx("tbody",{children:H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"15",className:"text-center py-4 text-muted",children:"No Data Found"})}):H.map((M,G)=>e.jsxs("tr",{children:[e.jsx("td",{children:G+1}),e.jsx("td",{children:M.partNo}),e.jsx("td",{children:M.suffix}),e.jsx("td",{children:M.uniqueNo}),e.jsx("td",{children:M.name}),e.jsx("td",{children:M.parent}),e.jsx("td",{children:M.supplierId}),e.jsx("td",{children:M.supplierName}),e.jsx("td",{children:M.L}),e.jsx("td",{children:M.W}),e.jsx("td",{children:M.H}),e.jsx("td",{children:M.wtPerPc}),e.jsx("td",{children:M.qty}),e.jsx("td",{children:M.totalWt}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>b(G),children:e.jsx("i",{className:"fas fa-trash"})})})]},G))})]})})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsxs("button",{className:"btn btn-primary mr-2",onClick:h,children:[e.jsx("i",{className:"fas fa-save mr-1"})," Save"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:l,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Cancel"]})]})]}),V&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3},children:e.jsx(Ce,{show:V,mode:F==="parent"?"single":"multi",onClose:()=>K(!1),onSelect:F==="parent"?P:z})}),e.jsx("style",{children:`
        .np-modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 2000; display:flex; align-items:center; justify-content:center; padding:1rem; }
        .np-modal { width: 100%; max-height: 95vh; overflow: auto; z-index: 2001; }
        .table-sm td, .table-sm th { vertical-align: middle; }
      `})]}):null}function Us({show:s=!1,onClose:l=()=>{},onConfirm:o=()=>{},title:t="Confirmation",message:n="Are you sure?"}){return s?e.jsxs("div",{className:"modal-backdrop",children:[e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t}),e.jsx("button",{type:"button",className:"close",onClick:l,children:e.jsx("span",{children:"×"})})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:n})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:l,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:o,children:"Delete"})]})]})}),e.jsx("style",{jsx:!0,children:`
        .modal-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1050;
        }
        .modal-dialog {
          width: 500px;
        }
      `})]}):null}const ra=Fs.map((s,l)=>({id:l,partNo:s[0],name:s[1],supplierName:s[2],suffix:"A",uniqueNo:`UN-00${l+1}`,parentPartNo:null,childParts:[],dimensions:{L:10,W:10,H:10},qtyBox:1,totalWeight:1}));function oa(){const[s,l]=a.useState(""),[o,t]=a.useState(""),[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(""),[c,j]=a.useState([]),[S,N]=a.useState([]),[D,g]=a.useState(!1),[f,v]=a.useState(null),[C,O]=a.useState(!1),[A,B]=a.useState(null),[k,L]=a.useState(!1),[w,$]=a.useState(null),[y,_]=a.useState(10),[I,q]=a.useState(1),Q=S.length;a.useEffect(()=>{j(ra),N([])},[]);function se(){if(!s&&!o&&!n&&!p&&!r&&!i){N([...c].reverse()),q(1);return}let h=c.filter(P=>{const z=!s||P.partNo.toLowerCase().includes(s.toLowerCase()),M=!o||P.uniqueNo&&P.uniqueNo.toLowerCase().includes(o.toLowerCase()),G=!n||P.supplierId&&P.supplierId.toLowerCase().includes(n.toLowerCase()),X=!p||P.supplierName.toLowerCase().includes(p.toLowerCase()),te=!r||P.parentPartNo&&P.parentPartNo.toLowerCase().includes(r.toLowerCase()),oe=!i||i==="Yes"&&P.childParts&&P.childParts.length>0||i==="No"&&(!P.childParts||P.childParts.length===0);return z&&M&&G&&X&&te&&oe});N(h),q(1)}function H(){l(""),t(""),d(""),u(""),m(""),x(""),N([]),q(1)}function Y(){v(null),g(!0)}function W(){v(null),g(!1)}function J(b){if(f){const h=c.map(z=>z.id===f.id?{...z,...b}:z);j(h);const P=S.map(z=>z.id===f.id?{...z,...b}:z);N(P)}else{const h={...b,id:c.length};j(P=>[h,...P])}g(!1),v(null)}function R(b){v(b),g(!0)}function Z(){alert("Upload placeholder")}function V(){alert("Template placeholder")}function K(b){B(b),O(!0)}function F(){if(A){const b=c.filter(P=>P.id!==A.id);j(b);const h=S.filter(P=>P.id!==A.id);N(h),B(null)}O(!1)}function U(b){q(b)}function T(b){$(b),L(!0)}function E(b){if(!b){L(!1),$(null);return}const h=Array.isArray(b)?b[0]:b;if(!h){L(!1),$(null);return}const P=h.partNo??h.part_number??h.code??"",z=h.partNo??h.partNoParent??h.parentPartNo??"";w==="partNo"?l(P):w==="parentPart"&&m(z||P),L(!1),$(null)}return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Part List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-success mr-2",onClick:Y,children:[e.jsx("i",{className:"fas fa-file mr-1"})," Add Part"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:Z,title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:V,title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Part No"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:s,onChange:b=>l(b.target.value),placeholder:"Part No"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Pick Part",onClick:()=>T("partNo"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Unique No"}),e.jsx("input",{className:"form-control form-control-sm",value:o,onChange:b=>t(b.target.value),placeholder:"Unique No"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier ID"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:n,onChange:b=>d(b.target.value),placeholder:"Supplier ID"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Search Supplier",onClick:()=>alert("search supplier placeholder"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{className:"form-control form-control-sm",value:p,onChange:b=>u(b.target.value),placeholder:"Supplier Name"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Parent Part"}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{className:"form-control form-control-sm",value:r,onChange:b=>m(b.target.value),placeholder:"Parent Part"}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",title:"Pick Parent Part",onClick:()=>T("parentPart"),children:e.jsx("i",{className:"fas fa-search"})})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Has Subparts?"}),e.jsxs("select",{className:"form-control form-control-sm",value:i,onChange:b=>x(b.target.value),children:[e.jsx("option",{value:"",children:"—"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})})]}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-right",children:[e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:se,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Search"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:H,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx("div",{className:"table-responsive mb-3",children:e.jsxs("table",{className:"table table-striped table-sm mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"#"}),e.jsx("th",{children:"Part No"}),e.jsx("th",{children:"Suffix"}),e.jsx("th",{children:"Unique No"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Parent Part No"}),e.jsx("th",{children:"Subparts"}),e.jsx("th",{children:"L"}),e.jsx("th",{children:"W"}),e.jsx("th",{children:"H"}),e.jsx("th",{children:"Qty/Box"}),e.jsx("th",{children:"Total Wt"}),e.jsx("th",{style:{width:110},children:"Action"})]})}),e.jsx("tbody",{children:S.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"text-center py-4 text-muted",children:"No Data Found"})}):S.slice((I-1)*y,I*y).map((b,h)=>{var P,z,M;return e.jsxs("tr",{children:[e.jsx("td",{children:(I-1)*y+h+1}),e.jsx("td",{children:b.partNo}),e.jsx("td",{children:b.suffixCode??b.suffix}),e.jsx("td",{children:b.uniqueNo}),e.jsx("td",{children:b.partName??b.name}),e.jsx("td",{children:b.supplierName}),e.jsx("td",{children:b.parentPartNo??b.parent}),e.jsx("td",{children:b.childParts?b.childParts.length:b.subparts?b.subparts.length:0}),e.jsx("td",{children:((P=b.dimensions)==null?void 0:P.L)??b.L}),e.jsx("td",{children:((z=b.dimensions)==null?void 0:z.W)??b.W}),e.jsx("td",{children:((M=b.dimensions)==null?void 0:M.H)??b.H}),e.jsx("td",{children:b.qtyBox??b.qty}),e.jsx("td",{children:b.totalWeight??b.totalWt}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>R(b),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>K(b),children:e.jsx("i",{className:"fas fa-trash"})})]})]},h)})})]})}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>U(1),children:"<<"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light mr-1",onClick:()=>U(Math.max(1,I-1)),children:"<"}),[...Array(Math.max(1,Math.ceil(Q/y))).keys()].map(b=>e.jsx("button",{type:"button",className:`btn btn-sm mr-1 ${I===b+1?"btn-primary":"btn-light"}`,onClick:()=>U(b+1),children:b+1},b)),e.jsx("button",{type:"button",className:"btn btn-sm btn-light ml-2",onClick:()=>U(Math.min(Math.ceil(Q/y)||1,I+1)),children:">"})]}),e.jsxs("div",{className:"form-inline small",children:[e.jsxs("span",{className:"mr-3",children:["Total: ",Q]}),e.jsxs("div",{className:"dropdown mr-2",children:[e.jsxs("button",{className:"btn btn-sm btn-light dropdown-toggle",type:"button","data-toggle":"dropdown",children:[y," per page"]}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>_(10),children:"10"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>_(25),children:"25"}),e.jsx("button",{className:"dropdown-item",type:"button",onClick:()=>_(50),children:"50"})]})]}),e.jsx("i",{className:"fas fa-chevron-down"})]})]})]})]}),e.jsx(na,{show:D,onClose:W,onSave:J,initialData:f}),e.jsx(Us,{show:C,onClose:()=>O(!1),onConfirm:F,title:"Deletion Confirmation",message:"Do you want to delete this data?"}),e.jsx(Ce,{show:k,onClose:()=>{L(!1),$(null)},onSelect:E})]})}const ia=[{code:"5062",name:"MENARA TERUS MAKMUR",address:"Jl. Jababeka XI Blok H-3 No.12, Kawasan Industri Jababeka, Cikarang, Bekasi"},{code:"722E",name:"TOYOTA MOTOR THAILAND",address:"186/1 Moo 1, Old Railway Road, Samrong Tai, Phra Pradaeng, Samut Prakan 10130, Thailand"},{code:"5453",name:"VELASTO INDONESIA",address:"Kp. Nagrog RT04 / RW02 Desa Kertamukti, Kecamatan Campaka, Purwakarta, Jawa Barat"},{code:"5365",name:"TOKAI RUBBER INDONESIA",address:"Jl. Mitra Timur II Blok E No. 13-14, Parungmulya, Ciampel, Karawang, Jawa Barat"},{code:"5150",name:"NAMICOH INDONESIA",address:"EJIP Industrial Park, Plot 6B-1, Cikarang Selatan, Bekasi, Jawa Barat"},{code:"5028",name:"GARUDA METAL UTAMA",address:"Jl. Kapuk Kamal Raya No.28, RT.6/RW.2, Kamal Muara, Kec. Penjaringan, Jkt Utara, Daerah Khusus Ibukota Jakarta 14470"},{code:"5335",name:"DINAR MAKMUR",address:"Jl. Raya Serang No.KM. 78, RW.3, Cijeruk, Kec. Kibin, Kabupaten Serang, Banten 42185"},{code:"5006",name:"NUSAHADI CITRAHARMONIS",address:"Jl. Raya Bekasi No.KM. 28, RT.005/RW.004, Medan Satria, Kecamatan Medan Satria, Kota Bks, Jawa Barat 17132"},{code:"5151",name:"SAKURA JAVA INDONESIA",address:"Kawasan Industri EJIP, Plot 8C/D, Cikarang Selatan, Bekasi, Jawa Barat 17530"},{code:"5010",name:"3 M INDONESIA",address:"Perkantoran Hijau Arkadia, Tower F, 8th Floor, Jl. TB Simatupang No.Kav. 88, RT.1/RW.1, Kebagusan, Ps. Minggu, Kota Jakarta Selatan, Daerah Khusus Ibukota Jakarta 12520"},{code:"5002",name:"ASALTA MANDIRI AGUNG",address:"Jl. Pulo Buaran Raya No.1A, RT.1/RW.8, Pulo Gadung, Kota Jakarta Timur, Daerah Khusus Ibukota Jakarta 13930"}];function ca({show:s=!1,onClose:l=()=>{},onSave:o=()=>{},initialData:t=null}){const[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState("");a.useEffect(()=>{s&&(t?(d(t.code||""),u(t.name||""),m(t.address||"")):(d(""),u(""),m("")))},[s,t]);function i(){if(!n.trim()||!p.trim()){alert("Please enter Supplier Code and Name");return}o({code:n,name:p,address:r})}return s?e.jsxs("div",{className:"modal-backdrop",children:[e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:t?"Edit Supplier":"Add Supplier"}),e.jsx("button",{type:"button",className:"close",onClick:l,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control",value:n,onChange:x=>d(x.target.value),readOnly:!!t})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Supplier Name"}),e.jsx("input",{type:"text",className:"form-control",value:p,onChange:x=>u(x.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("textarea",{className:"form-control",rows:"3",value:r,onChange:x=>m(x.target.value)})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:l,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Save"})]})]})}),e.jsx("style",{jsx:!0,children:`
        .modal-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1050;
        }
        .modal-dialog {
          width: 500px;
        }
      `})]}):null}function da(){const[s,l]=a.useState([]),[o,t]=a.useState([]),[n,d]=a.useState(""),[p,u]=a.useState(""),[r,m]=a.useState(""),[i,x]=a.useState(!1),[c,j]=a.useState(null),[S,N]=a.useState(!1),[D,g]=a.useState(null),[f,v]=a.useState(1),[C,O]=a.useState(5);a.useEffect(()=>{const I=ia.map((q,Q)=>({...q,id:Q}));l(I),t([])},[]);function A(){let I=s.filter(q=>(!n||q.code.toLowerCase().includes(n.toLowerCase()))&&(!p||q.name.toLowerCase().includes(p.toLowerCase()))&&(!r||q.address.toLowerCase().includes(r.toLowerCase())));t(I),v(1)}function B(){d(""),u(""),m(""),t([]),v(1)}function k(){j(null),x(!0)}function L(I){j(I),x(!0)}function w(I){if(c){const q=s.map(Q=>Q.id===c.id?{...c,...I}:Q);l(q),t(q)}else{const Q=[{...I,id:s.length},...s];l(Q),t(Q)}x(!1),j(null)}function $(I){g(I),N(!0)}function y(){if(D){const I=s.filter(q=>q.id!==D.id);l(I),t(I),g(null)}N(!1)}const _=o.slice((f-1)*C,f*C);return e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Supplier List"})}),e.jsxs("div",{className:"card-tools ml-auto",children:[e.jsxs("button",{className:"btn btn-sm btn-success mr-2",onClick:k,children:[e.jsx("i",{className:"fas fa-plus mr-1"})," Add Supplier"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mr-1",onClick:()=>alert("Upload placeholder"),title:"Upload",children:e.jsx("i",{className:"fas fa-cloud-upload-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>alert("Template placeholder"),title:"Template",children:e.jsx("i",{className:"fas fa-cloud-download-alt"})})]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Code"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:n,onChange:I=>d(I.target.value),placeholder:"Supplier Code"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Supplier Name"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:p,onChange:I=>u(I.target.value),placeholder:"Supplier Name"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"small mb-1",children:"Address"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:r,onChange:I=>m(I.target.value),placeholder:"Address"})]})})}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-right",children:[e.jsxs("button",{className:"btn btn-sm btn-primary mr-2",onClick:A,children:[e.jsx("i",{className:"fas fa-search mr-1"})," Filter"]}),e.jsxs("button",{className:"btn btn-sm btn-outline-secondary",onClick:B,children:[e.jsx("i",{className:"fas fa-times mr-1"})," Clear"]})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:40},children:"#"}),e.jsx("th",{children:"Supplier Code"}),e.jsx("th",{children:"Supplier Name"}),e.jsx("th",{children:"Address"}),e.jsx("th",{style:{width:110},children:"Action"})]})}),e.jsx("tbody",{children:_.length>0?_.map((I,q)=>e.jsxs("tr",{children:[e.jsx("td",{children:(f-1)*C+q+1}),e.jsx("td",{children:I.code}),e.jsx("td",{children:I.name}),e.jsx("td",{children:I.address}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary mr-1",onClick:()=>L(I),children:e.jsx("i",{className:"fas fa-pencil-alt"})}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>$(I),children:e.jsx("i",{className:"fas fa-trash"})})]})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-muted",children:"No Data Found"})})})]})}),e.jsx(_e,{currentPage:f,totalItems:o.length,itemsPerPage:C,onPageChange:v,onItemsPerPageChange:O})]})]}),e.jsx(ca,{show:i,onClose:()=>x(!1),onSave:w,initialData:c}),e.jsx(Us,{show:S,onClose:()=>N(!1),onConfirm:y,title:"Deletion Confirmation",message:"Do you want to delete this data?"})]})}function ma(){const s=Ie(),l=()=>{window.confirm("Are you sure you want to clear all saved data?")&&(localStorage.clear(),alert("All data cleared!"),s("/"))};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Settings"})})}),e.jsx("div",{className:"card-body",children:e.jsx("button",{className:"btn btn-danger",onClick:l,children:"Clear All Data"})})]})})}function ua({onSave:s}){const[l,o]=a.useState("inland"),[t,n]=a.useState("02.2025"),[d,p]=a.useState("47.7"),[u,r]=a.useState("86.177"),[m,i]=a.useState("86.177"),[x,c]=a.useState("60.577"),[j,S]=a.useState("64"),[N,D]=a.useState("86.177"),[g,f]=a.useState("106.835"),[v,C]=a.useState("63.249"),[O,A]=a.useState("1"),[B,k]=a.useState("0,31"),[L,w]=a.useState("6"),[$,y]=a.useState("0,31"),[_,I]=a.useState("5,83"),[q,Q]=a.useState(""),[se,H]=a.useState("0,60"),[Y,W]=a.useState("5"),[J,R]=a.useState(!1),Z=()=>{const F={tab:l,inland:{period:t,containerM3:d,rent40ft:u,rent20ft:m,milkrunRate:x,milkrunEff:j},labor:{period:t,dlRate:N,idlRate:g,facilityRate:v},manHour:{period:t,receiving:O,inspection:B,deliveryCourse:L,supplyPallet:$,sortingSupply:_,pickPacking:q,vanning:se,emptyBox:Y}};R(!0),typeof s=="function"&&s(F),setTimeout(()=>R(!1),1500)},V=()=>{n("02.2025"),p("47.7"),r("86.177"),i("86.177"),c("60.577"),S("64"),D("86.177"),f("106.835"),C("63.249"),A("1"),k("0,31"),w("6"),y("0,31"),I("5,83"),Q(""),H("0,60"),W("5")},K="form-control form-control-sm";return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsxs("div",{className:"card-header d-flex align-items-center",children:[e.jsx("h3",{className:"card-title mb-0",children:e.jsx("b",{children:"Parameters"})}),e.jsx("div",{className:"ml-auto btn-group btn-group-sm",children:["inland","labor","manHour","history"].map(F=>e.jsxs("button",{className:`btn btn-sm ${l===F?"btn-primary":"btn-outline-secondary"}`,onClick:()=>o(F),children:[F==="inland"&&"Inland",F==="labor"&&"Labor Cost",F==="manHour"&&"Man Hour",F==="history"&&"History"]},F))})]}),e.jsxs("div",{className:"card-body",children:[l==="inland"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:K,value:t,onChange:F=>n(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Container Volume M3"}),e.jsx("input",{className:K,value:d,onChange:F=>p(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"40 feet container rent rate"}),e.jsx("input",{className:K,value:u,onChange:F=>r(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"20 feet container rent rate"}),e.jsx("input",{className:K,value:m,onChange:F=>i(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Milkrun rate (per m3)"}),e.jsx("input",{className:K,value:x,onChange:F=>c(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Milkrun efficiency rate (%)"}),e.jsx("input",{className:K,value:j,onChange:F=>S(F.target.value)})]})]}),l==="labor"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:K,value:t,onChange:F=>n(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Direct Labor Rate (DL) Rp/Hour"}),e.jsx("input",{className:K,value:N,onChange:F=>D(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Indirect Labor Rate (IDL) Rp/M3"}),e.jsx("input",{className:K,value:g,onChange:F=>f(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Facility Others Rate"}),e.jsx("input",{className:K,value:v,onChange:F=>C(F.target.value)})]})]}),l==="manHour"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Period"}),e.jsx("input",{className:K,value:t,onChange:F=>n(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Receiving"}),e.jsx("input",{className:K,value:O,onChange:F=>A(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Inspection"}),e.jsx("input",{className:K,value:B,onChange:F=>k(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Delivery Course"}),e.jsx("input",{className:K,value:L,onChange:F=>w(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Supply (Pallet)"}),e.jsx("input",{className:K,value:$,onChange:F=>y(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Sorting & Supply (Non Pallet)"}),e.jsx("input",{className:K,value:_,onChange:F=>I(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Pick & Packing"}),e.jsx("input",{className:K,value:q,onChange:F=>Q(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Vanning"}),e.jsx("input",{className:K,value:se,onChange:F=>H(F.target.value)})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{children:"Empty Box/Pallet Return"}),e.jsx("input",{className:K,value:Y,onChange:F=>W(F.target.value)})]})]}),l==="history"&&e.jsx("div",{className:"text-center text-muted py-4",children:"History tab content will appear here."})]}),e.jsxs("div",{className:"card-footer text-right",children:[e.jsx("button",{className:"btn btn-primary mr-2",onClick:Z,children:"Save"}),e.jsx("button",{className:"btn btn-secondary",onClick:V,children:"Cancel"}),J&&e.jsx("span",{className:"ml-3 text-success",children:"Parameters saved"})]})]})})}function ha(){const s=Ie(),l=()=>{s(-1)};return e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Notification Detail"}),e.jsx("div",{className:"card-tools",children:e.jsx("button",{type:"button",className:"btn btn-tool",onClick:l,children:e.jsx("i",{className:"fas fa-times"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date :"})," 20 Feb 2025 13:10"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"From :"})," Jonathan Hairi"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dept :"})," PPMD"]}),e.jsx("hr",{}),e.jsx("p",{children:"Harus diganti Qty menjadi 2"}),e.jsx("p",{children:"Agar lebih aman ketika dikirim ke supplier lain"}),e.jsx("p",{children:"dan diganti Material No nya dengan Mat No : #12312312 00"}),e.jsx("p",{children:"dari supplier Materindo Indigo"})]})]})})}function je({children:s}){return Ne().user?s:e.jsx(pt,{to:"/login",replace:!0})}function xa(){const s=Ne(),o=Ps().pathname==="/login",t=!!s.user&&!o;return e.jsxs("div",{className:"wrapper",children:[t&&e.jsx(Gl,{}),t&&e.jsx(Vl,{}),e.jsx("div",{className:t?"content-wrapper":"",children:e.jsxs(xt,{children:[e.jsx(re,{path:"/login",element:e.jsx(Jl,{})}),e.jsx(re,{path:"/",element:e.jsx(je,{children:e.jsx(pa,{})})}),e.jsx(re,{path:"/projects",element:e.jsx(je,{children:e.jsx(ea,{})})}),e.jsx(re,{path:"/models",element:e.jsx(je,{children:e.jsx(aa,{})})}),e.jsx(re,{path:"/parts",element:e.jsx(je,{children:e.jsx(oa,{})})}),e.jsx(re,{path:"/suppliers",element:e.jsx(je,{children:e.jsx(da,{})})}),e.jsx(re,{path:"/packing/cps",element:e.jsx(il,{})}),e.jsx(re,{path:"/packing/dpi",element:e.jsx(Dl,{})}),e.jsx(re,{path:"/packing/CalculatePackingCost",element:e.jsx(Hl,{})}),e.jsx(re,{path:"/packing/ComparisonPage",element:e.jsx(Ul,{})}),e.jsx(re,{path:"/module-type",element:e.jsx(Ss,{})}),e.jsx(re,{path:"/material",element:e.jsx(Ss,{})}),e.jsx(re,{path:"/settings",element:e.jsx(je,{children:e.jsx(ma,{})})}),e.jsx(re,{path:"/params",element:e.jsx(je,{children:e.jsx(ua,{})})}),e.jsx(re,{path:"/notification-detail",element:e.jsx(je,{children:e.jsx(ha,{})})})]})}),t&&e.jsxs("footer",{className:"main-footer",children:[e.jsxs("div",{className:"float-right d-none d-sm-block",children:[e.jsx("b",{children:"Version"})," 0.1.0"]}),e.jsxs("strong",{children:["© ",new Date().getFullYear()," My Company."]})]})]})}function pa(){var l,o,t;const s=Ne();return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"content-header",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-sm-6",children:[e.jsx("h1",{children:"Dashboard"}),e.jsxs("small",{children:["User: ",(l=s.user)==null?void 0:l.username," | Dept: ",(o=s.user)==null?void 0:o.department," | Role: ",(t=s.user)==null?void 0:t.role]})]})})})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"container-fluid",children:e.jsx(zl,{})})})]})}const ja="/packing-cost-fe/";ut(document.getElementById("root")).render(e.jsx(de.StrictMode,{children:e.jsx(ht,{basename:ja,children:e.jsx(Dt,{children:e.jsx(xa,{})})})}));
